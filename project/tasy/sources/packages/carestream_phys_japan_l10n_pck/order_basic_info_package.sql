-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


		/** 
   +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
	Order Basic Information
	unique_key :- prescription number / encounter number
	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
   **/
CREATE OR REPLACE PROCEDURE carestream_phys_japan_l10n_pck.order_basic_info ( unique_key_p text ) AS $body$
DECLARE


        c02 CURSOR FOR
        SELECT
            1 order_mode,
            ' ' requested_disease_name_1,
            ' ' requested_disease_name_2,
            ' ' requested_disease_name_3,
            ' ' requested_disease_name,
            ' ' exam_reason_1,
            ' ' exam_reason_2,
            ' ' exam_reason_3,
            ' ' exam_reason,
            1 request_classification,
            ' ' result_classification,
            ' ' department_flag_1,
            ' ' department_flag_5,
            ' ' order_comment,
            ' ' operator_id,
            ' ' insurance_code,
            coalesce(to_char('', 'YYYYMMDD'),' ') exam_start_date,
            coalesce(to_char('', 'YYYYMMDD'),' ') exam_end_date,
            coalesce(to_char('', 'HH24MISS'),' ') exam_start_time,
            coalesce(to_char('', 'HH24MISS'),' ') exam_end_time,
            ' ' slot_classification
;


BEGIN
        for r_c02 in c02 loop
            begin
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.order_mode, 1); -- ORDER_MODE
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.requested_disease_name_1, 7); -- IRAI_BYO_CD1
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.requested_disease_name_2, 7); -- IRAI_BYO_CD2
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.requested_disease_name_3, 7); -- IRAI_BYO_CD3
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.requested_disease_name, 256); -- IRAI_BYOMEI
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.exam_reason_1, 4); -- KNS_PRPS_CD1
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.exam_reason_2, 4); -- KNS_PRPS_CD2
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.exam_reason_3, 4); -- KNS_PRPS_CD3
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.exam_reason, 256); -- KNS_PURPOSE
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.request_classification, 1); -- IRAI_KBN
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.result_classification, 1); -- BUMON_FLG1
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.department_flag_1, 1); -- BUMON_FLG1
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.department_flag_1, 3); -- BUMON_FLG2,3,4 unused
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.department_flag_1, 1); -- BUMON_FLG5
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.order_comment, 1024); -- ODR_COMMENT
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.operator_id, 10); -- OP_ID 
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.insurance_code, 2); -- BYOTO_NAME
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.exam_start_date, 8); -- START_DATE
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.exam_end_date, 8); -- END_DATE
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.exam_start_time, 6); -- EXEC_TIME
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.exam_end_date, 6); -- YK_ED_TM
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL carestream_phys_japan_l10n_pck.append_text(r_c02.slot_classification, 1); -- YK_WK_KBN
            end;
        end loop;
    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE carestream_phys_japan_l10n_pck.order_basic_info ( unique_key_p text ) FROM PUBLIC;
