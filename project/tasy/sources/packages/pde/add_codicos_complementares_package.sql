-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pde.add_codicos_complementares (CD_ONTOLOGIA_W PDE_ATTRIBUTE.CD_ONTOLOGIA%TYPE) AS $body$
BEGIN
        IF ((trim(both CD_ONTOLOGIA_W) IS NOT NULL AND (trim(both CD_ONTOLOGIA_W))::text <> '')) THEN
          JSON_ATRIBUTO_W := PHILIPS_JSON();
          JSON_ATRIBUTO_W.PUT('code', CD_ONTOLOGIA_W);
          JSON_ATRIBUTO_W.PUT('system', 'SNM');
          JSON_ATRIBUTO_W.PUT('date',
                              TO_CHAR(clock_timestamp(), 'MM/DD/YYYY HH24:MI:SS'));

          JSON_ATRIBUTOS_P.APPEND(JSON_ATRIBUTO_W.TO_JSON_VALUE());
        END IF;
      END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pde.add_codicos_complementares (CD_ONTOLOGIA_W PDE_ATTRIBUTE.CD_ONTOLOGIA%TYPE) FROM PUBLIC;
