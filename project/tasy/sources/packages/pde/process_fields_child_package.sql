-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pde.process_fields_child (NM_TAB_CHILD_P text) AS $body$
DECLARE

      NM_CONS_TAB_CHILD_W PDE_ATTRIBUTE.NM_FK_TABELA_FK%TYPE;

BEGIN
      SELECT PA.NM_FK_TABELA_FK
        INTO STRICT NM_CONS_TAB_CHILD_W
        FROM PDE_ATTRIBUTE PA
       WHERE coalesce(PA.IE_SITUACAO, 'A') = 'A'
         AND PA.NM_TABELA = NM_TAB_CHILD_P
         AND (PA.NM_ATRIBUTO IS NOT NULL AND PA.NM_ATRIBUTO::text <> '')
         AND (PA.NM_TABELA_FK IS NOT NULL AND PA.NM_TABELA_FK::text <> '')
         AND (PA.NM_FK_TABELA_FK IS NOT NULL AND PA.NM_FK_TABELA_FK::text <> '')  LIMIT 1;

      CALL pde.process_fk_values(NM_TAB_CHILD_P, NM_CONS_TAB_CHILD_W);
    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pde.process_fields_child (NM_TAB_CHILD_P text) FROM PUBLIC;
