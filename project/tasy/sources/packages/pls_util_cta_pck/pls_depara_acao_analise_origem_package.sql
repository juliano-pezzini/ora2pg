-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


-- Funcao criada para fazer o de-para entre a acao da analise (tabela pls_acao_analise) e a origem da acao da analise (ira deixar de existir no futuro, dominio 5527),

-- Na verdade a tabela pls_acao_analise e mais abrangente do que o seu nome diz. Ela tera as acoes das contas medicas de uma forma geral, ou seja, analise, gestao de contas medicas, etc.



CREATE OR REPLACE FUNCTION pls_util_cta_pck.pls_depara_acao_analise_origem ( cd_acao_analise_p pls_acao_analise.cd_acao%type) RETURNS varchar AS $body$
DECLARE


ie_origem_analise_w	varchar(5);

BEGIN

ie_origem_analise_w := null;

-- os que possuem valor nulo, ainda nao estao implementados

case cd_acao_analise_p
	-- Ajustar valor do item

	when '1' then
		ie_origem_analise_w := '7';
	-- Alterar valor Tx intercambio

	-- foi implementado desta forma, e usada a acao de Ajustar valor do item

	when '2' then
		ie_origem_analise_w := '7';
	-- Aceitar valor calculado

	when '3' then
		ie_origem_analise_w := '4';
	-- Aceitar valor apresentado

	when '4' then
		ie_origem_analise_w := '5';
	-- Melhor valor

	when '5' then
		ie_origem_analise_w := '6';
end case;

return ie_origem_analise_w;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 IMMUTABLE;
-- REVOKE ALL ON FUNCTION pls_util_cta_pck.pls_depara_acao_analise_origem ( cd_acao_analise_p pls_acao_analise.cd_acao%type) FROM PUBLIC;
