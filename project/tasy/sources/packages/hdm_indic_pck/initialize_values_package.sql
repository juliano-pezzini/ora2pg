-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

	
	/*--------------------------------------------------------------------------------------------------------------------------------------------
	|			INITIALIZATION						    |
	*/

	/* Define global variables that will be necessary */




CREATE OR REPLACE PROCEDURE hdm_indic_pck.initialize_values ( cd_estabelecimento_p bigint, dt_start_ref_p timestamp, dt_end_ref_p timestamp, si_indicator_p text, nm_usuario_p text) AS $body$
BEGIN
		PERFORM set_config('hdm_indic_pck.cd_estabelecimento_w', cd_estabelecimento_p, false);
		PERFORM set_config('hdm_indic_pck.si_indicator_w', si_indicator_p, false);
		PERFORM set_config('hdm_indic_pck.nm_usuario_w', nm_usuario_p, false);
		PERFORM set_config('hdm_indic_pck.dt_start_w', pkg_date_utils.start_of(dt_start_ref_p, 'DAY'), false);
		PERFORM set_config('hdm_indic_pck.dt_end_w', pkg_date_utils.end_of(dt_end_ref_p, 'DAY'), false);
		PERFORM set_config('hdm_indic_pck.ds_unique_w', obter_desc_expressao(303885), false);

		CALL CALL hdm_indic_pck.clear_data();
		
		CALL hdm_indic_pck.start_population();

	END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE hdm_indic_pck.initialize_values ( cd_estabelecimento_p bigint, dt_start_ref_p timestamp, dt_end_ref_p timestamp, si_indicator_p text, nm_usuario_p text) FROM PUBLIC;
