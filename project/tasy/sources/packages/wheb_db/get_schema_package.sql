-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION wheb_db.get_schema (schema_p text) RETURNS varchar AS $body$
DECLARE

	schema_w varchar(255);
	
BEGIN
	IF coalesce(schema_p::text, '') = '' THEN
	  RETURN NULL;
	END IF;

	schema_w := schema_p;
	WHILE position('..' in schema_w) > 0
	LOOP
	  schema_w := REPLACE(schema_p, '..', '.');
	END LOOP;

	IF SUBSTR(schema_w, LENGTH(schema_w), 1) <> '.' THEN
	  schema_w := schema_w || '.';
	END IF;

	RETURN schema_w;
	END;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION wheb_db.get_schema (schema_p text) FROM PUBLIC;
