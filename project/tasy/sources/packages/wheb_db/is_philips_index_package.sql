-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION wheb_db.is_philips_index (nm_tabela_p text, nm_indice_p text) RETURNS boolean AS $body$
DECLARE


	count_w bigint	:= 1;
	DS_SEPARADOR_W		varchar(10) 		:= ';';
	DS_SQL_DINAMICO_W	varchar(1000)	    := '';
	
BEGIN

	/*DS_SEPARADOR_W	   := OBTER_SEPARADOR_BV; VER OS 2201624, 2199111

	DS_SQL_DINAMICO_W :=	'SELECT	COUNT(*) ' || 
							' from	dual '  || 
							' where	exists (	SELECT	1 ' ||
												' FROM	INDICE '||
												' WHERE	NM_TABELA 		= UPPER(:NM_TABELA) '|| 
												' AND		NM_INDICE 	= UPPER(:NM_INDICE) '|| 
												' union ' ||
												' SELECT	1 ' ||
												' FROM	TASY_VERSAO.INDICE ' ||
												' WHERE	NM_TABELA 		= UPPER(:NM_TABELA) ' ||
												' AND		NM_INDICE 	= UPPER(:NM_INDICE))';
						
											
	obter_valor_dinamico_bv(DS_SQL_DINAMICO_W,
				'NM_TABELA=' || nm_tabela_p 	|| ';' ||
				'NM_INDICE=' || nm_indice_p,
				count_w, 'N');		*/
							

		

	RETURN count_w > 0;
	END;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION wheb_db.is_philips_index (nm_tabela_p text, nm_indice_p text) FROM PUBLIC;
