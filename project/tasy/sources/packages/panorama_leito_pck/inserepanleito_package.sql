-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE panorama_leito_pck.inserepanleito (pIeConcluido text, nr_seq_interno_p bigint) AS $body$
BEGIN
        for	r_c_leito in current_setting('panorama_leito_pck.c_leito')::CURSOR(nr_seq_interno_p(nr_seq_interno_p) loop
            insert into w_pan_leito(cd_setor_atendimento,
                    cd_unidade_basica,
                    cd_unidade_compl,
                    ie_adaptado,
                    ie_temporario,
                    ie_backup,
                    ie_sexo,
                    cd_exp_status,
                    cd_exp_adaptado,
                    cd_exp_temporario,
                    cd_exp_backup,
                    cd_exp_sexo,
                    ds_status,
                    nr_seq_texto_adaptado,
                    nr_seq_texto_temporario,
                    nr_seq_texto_backup,
                    ds_sexo,
                    ie_concluido,
                    nr_seq_interno,
                    ie_status_unidade,
                    ie_sem_acomodacao,
                    ds_unidade_atend,
                    ie_emprestado,
					dt_atualizacao)
            values (r_c_leito.cd_setor_atendimento,
                    r_c_leito.cd_unidade_basica,
                    r_c_leito.cd_unidade_compl,
                    r_c_leito.ie_adaptado,
                    r_c_leito.ie_temporario,
                    r_c_leito.ie_backup,
                    r_c_leito.ie_sexo,
                    r_c_leito.cd_exp_status,
                    r_c_leito.cd_exp_adaptado,
                    r_c_leito.cd_exp_temporario,
                    r_c_leito.cd_exp_backup,
                    r_c_leito.cd_exp_sexo,
                    r_c_leito.ds_status,
                    r_c_leito.nr_seq_texto_adaptado,
                    r_c_leito.nr_seq_texto_temporario,
                    r_c_leito.nr_seq_texto_backup,
                    r_c_leito.ds_sexo,
                    pIeConcluido,
                    r_c_leito.nr_seq_interno,
                    r_c_leito.ie_status_unidade,
                    r_c_leito.ie_sem_acomodacao,
                    r_c_leito.ds_unidade_atend,
                    r_c_leito.ie_emprestado,
					clock_timestamp());
        end loop;

        commit;
      END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE panorama_leito_pck.inserepanleito (pIeConcluido text, nr_seq_interno_p bigint) FROM PUBLIC;
