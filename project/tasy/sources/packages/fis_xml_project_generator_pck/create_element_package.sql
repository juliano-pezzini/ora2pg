-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE fis_xml_project_generator_pck.create_element (nr_seq_apres_p bigint, nr_seq_proj_p text, ds_element_p text, username_p text, nr_seq_element_p INOUT text) AS $body$
DECLARE


        seq_attr_prev_w  varchar(255);
        nr_seq_element_w xml_elemento.nr_sequencia%type;

    
BEGIN
        seq_attr_prev_w := fis_xml_project_generator_pck.get_attribute(ds_element_p, seq_attr_prev_w);

        $if $$tasy_local_dict=true $then
        nr_seq_element_w := get_remote_sequence('seq:xml_elemento_seq');
        $else
        select nextval('xml_elemento_seq') into STRICT nr_seq_element_w;
        $end

        insert into xml_elemento(nr_sequencia,
             nr_seq_apresentacao,
             nr_seq_projeto,
             nm_elemento,
             ds_elemento,
             ds_cabecalho,
             ds_sql,
             ds_grupo,
             nm_usuario,
             dt_atualizacao,
             ie_criar_nulo,
             nm_usuario_nrec,
             dt_atualizacao_nrec,
             ie_tipo_elemento,
             ie_criar_elemento,
             ie_tipo_complexo,
             ds_sql_2,
             ds_namespace,
             qt_min_ocor,
             qt_max_ocor,
             nr_seq_item_xsd)
        values (nr_seq_element_w,
             nr_seq_apres_p,
             nr_seq_proj_p,
             ds_element_p,
             ds_element_p,
             null,
             '',
             null,
             username_p,
             clock_timestamp(),
             'S',
             username_p,
             clock_timestamp(),
             'E',
             'S',
             'S',
             null,
             null,
             null,
             null,
             null);
        commit;

        CALL fis_xml_project_generator_pck.update_attribute_prev(nr_seq_element_w, seq_attr_prev_w);
        nr_seq_element_p := nr_seq_element_w;

    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE fis_xml_project_generator_pck.create_element (nr_seq_apres_p bigint, nr_seq_proj_p text, ds_element_p text, username_p text, nr_seq_element_p INOUT text) FROM PUBLIC;
