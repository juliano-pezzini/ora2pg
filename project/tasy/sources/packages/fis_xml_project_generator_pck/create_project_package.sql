-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE fis_xml_project_generator_pck.create_project (name_p text, header_p text, definition_p text, username_p text, nr_seq_proj_p INOUT text) AS $body$
DECLARE


        nr_seq_proj_w xml_projeto.nr_sequencia%type;

    
BEGIN
        $if $$tasy_local_dict=true $then
        nr_seq_proj_w := get_remote_sequence('seq:xml_projeto_seq');
        $else
        select nextval('xml_projeto_seq') into STRICT nr_seq_proj_w;
        $end

        insert into xml_projeto(nr_sequencia,
             ds_projeto,
             dt_atualizacao,
             nm_usuario,
             dt_atualizacao_nrec,
             nm_usuario_nrec,
             ds_cabecalho,
             ds_observacao,
             ie_tipo_complexo,
             nr_seq_proj_complexo,
             ie_hosp_pls,
             ds_versao,
             ie_tiss,
             ie_situacao,
             ie_gerar_quebra)
        values (nr_seq_proj_w,
             name_p,
             clock_timestamp(),
             username_p,
             clock_timestamp(),
             username_p,
             header_p,
             definition_p,
             'N',
             null,
             'H',
             null,
             'S',
             'A',
             null);
        commit;

        nr_seq_proj_p := nr_seq_proj_w;

    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE fis_xml_project_generator_pck.create_project (name_p text, header_p text, definition_p text, username_p text, nr_seq_proj_p INOUT text) FROM PUBLIC;
