-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


	--###################################################################################################




CREATE OR REPLACE FUNCTION sla_dashboard_pck.obter_se_estouro_sla ( ie_indicador_p bigint, ie_tipo_atraso_p bigint, sla_detail_p text) RETURNS bigint AS $body$
DECLARE


	qt_estouro_w	bigint := 0;

	
BEGIN

	if (ie_indicador_p = '3' and ie_tipo_atraso_p = '3') then
		begin
		if (sla_detail_p in ( 'CSFP','CSFNP','COSP','COSNP','PSFNP')) then
			qt_estouro_w	:= 1;
		end if;
		end;
	end if;

	if (ie_indicador_p = '4' and ie_tipo_atraso_p = '4' ) then
		begin
		if (sla_detail_p in ( 'CSFP','CSFNP','PSFNP')) then
			qt_estouro_w	:= 1;
		end if;

		end;
	end if;

	return	qt_estouro_w;

	END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION sla_dashboard_pck.obter_se_estouro_sla ( ie_indicador_p bigint, ie_tipo_atraso_p bigint, sla_detail_p text) FROM PUBLIC;
