-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pls_rec_glosa_emp_pck.inserir_rpr_guia_item (nm_usuario_p pls_rpr_guia_item_imp.nm_usuario%type, nr_seq_rpr_recibo_p pls_rpr_guia_item_imp.nr_seq_rpr_recibo%type, nr_guia_operadora_p pls_rpr_guia_item_imp.nr_guia_operadora%type, nr_guia_prestador_p pls_rpr_guia_item_imp.nr_guia_prestador%type, cd_senha_p pls_rpr_guia_item_imp.cd_senha%type, dt_realizacao_p pls_rpr_guia_item_imp.dt_realizacao%type, dt_final_p pls_rpr_guia_item_imp.dt_final%type, cd_tabela_p pls_rpr_guia_item_imp.cd_tabela%type, cd_procedimento_p pls_rpr_guia_item_imp.cd_procedimento%type, ds_procedimento_p pls_rpr_guia_item_imp.ds_procedimento%type, cd_glosa_p pls_rpr_guia_item_imp.cd_glosa%type, vl_recursado_p pls_rpr_guia_item_imp.vl_recursado%type, vl_acatado_p pls_rpr_guia_item_imp.vl_acatado%type, ds_justificativa_prest_p pls_rpr_guia_item_imp.ds_justificativa_prest%type, ds_justificativa_oper_p pls_rpr_guia_item_imp.ds_justificativa_oper%type, nr_seq_item_p pls_rpr_guia_item_imp.nr_seq_item%type, nr_sequencia_p INOUT pls_rpr_guia_item_imp.nr_sequencia%type) AS $body$
DECLARE

/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade:	Realizar a insersao de informacoes na importacao da resposta do recurso de glosa em xml

-------------------------------------------------------------------------------------------------------------------

Locais de chamada direta: 
[]   Objetos do dicionario [ X] Tasy (Delphi/Java) [  ] Portal [  ]  Relatorios [ ] Outros:
-------------------------------------------------------------------------------------------------------------------

Pontos de atencao:

	Essa rotina foi feita apenas para a importacao de XML, que e realizada de forma
	unitaria, conforme a leitura do arquivo. Ela nao e otimizada para utilizar em 
	processamento em lote.
	
	
Alteracoes:
-------------------------------------------------------------------------------------------------------------------

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */


BEGIN

insert into pls_rpr_guia_item_imp(	nr_sequencia,				dt_atualizacao,			nm_usuario,
					dt_atualizacao_nrec,			nm_usuario_nrec,		nr_seq_rpr_recibo,
					nr_guia_operadora,			nr_guia_prestador,		cd_senha,
					dt_realizacao,				dt_final,			cd_tabela,
					cd_procedimento,			ds_procedimento,		cd_glosa,
					vl_recursado,				vl_acatado,			ds_justificativa_prest,
					ds_justificativa_oper,			nr_seq_item)
			values (	nextval('pls_rpr_guia_item_imp_seq'),	clock_timestamp(),			nm_usuario_p,
					clock_timestamp(),				nm_usuario_p,			nr_seq_rpr_recibo_p,
					nr_guia_operadora_p,			nr_guia_prestador_p,		cd_senha_p,
					dt_realizacao_p,			dt_final_p,			cd_tabela_p,
					cd_procedimento_p,			ds_procedimento_p,		cd_glosa_p,
					vl_recursado_p,				vl_acatado_p,			ds_justificativa_prest_p,
					ds_justificativa_oper_p,		nr_seq_item_p) returning nr_sequencia into nr_sequencia_p;
					
END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_rec_glosa_emp_pck.inserir_rpr_guia_item (nm_usuario_p pls_rpr_guia_item_imp.nm_usuario%type, nr_seq_rpr_recibo_p pls_rpr_guia_item_imp.nr_seq_rpr_recibo%type, nr_guia_operadora_p pls_rpr_guia_item_imp.nr_guia_operadora%type, nr_guia_prestador_p pls_rpr_guia_item_imp.nr_guia_prestador%type, cd_senha_p pls_rpr_guia_item_imp.cd_senha%type, dt_realizacao_p pls_rpr_guia_item_imp.dt_realizacao%type, dt_final_p pls_rpr_guia_item_imp.dt_final%type, cd_tabela_p pls_rpr_guia_item_imp.cd_tabela%type, cd_procedimento_p pls_rpr_guia_item_imp.cd_procedimento%type, ds_procedimento_p pls_rpr_guia_item_imp.ds_procedimento%type, cd_glosa_p pls_rpr_guia_item_imp.cd_glosa%type, vl_recursado_p pls_rpr_guia_item_imp.vl_recursado%type, vl_acatado_p pls_rpr_guia_item_imp.vl_acatado%type, ds_justificativa_prest_p pls_rpr_guia_item_imp.ds_justificativa_prest%type, ds_justificativa_oper_p pls_rpr_guia_item_imp.ds_justificativa_oper%type, nr_seq_item_p pls_rpr_guia_item_imp.nr_seq_item%type, nr_sequencia_p INOUT pls_rpr_guia_item_imp.nr_sequencia%type) FROM PUBLIC;
