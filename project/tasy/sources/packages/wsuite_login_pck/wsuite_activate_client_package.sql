-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE wsuite_login_pck.wsuite_activate_client ( id_subject_p wsuite_usuario.id_subject%type, id_client_p client.id%type, vl_activation_p subject_client.vl_activation_status%type) AS $body$
DECLARE

					
/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finality: activate or deactivate the subject clients.
-------------------------------------------------------------------------------------------------------------------

Locais de chamada direta:
[  ]  Objetos do dicionario [ x] Tasy (Delphi/HTML5) [  ] Portal [  ]  Relatorios [ ] Outros:
 ------------------------------------------------------------------------------------------------------------------

Caution:
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */



BEGIN

if (id_subject_p IS NOT NULL AND id_subject_p::text <> '' AND id_client_p IS NOT NULL AND id_client_p::text <> '') then

	update	subject_client
	set	vl_activation_status = vl_activation_p,
		dt_modification = clock_timestamp()
	where	id_subject = id_subject_p
	and	id_client  = id_client_p;

	commit;
end if;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE wsuite_login_pck.wsuite_activate_client ( id_subject_p wsuite_usuario.id_subject%type, id_client_p client.id%type, vl_activation_p subject_client.vl_activation_status%type) FROM PUBLIC;
