-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION painel_grid_dinamico_pck.get_nm_atributo (ds_atributo_p text, nr_seq_sql_p bigint default null) RETURNS varchar AS $body$
DECLARE


nm_atributo_w 	varchar(255);

cont_w smallint;


BEGIN

	select	max(b.nm_atributo)
	into STRICT	nm_atributo_w
	from	painel_pa_sql a,
			painel_pa_sql_campo b
	where	a.nr_sequencia = b.nr_seq_sql
	and     a.nr_Sequencia = coalesce(nr_seq_sql_p, a.nr_Sequencia)
	and		a.ie_situacao = 'A'
	and obter_painel_dinamico(a.nr_sequencia) = 'S'
	and     b.ds_atributo = ds_atributo_p;

	return nm_atributo_w;

end;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION painel_grid_dinamico_pck.get_nm_atributo (ds_atributo_p text, nr_seq_sql_p bigint default null) FROM PUBLIC;
