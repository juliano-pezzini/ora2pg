-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION timezone_utils.dateattime (datePart timestamp, timePart timestamp, timeZone text) RETURNS timestamp AS $body$
BEGIN
        return timezone_utils.startofday(datePart, timeZone) +  NUMTODSINTERVAL(timezone_utils.getsecondsfromhhmmss(to_char(timePart, 'hh24:mi:ss')), 'SECOND');

        -- Below code is how it was without timezone support
        --return to_date(to_char(datePart, 'yyyy/mm/dd') || ' ' || to_char(timePart, 'hh24:mi:ss'), 'yyyy/mm/dd hh24:mi:ss');
    end;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 IMMUTABLE;
-- REVOKE ALL ON FUNCTION timezone_utils.dateattime (datePart timestamp, timePart timestamp, timeZone text) FROM PUBLIC;
