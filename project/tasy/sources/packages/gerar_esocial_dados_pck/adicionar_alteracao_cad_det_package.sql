-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE gerar_esocial_dados_pck.adicionar_alteracao_cad_det ( nm_campo_p text, ds_valor_anterior_p text, ds_valor_atual_p text, esocial_altera_cad_det_p INOUT t_esocial_altera_cad_det) AS $body$
BEGIN

	if (ds_valor_anterior_p <> ds_valor_atual_p) then
		current_setting('gerar_esocial_dados_pck.item_esocial_cad_det_w')::esocial_altera_cad_det%rowtype.nm_campo			:= nm_campo_p;
		current_setting('gerar_esocial_dados_pck.item_esocial_cad_det_w')::esocial_altera_cad_det%rowtype.ds_valor_anterior	:= ds_valor_anterior_p;
		current_setting('gerar_esocial_dados_pck.item_esocial_cad_det_w')::esocial_altera_cad_det%rowtype.ds_valor_atual		:= ds_valor_atual_p;

		esocial_altera_cad_det_p(esocial_altera_cad_det_p.count) := current_setting('gerar_esocial_dados_pck.item_esocial_cad_det_w')::esocial_altera_cad_det%rowtype;
	end if;

	END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_esocial_dados_pck.adicionar_alteracao_cad_det ( nm_campo_p text, ds_valor_anterior_p text, ds_valor_atual_p text, esocial_altera_cad_det_p INOUT t_esocial_altera_cad_det) FROM PUBLIC;
