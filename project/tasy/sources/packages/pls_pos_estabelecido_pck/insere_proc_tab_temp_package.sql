-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pls_pos_estabelecido_pck.insere_proc_tab_temp ( rec_dados_proc_p INOUT table_conta_proc_temp, nm_usuario_p usuario.nm_usuario%type) AS $body$
BEGIN
	if (rec_dados_proc_p.cd_procedimento.count > 0) then

		forall i in rec_dados_proc_p.cd_procedimento.first..rec_dados_proc_p.cd_procedimento.last
			insert into w_pls_conta_pos_proc(cd_procedimento, ie_origem_proced, nr_seq_cabecalho,
				 nr_seq_conta, nr_seq_conta_proc, nr_seq_regra_horario,
				 nr_sequencia, qt_filme_tab, qt_item,
				 tx_administracao, tx_item, vl_cotacao_moeda,
				 vl_custo_operacional, vl_custo_operacional_calc, vl_custo_operacional_tab,
				 vl_liberado_co_fat, vl_liberado_hi_fat, vl_liberado_material_fat,
				 vl_lib_taxa_co, vl_lib_taxa_material, vl_lib_taxa_servico,
				 vl_materiais, vl_materiais_calc, vl_material_tab,
				 vl_medico, vl_medico_calc, vl_provisao,
				 vl_tabela_preco, vl_taxa_co, vl_taxa_material,
				 vl_taxa_servico, dt_item, nr_seq_congenere_seg,
				 nr_seq_segurado, nr_seq_intercambio, nr_seq_plano,
				 nr_seq_grupo_coop, ie_tipo_segurado, ie_pcmso,
				 ie_obito, dt_postagem_fatura, dt_recebimento_fatura,
				 nr_seq_fatura,	ie_origem_conta, ie_tipo_conta,
				 ie_tipo_guia, dt_alta, dt_atendimento,
				 ie_tipo_intercambio, ie_tecnica_utilizada, dt_inicio_proc,
				 dt_fim_proc, ie_criterio_horario, ie_status_proc,
				 ie_repassa_medico, tx_custo_operacional, tx_material,
				 tx_medico, tx_auxiliares, tx_anestesista,
				 nr_seq_cbo_saude, dt_autorizacao, nr_seq_rp_combinada,
				 nr_seq_conta_referencia, nr_seq_protocolo, nr_seq_guia,
				 nr_seq_prestador_solic_ref, ie_via_acesso, ie_tipo_despesa ,
				 vl_prestador_apresentado, vl_prestador_pag, ie_nao_gera_tx_inter,
				 nr_seq_tipo_atendimento, nr_seq_prestador_exec, dt_mes_competencia,
				 nr_seq_cbo_saude_solic, cd_senha_externa,
				 cd_guia, nr_seq_clinica, nr_seq_tipo_acomodacao,
				 ie_carater_internacao, nr_seq_prestador_prot, ie_status,
				 nr_seq_sca, nr_seq_ajuste_fat, nr_seq_proc_princ
				
				)
			values ( rec_dados_proc_p.cd_procedimento(i), rec_dados_proc_p.ie_origem_proced(i), rec_dados_proc_p.nr_seq_cabecalho(i),
				 rec_dados_proc_p.nr_seq_conta(i), rec_dados_proc_p.nr_seq_conta_proc(i), rec_dados_proc_p.nr_seq_regra_horario(i),
				 rec_dados_proc_p.nr_sequencia(i), rec_dados_proc_p.qt_filme_tab(i), rec_dados_proc_p.qt_item(i),
				 rec_dados_proc_p.tx_administracao(i), rec_dados_proc_p.tx_item(i), rec_dados_proc_p.vl_cotacao_moeda(i),
				 rec_dados_proc_p.vl_custo_operacional(i), rec_dados_proc_p.vl_custo_operacional_calc(i), rec_dados_proc_p.vl_custo_operacional_tab(i),
				 rec_dados_proc_p.vl_liberado_co_fat(i), rec_dados_proc_p.vl_liberado_hi_fat(i), rec_dados_proc_p.vl_liberado_material_fat(i),
				 rec_dados_proc_p.vl_lib_taxa_co(i), rec_dados_proc_p.vl_lib_taxa_material(i), rec_dados_proc_p.vl_lib_taxa_servico(i),
				 rec_dados_proc_p.vl_materiais(i), rec_dados_proc_p.vl_materiais_calc(i), rec_dados_proc_p.vl_material_tab(i),
				 rec_dados_proc_p.vl_medico(i), rec_dados_proc_p.vl_medico_calc(i), rec_dados_proc_p.vl_provisao(i),
				 rec_dados_proc_p.vl_tabela_preco(i), rec_dados_proc_p.vl_taxa_co(i), rec_dados_proc_p.vl_taxa_material(i),
				 rec_dados_proc_p.vl_taxa_servico(i), rec_dados_proc_p.dt_item(i), rec_dados_proc_p.nr_seq_congenere_seg(i),
				 rec_dados_proc_p.nr_seq_segurado(i), rec_dados_proc_p.nr_seq_intercambio(i), rec_dados_proc_p.nr_seq_plano(i),
				 rec_dados_proc_p.nr_seq_grupo_coop(i), rec_dados_proc_p.ie_tipo_segurado(i), rec_dados_proc_p.ie_pcmso(i),
				 rec_dados_proc_p.ie_obito(i), rec_dados_proc_p.dt_postagem_fatura(i), rec_dados_proc_p.dt_recebimento_fatura(i),
				 rec_dados_proc_p.nr_seq_fatura(i), rec_dados_proc_p.ie_origem_conta(i), rec_dados_proc_p.ie_tipo_conta(i),
				 rec_dados_proc_p.ie_tipo_guia(i), rec_dados_proc_p.dt_alta(i), rec_dados_proc_p.dt_atendimento(i),
				 rec_dados_proc_p.ie_tipo_intercambio(i), rec_dados_proc_p.ie_tecnica_utilizada(i), rec_dados_proc_p.dt_inicio_proc(i),
				 rec_dados_proc_p.dt_fim_proc(i), rec_dados_proc_p.ie_criterio_horario(i), rec_dados_proc_p.ie_status_proc(i),
				 rec_dados_proc_p.ie_repassa_medico(i), rec_dados_proc_p.tx_custo_operacional(i), rec_dados_proc_p.tx_material(i),
				 rec_dados_proc_p.tx_medico(i), rec_dados_proc_p.tx_auxiliares(i), rec_dados_proc_p.tx_anestesista(i),
				 rec_dados_proc_p.nr_seq_cbo_saude(i), rec_dados_proc_p.dt_autorizacao(i), rec_dados_proc_p.nr_seq_rp_combinada(i),
				 rec_dados_proc_p.nr_seq_conta_referencia(i), rec_dados_proc_p.nr_seq_protocolo(i), rec_dados_proc_p.nr_seq_guia(i),
				 rec_dados_proc_p.nr_seq_prestador_solic_ref(i), rec_dados_proc_p.ie_via_acesso(i), rec_dados_proc_p.ie_tipo_despesa(i),
				 rec_dados_proc_p.vl_prestador_apresentado(i), rec_dados_proc_p.vl_prestador_pag(i), 'N',
				 rec_dados_proc_p.nr_seq_tipo_atendimento(i), rec_dados_proc_p.nr_seq_prestador_exec(i), rec_dados_proc_p.dt_mes_competencia(i),
				 rec_dados_proc_p.nr_seq_cbo_saude_solic(i), rec_dados_proc_p.cd_senha_externa(i),
				 rec_dados_proc_p.cd_guia(i), rec_dados_proc_p.nr_seq_clinica(i), rec_dados_proc_p.nr_seq_tipo_acomodacao(i),
				 rec_dados_proc_p.ie_carater_internacao(i), rec_dados_proc_p.nr_seq_prestador_prot(i), rec_dados_proc_p.ie_status_proc(i),
				 rec_dados_proc_p.nr_seq_sca(i), rec_dados_proc_p.nr_seq_ajuste_fat(i), rec_dados_proc_p.nr_seq_proc_princ(i)
				 );
	end if;
	rec_dados_proc_p.cd_procedimento.delete;
	rec_dados_proc_p.ie_origem_proced.delete;
	rec_dados_proc_p.nr_seq_cabecalho.delete;
	rec_dados_proc_p.nr_seq_conta.delete;
	rec_dados_proc_p.nr_seq_conta_proc.delete;
	rec_dados_proc_p.nr_seq_regra_horario.delete;
	rec_dados_proc_p.nr_sequencia.delete;
	rec_dados_proc_p.qt_filme_tab.delete;
	rec_dados_proc_p.qt_item.delete;
	rec_dados_proc_p.tx_administracao.delete;
	rec_dados_proc_p.tx_item.delete;
	rec_dados_proc_p.vl_cotacao_moeda.delete;
	rec_dados_proc_p.vl_custo_operacional.delete;
	rec_dados_proc_p.vl_custo_operacional_calc.delete;
	rec_dados_proc_p.vl_custo_operacional_tab.delete;
	rec_dados_proc_p.vl_liberado_co_fat.delete;
	rec_dados_proc_p.vl_liberado_hi_fat.delete;
	rec_dados_proc_p.vl_liberado_material_fat.delete;
	rec_dados_proc_p.vl_lib_taxa_co.delete;
	rec_dados_proc_p.vl_lib_taxa_material.delete;
	rec_dados_proc_p.vl_lib_taxa_servico.delete;
	rec_dados_proc_p.vl_materiais.delete;
	rec_dados_proc_p.vl_materiais_calc.delete;
	rec_dados_proc_p.vl_material_tab.delete;
	rec_dados_proc_p.vl_medico.delete;
	rec_dados_proc_p.vl_medico_calc.delete;
	rec_dados_proc_p.vl_provisao.delete;
	rec_dados_proc_p.vl_tabela_preco.delete;
	rec_dados_proc_p.vl_taxa_co.delete;
	rec_dados_proc_p.vl_taxa_material.delete;
	rec_dados_proc_p.vl_taxa_servico.delete;
	rec_dados_proc_p.dt_item.delete;
	rec_dados_proc_p.nr_seq_congenere_seg.delete;
	rec_dados_proc_p.nr_seq_segurado.delete;
	rec_dados_proc_p.nr_seq_intercambio.delete;
	rec_dados_proc_p.nr_seq_plano.delete;
	rec_dados_proc_p.nr_seq_grupo_coop.delete;
	rec_dados_proc_p.ie_tipo_segurado.delete;
	rec_dados_proc_p.ie_pcmso.delete;
	rec_dados_proc_p.ie_obito.delete;
	rec_dados_proc_p.dt_postagem_fatura.delete;
	rec_dados_proc_p.dt_recebimento_fatura.delete;
	rec_dados_proc_p.nr_seq_fatura.delete;
	rec_dados_proc_p.ie_origem_conta.delete;
	rec_dados_proc_p.ie_tipo_conta.delete;
	rec_dados_proc_p.ie_tipo_guia.delete;
	rec_dados_proc_p.dt_alta.delete;
	rec_dados_proc_p.dt_atendimento.delete;
	rec_dados_proc_p.ie_tipo_intercambio.delete;
	rec_dados_proc_p.ie_tecnica_utilizada.delete;
	rec_dados_proc_p.dt_inicio_proc.delete;
	rec_dados_proc_p.dt_fim_proc.delete;
	rec_dados_proc_p.ie_criterio_horario.delete;
	rec_dados_proc_p.ie_status_proc.delete;
	rec_dados_proc_p.ie_repassa_medico.delete;
	rec_dados_proc_p.tx_custo_operacional.delete;
	rec_dados_proc_p.tx_material.delete;
	rec_dados_proc_p.tx_medico.delete;
	rec_dados_proc_p.tx_auxiliares.delete;
	rec_dados_proc_p.tx_anestesista.delete;
	rec_dados_proc_p.nr_seq_cbo_saude.delete;
	rec_dados_proc_p.dt_autorizacao.delete;
	rec_dados_proc_p.nr_seq_rp_combinada.delete;
	rec_dados_proc_p.nr_seq_conta_referencia.delete;
	rec_dados_proc_p.nr_seq_protocolo.delete;
	rec_dados_proc_p.nr_seq_guia.delete;
	rec_dados_proc_p.nr_seq_prestador_solic_ref.delete;
	rec_dados_proc_p.ie_via_acesso.delete;
	rec_dados_proc_p.ie_tipo_despesa.delete;
	rec_dados_proc_p.vl_prestador_apresentado.delete;
	rec_dados_proc_p.vl_prestador_pag.delete;
	rec_dados_proc_p.nr_seq_tipo_atendimento.delete;
	rec_dados_proc_p.nr_seq_prestador_exec.delete;
	rec_dados_proc_p.dt_mes_competencia.delete;
	rec_dados_proc_p.nr_seq_cbo_saude_solic.delete;
	rec_dados_proc_p.cd_senha_externa.delete;
	rec_dados_proc_p.cd_guia.delete;
	rec_dados_proc_p.nr_seq_clinica.delete;
	rec_dados_proc_p.nr_seq_tipo_acomodacao.delete;
	rec_dados_proc_p.ie_carater_internacao.delete;
	rec_dados_proc_p.nr_seq_prestador_prot.delete;
	rec_dados_proc_p.nr_seq_sca.delete;
	rec_dados_proc_p.nr_seq_ajuste_fat.delete;
	rec_dados_proc_p.nr_seq_proc_princ.delete;
	
END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_pos_estabelecido_pck.insere_proc_tab_temp ( rec_dados_proc_p INOUT table_conta_proc_temp, nm_usuario_p usuario.nm_usuario%type) FROM PUBLIC;
