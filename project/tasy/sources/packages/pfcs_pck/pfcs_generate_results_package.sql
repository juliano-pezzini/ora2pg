-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pfcs_pck.pfcs_generate_results (vl_indicator_p bigint, vl_indicator_aux_p bigint default null, vl_indicator_help_p bigint default null, vl_indicator_assist_p bigint default null, vl_indicator_collab_p bigint default null, ds_reference_value_p text default null, cd_reference_value_p text default null, nr_seq_indicator_p bigint DEFAULT NULL, nr_seq_operational_level_p bigint DEFAULT NULL, nm_usuario_p text DEFAULT NULL, nr_seq_panel_p INOUT bigint DEFAULT NULL, ds_reference_aux_p text default null, cd_reference_aux_p text default null, vl_indicator_dec_p bigint default null, ds_color_p text default null, ie_flag_p text default null) AS $body$
DECLARE

        nr_seq_panel_w	pfcs_panel.nr_sequencia%type;

BEGIN
        select  nextval('pfcs_panel_seq')
        into STRICT    nr_seq_panel_w
;

        insert into pfcs_panel(
            nr_sequencia,
            dt_atualizacao,
            nm_usuario,
            dt_atualizacao_nrec,
            nm_usuario_nrec,
            nr_seq_indicator,
            ie_situation,
            vl_indicator,
            vl_indicator_aux,
            vl_indicator_help,
            vl_indicator_assist,
            vl_indicator_collab,
            ds_reference_value,
            cd_reference_value,
            nr_seq_operational_level,
            ds_reference_aux,
            cd_reference_aux,
            vl_indicator_dec,
            ds_color,
            ie_flag)
        values (
            nr_seq_panel_w,
            clock_timestamp(),
            nm_usuario_p,
            clock_timestamp(),
            nm_usuario_p,
            nr_seq_indicator_p,
            PFCS_PCK_CONSTANTS.IE_TEMPORARY,
            vl_indicator_p,
            vl_indicator_aux_p,
            vl_indicator_help_p,
            vl_indicator_assist_p,
            vl_indicator_collab_p,
            ds_reference_value_p,
            cd_reference_value_p,
            nr_seq_operational_level_p,
            ds_reference_aux_p,
            cd_reference_aux_p,
            vl_indicator_dec_p,
            ds_color_p,
            ie_flag_p);

        commit;
        nr_seq_panel_p := nr_seq_panel_w;
    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pfcs_pck.pfcs_generate_results (vl_indicator_p bigint, vl_indicator_aux_p bigint default null, vl_indicator_help_p bigint default null, vl_indicator_assist_p bigint default null, vl_indicator_collab_p bigint default null, ds_reference_value_p text default null, cd_reference_value_p text default null, nr_seq_indicator_p bigint DEFAULT NULL, nr_seq_operational_level_p bigint DEFAULT NULL, nm_usuario_p text DEFAULT NULL, nr_seq_panel_p INOUT bigint DEFAULT NULL, ds_reference_aux_p text default null, cd_reference_aux_p text default null, vl_indicator_dec_p bigint default null, ds_color_p text default null, ie_flag_p text default null) FROM PUBLIC;
