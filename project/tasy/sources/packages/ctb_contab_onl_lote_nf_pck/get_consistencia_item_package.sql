-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION ctb_contab_onl_lote_nf_pck.get_consistencia_item ( nr_lote_contabil_p lote_contabil.nr_lote_contabil%type, nm_tabela_p text, nm_atributo_p text, ds_consistencia_p text) RETURNS integer AS $body$
DECLARE


nr_consistencia_w integer := 0;

BEGIN
for k in 1 .. current_setting('ctb_contab_onl_lote_nf_pck.array_atributos_w')::campos.Count loop
    begin
        if (current_setting('ctb_contab_onl_lote_nf_pck.array_atributos_w')::campos[k].nr_lote_contabil = nr_lote_contabil_p) and (current_setting('ctb_contab_onl_lote_nf_pck.array_atributos_w')::campos[k].nm_tabela = nm_tabela_p) and (current_setting('ctb_contab_onl_lote_nf_pck.array_atributos_w')::campos[k].nm_atributo = nm_atributo_p) and (current_setting('ctb_contab_onl_lote_nf_pck.array_atributos_w')::campos[k].ds_consistencia = ds_consistencia_p) then
            begin
                nr_consistencia_w := k;
                exit;
            end;
        end if;
    end;
end loop;

return nr_consistencia_w;
end;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION ctb_contab_onl_lote_nf_pck.get_consistencia_item ( nr_lote_contabil_p lote_contabil.nr_lote_contabil%type, nm_tabela_p text, nm_atributo_p text, ds_consistencia_p text) FROM PUBLIC;
