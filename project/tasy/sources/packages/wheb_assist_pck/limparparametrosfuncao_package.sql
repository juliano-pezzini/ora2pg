-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE wheb_assist_pck.limparparametrosfuncao () AS $body$
DECLARE
 	
		id_funcao_w		bigint;
		qt_parametros_w	bigint;
	
BEGIN
		if (current_setting('wheb_assist_pck.ie_inicia_param_w')::char(1) = 'S') then
			select	count(*)
			into STRICT	qt_parametros_w
			from	funcao_parametro
			where	cd_funcao = 924;
			
			for nr_parametro_w in 1..qt_parametros_w loop
				begin
				current_setting('wheb_assist_pck.parametros_funcao_w')::parametros_funcao[1].parametro(nr_parametro_w).vl_parametro	:= 'XPTO';
				end;
			end loop;
			
			select	count(*)
			into STRICT	qt_parametros_w
			from	funcao_parametro
			where	cd_funcao = 1113;
			
			for nr_parametro_w in 1..qt_parametros_w loop
				begin
				current_setting('wheb_assist_pck.parametros_funcao_w')::parametros_funcao[2].parametro(nr_parametro_w).vl_parametro	:= 'XPTO';
				end;
			end loop;
			
			select	count(*)
			into STRICT	qt_parametros_w
			from	funcao_parametro
			where	cd_funcao = 8030;
			
			for nr_parametro_w in 1..qt_parametros_w loop
				begin
				current_setting('wheb_assist_pck.parametros_funcao_w')::parametros_funcao[3].parametro(nr_parametro_w).vl_parametro	:= 'XPTO';
				end;
			end loop;
			PERFORM set_config('wheb_assist_pck.ie_inicia_param_w', 'N', false);
		else
			for id_funcao_w in 1..parametros_funcao_w.count loop
				begin
				for nr_parametro_w in 1..parametros_funcao_w[id_funcao_w].parametro.count-1 loop
					begin
					current_setting('wheb_assist_pck.parametros_funcao_w')::parametros_funcao[id_funcao_w].parametro(nr_parametro_w).vl_parametro	:= 'XPTO';
					end;
				end loop;	
				end;
			end loop;
		end if;
	end;
	
	

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE wheb_assist_pck.limparparametrosfuncao () FROM PUBLIC;
