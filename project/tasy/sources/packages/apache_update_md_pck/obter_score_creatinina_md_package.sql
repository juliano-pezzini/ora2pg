-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION apache_update_md_pck.obter_score_creatinina_md (qt_creatinina_p bigint, ie_ira_p text ) RETURNS bigint AS $body$
DECLARE

    qt_pto_creatinina_p_w bigint;

BEGIN
      if (qt_creatinina_p >= 3.5) then
        qt_pto_creatinina_p_w	:= 4;
      elsif (qt_creatinina_p >= 2) then
        qt_pto_creatinina_p_w	:= 3;
      elsif (qt_creatinina_p >= 1.5) then
        qt_pto_creatinina_p_w	:= 2;
      elsif (qt_creatinina_p < 0.6) then
        qt_pto_creatinina_p_w	:= 2;
      else
        qt_pto_creatinina_p_w	:= 0;
      end if;

      if (ie_ira_p = 'S') then
        qt_pto_creatinina_p_w	:= qt_pto_creatinina_p_w * 2;
      end if;

      return coalesce(qt_pto_creatinina_p_w,0);
  end;



$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION apache_update_md_pck.obter_score_creatinina_md (qt_creatinina_p bigint, ie_ira_p text ) FROM PUBLIC;
