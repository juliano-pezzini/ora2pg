-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION apap_dinamico_pck.get_linhas_linked_data (nr_seq_mod_apap_p bigint, nr_seq_linked_data_p bigint) RETURNS SETOF LINHAS_PAC_T AS $body$
DECLARE

linhas_linked_data_r_w linhas_pac_r;

c_linhas CURSOR FOR
   SELECT   distinct d.nr_sequencia nr_seq_linha
   from     w_apap_pac b,
			w_apap_pac_grupo c,
			w_apap_pac_informacao d
   where    b.nr_sequencia       =  c.nr_seq_mod_apap
   and      c.nr_sequencia       =  d.nr_seq_apap_grupo
   and      c.ie_padrao_visivel  = 'S'
   and      d.ie_visivel         in ('S','F')
   and      d.nr_seq_linked_data =  nr_seq_linked_data_p
   and      b.nr_sequencia       =  nr_seq_mod_apap_p;

BEGIN
<<read_linhas>>
for r_linhas in c_linhas
   loop
   linhas_linked_data_r_w.nr_seq_linha := r_linhas.nr_seq_linha;
   RETURN NEXT linhas_linked_data_r_w;
   end loop read_linhas;
return;
END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION apap_dinamico_pck.get_linhas_linked_data (nr_seq_mod_apap_p bigint, nr_seq_linked_data_p bigint) FROM PUBLIC;
