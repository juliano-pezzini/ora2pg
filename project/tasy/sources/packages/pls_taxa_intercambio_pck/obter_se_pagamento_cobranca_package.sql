-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


-- Obter se a regra utilizada sera de Pagamento ou de Cobranca.



CREATE OR REPLACE FUNCTION pls_taxa_intercambio_pck.obter_se_pagamento_cobranca ( ie_tipo_conta_p pls_conta.ie_tipo_conta%type) RETURNS PLS_REGRA_INTERCAMBIO.IE_COBRANCA_PAGAMENTO%TYPE AS $body$
DECLARE

							
ie_cobranca_pagamento_w	pls_regra_intercambio.ie_cobranca_pagamento%type;
					

BEGIN
/*
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

**************************************************************************************************************************************************************************************
**************************************************************************************************************************************************************************************
**************************************************************************************************************************************************************************************
********* SE FOR ALTERAR ALGUMA COISA NESTA ROTINA, FAVOR VERIFICAR A pls_cta_valorizacao_pck a function obter_se_pagamento_cobranca************************************************
********* HOUVE DUPLICACAO DE CODIGO PARA MANTERMOS AS TAXAS DE INTERCAMBIO FUNCIONANDO NOS DOIS MODELOS ************************************************************
**************************************************************************************************************************************************************************************
**************************************************************************************************************************************************************************************
**************************************************************************************************************************************************************************************
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

*/


-- Quando for conta de intercambio entao serao regras para Pagamento.

if (ie_tipo_conta_p = 'I') then
	
	ie_cobranca_pagamento_w := 'P';

-- Caso contrario serao verificadas as regras de Cobranca.

elsif (ie_tipo_conta_p = 'C') then
	
	ie_cobranca_pagamento_w := 'C';
end if;

return ie_cobranca_pagamento_w;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION pls_taxa_intercambio_pck.obter_se_pagamento_cobranca ( ie_tipo_conta_p pls_conta.ie_tipo_conta%type) FROM PUBLIC;
