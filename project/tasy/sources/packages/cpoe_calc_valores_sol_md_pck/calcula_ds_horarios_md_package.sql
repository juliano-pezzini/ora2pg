-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION cpoe_calc_valores_sol_md_pck.calcula_ds_horarios_md (ds_horarios_p text, ie_div_horario_p text ) RETURNS varchar AS $body$
DECLARE


      ds_horarios_w varchar(4000);

BEGIN
    if (ds_horarios_p IS NOT NULL AND ds_horarios_p::text <> '') then
      if (position(';' in ds_horarios_p) = 0) then
        ds_horarios_w	:= replace(ds_horarios_p,' ', ie_div_horario_p);
      end if;

      if (substr(ds_horarios_p,length(ds_horarios_p)-1) <> ie_div_horario_p) then
        ds_horarios_w	:= ds_horarios_p || ie_div_horario_p;
      end if;

      ds_horarios_w	:= replace(ds_horarios_p, ie_div_horario_p || ie_div_horario_p, ie_div_horario_p);

      ds_horarios_w	:= replace(ds_horarios_p, ie_div_horario_p || ie_div_horario_p, ie_div_horario_p);

      return ds_horarios_w;
    end if;
  end;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION cpoe_calc_valores_sol_md_pck.calcula_ds_horarios_md (ds_horarios_p text, ie_div_horario_p text ) FROM PUBLIC;
