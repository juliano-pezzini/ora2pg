-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION tax_reinf_data_pck.get_event_id (registration_p text, event_index_p bigint) RETURNS varchar AS $body$
DECLARE

    event_id_w varchar(50);

BEGIN
    return 'ID' || '1' || rpad(substr(registration_p, 1, 8), 14, '0') || to_char(clock_timestamp(), 'YYYYMMDD') || to_char(clock_timestamp(), 'HHMMSS') || lpad(event_index_p, 5, 0);
  END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION tax_reinf_data_pck.get_event_id (registration_p text, event_index_p bigint) FROM PUBLIC;
