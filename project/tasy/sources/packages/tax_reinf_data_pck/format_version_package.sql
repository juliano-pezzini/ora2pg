-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION tax_reinf_data_pck.format_version (version_p text) RETURNS varchar AS $body$
DECLARE

    format_version_w  varchar(255);
    start_index_w     bigint;
    end_index_w       bigint;
    version_w         bigint;

BEGIN
    format_version_w := 'v' || replace(version_p, '.', '_');
    start_index_w := position('_' in format_version_w) + 1;
    end_index_w := instr(format_version_w, '_', start_index_w);
    version_w := (substr(format_version_w, start_index_w, end_index_w - start_index_w))::numeric;

    if version_w < 10 then
        format_version_w := replace(format_version_w, to_char(version_w), '0' || version_w);
    end if;

    return format_version_w;
  END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION tax_reinf_data_pck.format_version (version_p text) FROM PUBLIC;
