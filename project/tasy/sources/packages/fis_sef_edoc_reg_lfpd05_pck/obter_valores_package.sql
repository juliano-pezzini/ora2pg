-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

/*FUNCTION*/

CREATE OR REPLACE FUNCTION fis_sef_edoc_reg_lfpd05_pck.obter_valores (nr_sequencia bigint) RETURNS SETOF T_OBJETO_ROW_DATA AS $body$
DECLARE

t_objeto_row_w	tributos_itens;
BEGIN
	for	i in current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota.first..vet_tributos_itens_nota_w.last loop
		begin
		if (nr_sequencia = current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].nr_seq_nota) then
				t_objeto_row_w.vl_bc_icms			:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_bc_icms;
				t_objeto_row_w.vl_icms 				:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_icms;
				t_objeto_row_w.vl_icms_st 			:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_icms_st;
				t_objeto_row_w.vl_st_e 				:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_st_e;
				t_objeto_row_w.vl_st_s 				:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_st_s;
				t_objeto_row_w.vl_isnt_icms 		:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_isnt_icms;
				t_objeto_row_w.vl_out_icms 			:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_out_icms;
				t_objeto_row_w.vl_bc_ipi 			:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_bc_ipi;
				t_objeto_row_w.vl_ipi 				:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_ipi;
				t_objeto_row_w.vl_isnt_ipi 			:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_isnt_ipi;
				t_objeto_row_w.vl_out_ipi 			:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_out_ipi;
				t_objeto_row_w.cd_cfop 				:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].cd_cfop;
				t_objeto_row_w.tx_aliq_icms 		:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].tx_aliq_icms;
				t_objeto_row_w.vl_bc_st_p 			:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_bc_st_p;
				t_objeto_row_w.vl_item 				:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].vl_item;
				t_objeto_row_w.ie_tributacao_icms	:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].ie_tributacao_icms;
				t_objeto_row_w.ie_tributacao_ipi	:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].ie_tributacao_ipi;
				t_objeto_row_w.nr_item_nf			:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].nr_item_nf;
				t_objeto_row_w.nr_seq_nota			:= current_setting('fis_sef_edoc_reg_lfpd05_pck.vet_tributos_itens_nota_w')::tributos_itens_nota[i].nr_seq_nota;

				RETURN NEXT t_objeto_row_w;
			end if;
		end;
	end loop;
return;
END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION fis_sef_edoc_reg_lfpd05_pck.obter_valores (nr_sequencia bigint) FROM PUBLIC;
