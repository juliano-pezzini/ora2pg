-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE med_guidance_pkg.confirm_import ( nr_seq_edition_p JPN_MED_GUIDANCE_EDITION.NR_SEQUENCIA%type, nm_usuario_p JPN_MED_GUIDANCE_EDITION.NM_USUARIO%type ) AS $body$
DECLARE


    dt_sysdate_s    timestamp := clock_timestamp();


BEGIN
        UPDATE  JPN_MED_GUIDANCE_EDITION 
        SET     DT_IMPORT = dt_sysdate_s, 
                DT_ATUALIZACAO = dt_sysdate_s, 
                NM_USUARIO = nm_usuario_p
        WHERE   NR_SEQUENCIA = nr_seq_edition_p;

        COMMIT;
    EXCEPTION WHEN OTHERS THEN
        ROLLBACK;
        CALL WHEB_MENSAGEM_PCK.EXIBIR_MENSAGEM_ABORT(1023582);
    END;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE med_guidance_pkg.confirm_import ( nr_seq_edition_p JPN_MED_GUIDANCE_EDITION.NR_SEQUENCIA%type, nm_usuario_p JPN_MED_GUIDANCE_EDITION.NM_USUARIO%type ) FROM PUBLIC;
