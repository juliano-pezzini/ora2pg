-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE med_guidance_pkg.save_status_message (nr_seq_edition_p bigint, si_status_p text, ds_log_p text) AS $body$
BEGIN
        IF si_status_p = '2' THEN
            ROLLBACK;
        END IF;

        UPDATE  JPN_MED_GUIDANCE_EDITION
        SET     SI_STATUS = si_status_p, 
                DS_LOG = ds_log_p
        WHERE   NR_SEQUENCIA = nr_seq_edition_p;

        COMMIT;
    EXCEPTION WHEN OTHERS THEN
        ROLLBACK;
        CALL WHEB_MENSAGEM_PCK.EXIBIR_MENSAGEM_ABORT(1023582);
    END;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE med_guidance_pkg.save_status_message (nr_seq_edition_p bigint, si_status_p text, ds_log_p text) FROM PUBLIC;
