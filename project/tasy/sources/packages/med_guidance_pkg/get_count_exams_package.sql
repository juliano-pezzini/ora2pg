-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION med_guidance_pkg.get_count_exams (cd_pessoa_fisica_p PESSOA_FISICA.CD_PESSOA_FISICA%type) RETURNS bigint AS $body$
DECLARE


    qt_count_w bigint;


BEGIN
    
        SELECT  COUNT(b.NR_SEQ_EXAME) QT_COUNT
        INTO STRICT    qt_count_w
        FROM    PROCEDIMENTO_PACIENTE a,
                EXAME_LABORATORIO b
        WHERE   a.CD_PESSOA_FISICA = cd_pessoa_fisica_p
        AND     a.NR_SEQ_EXAME = b.NR_SEQ_EXAME;

        RETURN qt_count_w;

    END;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION med_guidance_pkg.get_count_exams (cd_pessoa_fisica_p PESSOA_FISICA.CD_PESSOA_FISICA%type) FROM PUBLIC;
