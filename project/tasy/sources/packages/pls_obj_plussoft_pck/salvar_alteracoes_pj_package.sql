-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


--Objeto que verifica as alteracoes cadastrais e gera solicitacao de alteracao PJ
CREATE OR REPLACE PROCEDURE pls_obj_plussoft_pck.salvar_alteracoes_pj ( cd_cgc_p pessoa_juridica.cd_cgc%type, ds_razao_social_p pessoa_juridica.ds_razao_social%type, nm_fantasia_p pessoa_juridica.nm_fantasia%type, nr_ddi_telefone_com_p text, nr_ddd_telefone_com_p text, nr_telefone_com_p text, ds_email_pj_p text, ie_tipo_complemento_com_p text, cd_cep_com_p text, ds_pais_com_p text, sg_estado_com_p text, ds_municipio_com_p text, nr_seq_logradouro_p text, ds_endereco_com_p text, nr_endereco_com_p text, ds_complemento_com_p text, cd_municipio_ibge_com_p text, ds_bairro_com_p text, nr_inscricao_estadual_p text, ds_observacao_pj_p text, nm_usuario_p text, nm_abreviado_p text, ie_retorno_p INOUT bigint, ds_mensagem_erro_p INOUT text) AS $body$
DECLARE

/*  IE_RETORNO_P : 0 - Operacao realizada     1 - Erro  */

cd_cep_old_w			pessoa_juridica.cd_cep%type;
ds_bairro_old_w			pessoa_juridica.ds_bairro%type;
ds_complemento_old_w		pessoa_juridica.ds_complemento%type;
ds_endereco_old_w		pessoa_juridica.ds_endereco%type;
ds_municipio_old_w		pessoa_juridica.ds_municipio%type;
ds_razao_social_old_w		pessoa_juridica.ds_razao_social%type;
nr_ddi_telefone_old_w		pessoa_juridica.nr_ddi_telefone%type;
nr_ddd_telefone_old_w		pessoa_juridica.nr_ddd_telefone%type;
nr_telefone_old_w		pessoa_juridica.nr_telefone%type;
nr_endereco_old_w		pessoa_juridica.nr_endereco%type;
sg_estado_old_w			pessoa_juridica.sg_estado%type;
nm_fantasia_old_w		pessoa_juridica.nm_fantasia%type;
nr_inscricao_estadual_old_w	pessoa_juridica.nr_inscricao_estadual%type;
ds_observacao_old_w		pessoa_juridica.ds_observacao%type;
ds_email_old_w			pessoa_juridica.ds_email%type;
nr_seq_pais_old_w		pessoa_juridica.nr_seq_pais%type;
cd_municipio_ibge_old_w		pessoa_juridica.cd_municipio_ibge%type;
nr_seq_tipo_logradouro_old_w	pessoa_juridica.nr_seq_tipo_logradouro%type;
nr_seq_log_atual_w		bigint;
ie_log_w			varchar(2);
ds_nome_abrev_w			varchar(18);
qt_registro_w			bigint;
nr_seq_pj_estab_w		pessoa_juridica_estab.nr_sequencia%type;


BEGIN
ie_retorno_p		:= 1;
ds_mensagem_erro_p	:= '';

begin
select	cd_cep,
	ds_bairro,
	ds_complemento,
	ds_endereco,
	ds_municipio,
	ds_razao_social,
	nr_ddi_telefone,
	nr_ddd_telefone,
	nr_telefone,
	nr_endereco,
	sg_estado,
	nm_fantasia,
	nr_inscricao_estadual,
	ds_observacao,
	nr_seq_pais,
	cd_municipio_ibge,
	nr_seq_tipo_logradouro,
	ds_nome_abrev
into STRICT	cd_cep_old_w,
	ds_bairro_old_w,
	ds_complemento_old_w,
	ds_endereco_old_w,
	ds_municipio_old_w,
	ds_razao_social_old_w,
	nr_ddi_telefone_old_w,
	nr_ddd_telefone_old_w,
	nr_telefone_old_w,
	nr_endereco_old_w,
	sg_estado_old_w,
	nm_fantasia_old_w,
	nr_inscricao_estadual_old_w,
	ds_observacao_old_w,
	nr_seq_pais_old_w,
	cd_municipio_ibge_old_w,
	nr_seq_tipo_logradouro_old_w,
	ds_nome_abrev_w
from	pessoa_juridica
where	cd_cgc = cd_cgc_p  LIMIT 1;

select 	max(ds_email)
into STRICT	ds_email_old_w
from	pessoa_juridica_estab
where	cd_cgc = cd_cgc_p;

--Razao social
--OS 1390221 setar para nulo quando vier nula a informacao
--if	(ds_razao_social_p is not null) and
--	(upper(ds_razao_social_p) <> upper(ds_razao_social_old_w) or ds_razao_social_old_w is null) then
if (upper(ds_razao_social_p) <> upper(ds_razao_social_old_w) or coalesce(ds_razao_social_p::text, '') = '' or (coalesce(ds_razao_social_old_w::text, '') = '' and (ds_razao_social_p IS NOT NULL AND ds_razao_social_p::text <> ''))) then
	update	pessoa_juridica
	set	ds_razao_social = ds_razao_social_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(ds_razao_social_old_w, ds_razao_social_p, nm_usuario_p, nr_seq_log_atual_w, 'DS_RAZAO_SOCIAL', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Nome fantasia
--if	(nm_fantasia_p is not null) and
--	(upper(nm_fantasia_p) <> upper(nm_fantasia_old_w) or nm_fantasia_old_w is null) then
if (upper(nm_fantasia_p) <> upper(nm_fantasia_old_w) or coalesce(nm_fantasia_p::text, '') = '' or (coalesce(nm_fantasia_old_w::text, '') = '' and (nm_fantasia_p IS NOT NULL AND nm_fantasia_p::text <> ''))) then
	update	pessoa_juridica
	set	nm_fantasia = nm_fantasia_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(nm_fantasia_old_w, nm_fantasia_p, nm_usuario_p, nr_seq_log_atual_w, 'NM_FANTASIA', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--DDI
--if	(nr_ddi_telefone_com_p is not null) and
--	(upper(nr_ddi_telefone_com_p) <> upper(nr_ddi_telefone_old_w) or nr_ddi_telefone_old_w is null) then
if (upper(nr_ddi_telefone_com_p) <> upper(nr_ddi_telefone_old_w) or coalesce(nr_ddi_telefone_com_p::text, '') = '' or (coalesce(nr_ddi_telefone_old_w::text, '') = '' and (nr_ddi_telefone_com_p IS NOT NULL AND nr_ddi_telefone_com_p::text <> ''))) then
	update	pessoa_juridica
	set	nr_ddi_telefone = nr_ddi_telefone_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(nr_ddi_telefone_old_w, nr_ddi_telefone_com_p , nm_usuario_p, nr_seq_log_atual_w, 'NR_DDI_TELEFONE', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--DDD
--if	(nr_ddd_telefone_com_p is not null) and
--	(upper(nr_ddd_telefone_com_p) <> upper(nr_ddd_telefone_old_w) or nr_ddd_telefone_old_w is null) then
if (upper(nr_ddd_telefone_com_p) <> upper(nr_ddd_telefone_old_w) or coalesce(nr_ddd_telefone_com_p::text, '') = '' or (coalesce(nr_ddd_telefone_old_w::text, '') = '' and (nr_ddd_telefone_com_p IS NOT NULL AND nr_ddd_telefone_com_p::text <> ''))) then
	update	pessoa_juridica
	set	nr_ddd_telefone = nr_ddd_telefone_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(nr_ddd_telefone_old_w, nr_ddd_telefone_com_p, nm_usuario_p, nr_seq_log_atual_w, 'NR_DDD_TELEFONE', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Telefone
--if	(nr_telefone_com_p is not null) and
--	(upper(nr_telefone_com_p) <> upper(nr_telefone_old_w) or nr_telefone_old_w is null) then
if (upper(nr_telefone_com_p) <> upper(nr_telefone_old_w) or coalesce(nr_telefone_com_p::text, '') = '' or (coalesce(nr_telefone_old_w::text, '') = '' and (nr_telefone_com_p IS NOT NULL AND nr_telefone_com_p::text <> ''))) then
	update	pessoa_juridica
	set	nr_telefone 	= nr_telefone_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(nr_telefone_old_w, nr_telefone_com_p, nm_usuario_p, nr_seq_log_atual_w, 'NR_TELEFONE', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Email
--if	(ds_email_pj_p is not null) and
--	(upper(ds_email_pj_p) <> upper(ds_email_old_w) or ds_email_old_w is null) then
if (upper(ds_email_pj_p) <> upper(ds_email_old_w) or coalesce(ds_email_pj_p::text, '') = '' or (coalesce(ds_email_old_w::text, '') = '' and (ds_email_pj_p IS NOT NULL AND ds_email_pj_p::text <> ''))) then
	select 	count(*)
	into STRICT	qt_registro_w
	from 	pessoa_juridica_estab
	where	cd_cgc	= cd_cgc_p;
	
	if (qt_registro_w > 0) then
		update	pessoa_juridica_estab
		set	ds_email 	= substr(ds_email_pj_p,1,60),
			dt_atualizacao 	= clock_timestamp(),
			nm_usuario 	= nm_usuario_p
		where	cd_cgc		= cd_cgc_p;
	else
		select	nextval('pessoa_juridica_estab_seq')
		into STRICT	nr_seq_pj_estab_w
		;
		
		insert into pessoa_juridica_estab(
				nr_sequencia,
				cd_cgc,
				ds_email,
				ie_conta_dif_nf,
				cd_estabelecimento,
				dt_atualizacao_nrec,
				nm_usuario_nrec,
				dt_atualizacao,
				nm_usuario)
			values ( nr_seq_pj_estab_w,
				cd_cgc_p,
				substr(ds_email_pj_p,1,60),
				'N',
				1,
				clock_timestamp(),
				cd_cgc_p,
				clock_timestamp(),
				cd_cgc_p);
	end if;
	
	gravar_log_alteracao(ds_email_old_w, ds_email_pj_p, nm_usuario_p, nr_seq_log_atual_w, 'DS_EMAIL', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--CEP
--if	(cd_cep_com_p is not null) and
--	(upper(cd_cep_com_p) <> upper(cd_cep_old_w) or cd_cep_old_w is null) then
if (upper(cd_cep_com_p) <> upper(cd_cep_old_w) or coalesce(cd_cep_com_p::text, '') = '' or (coalesce(cd_cep_old_w::text, '') = '' and (cd_cep_com_p IS NOT NULL AND cd_cep_com_p::text <> ''))) then
	update	pessoa_juridica
	set	cd_cep		= cd_cep_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(cd_cep_old_w, cd_cep_com_p, nm_usuario_p, nr_seq_log_atual_w, 'CD_CEP', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Pais
--if	(ds_pais_com_p is not null) and
--	(upper(ds_pais_com_p) <> upper(nr_seq_pais_old_w) or nr_seq_pais_old_w is null) then
if (upper(ds_pais_com_p) <> upper(nr_seq_pais_old_w) or coalesce(ds_pais_com_p::text, '') = '' or (coalesce(nr_seq_pais_old_w::text, '') = '' and (ds_pais_com_p IS NOT NULL AND ds_pais_com_p::text <> ''))) then
	update	pessoa_juridica
	set	nr_seq_pais	= ds_pais_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(nr_seq_pais_old_w, ds_pais_com_p, nm_usuario_p, nr_seq_log_atual_w, 'NR_SEQ_PAIS', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Estado
--if	(sg_estado_com_p is not null) and
--	(upper(sg_estado_com_p) <> upper(sg_estado_old_w) or sg_estado_old_w is null) then
if (upper(sg_estado_com_p) <> upper(sg_estado_old_w) or coalesce(sg_estado_com_p::text, '') = '' or (coalesce(sg_estado_old_w::text, '') = '' and (sg_estado_com_p IS NOT NULL AND sg_estado_com_p::text <> ''))) then
	update	pessoa_juridica
	set	sg_estado	= sg_estado_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(sg_estado_old_w, sg_estado_com_p, nm_usuario_p, nr_seq_log_atual_w, 'SG_ESTADO', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Municipio
--if	(ds_municipio_com_p is not null) and
--	(upper(ds_municipio_com_p) <> upper(ds_municipio_old_w) or ds_municipio_old_w is null) then
if (ds_municipio_com_p IS NOT NULL AND ds_municipio_com_p::text <> '') and (upper(ds_municipio_com_p) <> upper(ds_municipio_old_w) or coalesce(ds_municipio_com_p::text, '') = '' or (coalesce(ds_municipio_old_w::text, '') = '' and (ds_municipio_com_p IS NOT NULL AND ds_municipio_com_p::text <> ''))) then
	update	pessoa_juridica
	set	ds_municipio	= ds_municipio_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(ds_municipio_old_w, ds_municipio_com_p, nm_usuario_p, nr_seq_log_atual_w, 'DS_MUNICIPIO', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Logradouro
--if	(ds_tipo_logradouro_com_p is not null) and
--	(upper(ds_tipo_logradouro_com_p) <> upper(nr_seq_tipo_logradouro_old_w) or nr_seq_tipo_logradouro_old_w is null) then
if (nr_seq_logradouro_p <> nr_seq_tipo_logradouro_old_w or (nr_seq_logradouro_p IS NOT NULL AND nr_seq_logradouro_p::text <> '') or (coalesce(nr_seq_tipo_logradouro_old_w::text, '') = '' and (nr_seq_logradouro_p IS NOT NULL AND nr_seq_logradouro_p::text <> ''))) then
	update	pessoa_juridica
	set	nr_seq_tipo_logradouro	= nr_seq_logradouro_p
	where	cd_cgc			= cd_cgc_p;
	
	gravar_log_alteracao(nr_seq_tipo_logradouro_old_w, nr_seq_logradouro_p, nm_usuario_p, nr_seq_log_atual_w, 'NR_SEQ_TIPO_LOGRADOURO', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Endereco
--if	(ds_endereco_com_p is not null) and
--	(upper(ds_endereco_com_p) <> upper(ds_endereco_old_w) or ds_endereco_old_w is null) then
if (upper(ds_endereco_com_p) <> upper(ds_endereco_old_w) or coalesce(ds_endereco_com_p::text, '') = '' or (coalesce(ds_endereco_old_w::text, '') = '' and (ds_endereco_com_p IS NOT NULL AND ds_endereco_com_p::text <> ''))) then
	update	pessoa_juridica
	set	ds_endereco	= ds_endereco_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(ds_endereco_old_w, ds_endereco_com_p, nm_usuario_p, nr_seq_log_atual_w, 'DS_ENDERECO', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--numero
--if	(nr_endereco_com_p is not null) and
--	(upper(nr_endereco_com_p) <> upper(nr_endereco_old_w) or nr_endereco_old_w is null) then
if (upper(nr_endereco_com_p) <> upper(nr_endereco_old_w) or coalesce(nr_endereco_com_p::text, '') = '' or (coalesce(nr_endereco_old_w::text, '') = '' and (nr_endereco_com_p IS NOT NULL AND nr_endereco_com_p::text <> ''))) then
	update	pessoa_juridica
	set	nr_endereco	= nr_endereco_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(nr_endereco_old_w, nr_endereco_com_p, nm_usuario_p, nr_seq_log_atual_w, 'NR_ENDERECO', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Complemento
--if	(ds_complemento_com_p is not null) and
--	(upper(ds_complemento_com_p) <> upper(ds_complemento_old_w) or ds_complemento_old_w is null) then
if (upper(ds_complemento_com_p) <> upper(ds_complemento_old_w) or coalesce(ds_complemento_com_p::text, '') = '' or (coalesce(ds_complemento_old_w::text, '') = '' and (ds_complemento_com_p IS NOT NULL AND ds_complemento_com_p::text <> ''))) then
	update	pessoa_juridica
	set	ds_complemento	= ds_complemento_com_p
	where	cd_cgc		= cd_cgc_p;
	
	gravar_log_alteracao(ds_complemento_old_w, ds_complemento_com_p, nm_usuario_p, nr_seq_log_atual_w, 'DS_COMPLEMENTO', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--IBGE
--if	(cd_municipio_ibge_com_p is not null) and
--	(upper(cd_municipio_ibge_com_p) <> upper(cd_municipio_ibge_old_w) or cd_municipio_ibge_old_w is null) then
if (upper(cd_municipio_ibge_com_p) <> upper(cd_municipio_ibge_old_w) or coalesce(cd_municipio_ibge_com_p::text, '') = '' or (coalesce(cd_municipio_ibge_old_w::text, '') = '' and (cd_municipio_ibge_com_p IS NOT NULL AND cd_municipio_ibge_com_p::text <> ''))) then
	update	pessoa_juridica
	set	cd_municipio_ibge	= cd_municipio_ibge_com_p
	where	cd_cgc			= cd_cgc_p;
	
	gravar_log_alteracao(cd_municipio_ibge_old_w, cd_municipio_ibge_com_p, nm_usuario_p, nr_seq_log_atual_w, 'CD_MUNICIPIO_IBGE', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Bairro
--if	(ds_bairro_com_p is not null) and
--	(upper(ds_bairro_com_p) <> upper(ds_bairro_old_w) or ds_bairro_old_w is null) then
if (upper(ds_bairro_com_p) <> upper(ds_bairro_old_w) or coalesce(ds_bairro_com_p::text, '') = '' or (coalesce(ds_bairro_old_w::text, '') = '' and (ds_bairro_com_p IS NOT NULL AND ds_bairro_com_p::text <> ''))) then
	update	pessoa_juridica
	set	ds_bairro		= ds_bairro_com_p
	where	cd_cgc			= cd_cgc_p;
	
	gravar_log_alteracao(ds_bairro_old_w, ds_bairro_com_p, nm_usuario_p, nr_seq_log_atual_w, 'DS_BAIRRO', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--inscricao estadual
--if	(nr_inscricao_estadual_p is not null) and
--	(upper(nr_inscricao_estadual_p) <> upper(nr_inscricao_estadual_old_w) or nr_inscricao_estadual_old_w is null) then
if (upper(nr_inscricao_estadual_p) <> upper(nr_inscricao_estadual_old_w) or coalesce(nr_inscricao_estadual_p::text, '') = '' or (coalesce(nr_inscricao_estadual_old_w::text, '') = '' and (nr_inscricao_estadual_p IS NOT NULL AND nr_inscricao_estadual_p::text <> ''))) then
	update	pessoa_juridica
	set	nr_inscricao_estadual	= nr_inscricao_estadual_p
	where	cd_cgc			= cd_cgc_p;
	
	commit;
	
	gravar_log_alteracao(nr_inscricao_estadual_old_w, nr_inscricao_estadual_p, nm_usuario_p, nr_seq_log_atual_w, 'NR_INSCRICAO_ESTADUAL', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Observacao
--if	(ds_observacao_pj_p is not null) and
--	(upper(ds_observacao_pj_p) <> upper(ds_observacao_old_w) or ds_observacao_old_w is null) then
if (upper(ds_observacao_pj_p) <> upper(ds_observacao_old_w) or coalesce(ds_observacao_pj_p::text, '') = '' or (coalesce(ds_observacao_old_w::text, '') = '' and (ds_observacao_pj_p IS NOT NULL AND ds_observacao_pj_p::text <> ''))) then
	update	pessoa_juridica
	set		ds_observacao		= ds_observacao_pj_p
	where	cd_cgc			= cd_cgc_p;
	
	gravar_log_alteracao(ds_observacao_old_w, ds_observacao_pj_p, nm_usuario_p, nr_seq_log_atual_w, 'DS_OBSERVACAO', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;
--Nome Abreviado
--if	(nm_abreviado_p is not null) and
--	(upper(nm_abreviado_p) <> upper(ds_nome_abrev_w) or ds_nome_abrev_w is null) then
if (upper(nm_abreviado_p) <> upper(ds_nome_abrev_w) or coalesce(nm_abreviado_p::text, '') = '' or (coalesce(ds_nome_abrev_w::text, '') = '' and (nm_abreviado_p IS NOT NULL AND nm_abreviado_p::text <> ''))) then
	update	pessoa_juridica
	set	ds_nome_abrev		= nm_abreviado_p
	where	cd_cgc			= cd_cgc_p;
	
	gravar_log_alteracao(ds_nome_abrev_w, nm_abreviado_p, nm_usuario_p, nr_seq_log_atual_w, 'DS_NOME_ABREV', ie_log_w, '', 'PESSOA_JURIDICA', cd_cgc_p, 'CD_CGC='||cd_cgc_p);
end if;

commit;
--Sucesso
ie_retorno_p := 0;
exception
when others then
	rollback;
	--Erro
	ie_retorno_p := 1;
	ds_mensagem_erro_p := substr('Falha ao alterar a PJ : ' || sqlerrm(SQLSTATE) ,1,255);
end;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_obj_plussoft_pck.salvar_alteracoes_pj ( cd_cgc_p pessoa_juridica.cd_cgc%type, ds_razao_social_p pessoa_juridica.ds_razao_social%type, nm_fantasia_p pessoa_juridica.nm_fantasia%type, nr_ddi_telefone_com_p text, nr_ddd_telefone_com_p text, nr_telefone_com_p text, ds_email_pj_p text, ie_tipo_complemento_com_p text, cd_cep_com_p text, ds_pais_com_p text, sg_estado_com_p text, ds_municipio_com_p text, nr_seq_logradouro_p text, ds_endereco_com_p text, nr_endereco_com_p text, ds_complemento_com_p text, cd_municipio_ibge_com_p text, ds_bairro_com_p text, nr_inscricao_estadual_p text, ds_observacao_pj_p text, nm_usuario_p text, nm_abreviado_p text, ie_retorno_p INOUT bigint, ds_mensagem_erro_p INOUT text) FROM PUBLIC;
