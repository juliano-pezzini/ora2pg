-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pls_sip_pck.replica_indice_exp ( tb_indice_exp_origem_w t_exposicao_benef, nr_indice_origem_w integer, tb_indice_exp_destino_w INOUT t_exposicao_benef, nr_indice_destino_w integer) AS $body$
DECLARE

/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade:	Replica a posicao do vetor de exposicao de origem para o de destino.
	
		A replicacao e feita de forma simples, com intuito de apenas centralizar a mesma e 
		dar maior seguranca na manutencao ou criacao de novos campos na t_exposicao_benef, pois so sera
		necessario ajustar a replicacao aqui.
		
		
		Essa replicacao a priori sera utilizada na aplicacao de "IF EXTRA", contendo regras de negocio secundarias
		que foram abstraidas das buscas SQL, por questoes de performance
-------------------------------------------------------------------------------------------------------------------

Locais de chamada direta: 
[X]  Objetos do dicionario [ ] Tasy (Delphi/Java) [  ] Portal [  ]  Relatorios [ ] Outros:
-------------------------------------------------------------------------------------------------------------------

Pontos de atencao:
			Essa rotina NAO VALIDA as posicoes de origem e destino no vetor, isto deve vir apurado
			na rotina que estiver consumindo esta.
	
Alteracoes:
-------------------------------------------------------------------------------------------------------------------

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */


BEGIN

	tb_indice_exp_destino_w.nr_seq_segurado(nr_indice_destino_w) 		:= tb_indice_exp_origem_w.nr_seq_segurado(nr_indice_origem_w);
	tb_indice_exp_destino_w.nr_seq_tipo_carencia(nr_indice_destino_w) 	:= tb_indice_exp_origem_w.nr_seq_tipo_carencia(nr_indice_origem_w);
	tb_indice_exp_destino_w.dt_inicio_vig_carencia(nr_indice_destino_w)	:= tb_indice_exp_origem_w.dt_inicio_vig_carencia(nr_indice_origem_w);
	tb_indice_exp_destino_w.qt_dias_conf_car(nr_indice_destino_w)		:= tb_indice_exp_origem_w.qt_dias_conf_car(nr_indice_origem_w);
	tb_indice_exp_destino_w.qt_dias_fora_abrang_ant(nr_indice_destino_w)	:= tb_indice_exp_origem_w.qt_dias_fora_abrang_ant(nr_indice_origem_w);
	tb_indice_exp_destino_w.dt_contratacao(nr_indice_destino_w)		:= tb_indice_exp_origem_w.dt_contratacao(nr_indice_origem_w);
	tb_indice_exp_destino_w.dt_rescisao(nr_indice_destino_w)		:= tb_indice_exp_origem_w.dt_rescisao(nr_indice_origem_w);
	tb_indice_exp_destino_w.dt_inicio_lote_sip(nr_indice_destino_w)		:= tb_indice_exp_origem_w.dt_inicio_lote_sip(nr_indice_origem_w);
	tb_indice_exp_destino_w.dt_fim_lote_sip(nr_indice_destino_w)		:= tb_indice_exp_origem_w.dt_fim_lote_sip(nr_indice_origem_w);
	tb_indice_exp_destino_w.qt_dias_exposicao(nr_indice_destino_w)		:= tb_indice_exp_origem_w.qt_dias_exposicao(nr_indice_origem_w);
	tb_indice_exp_destino_w.qt_exposicao(nr_indice_destino_w)		:= tb_indice_exp_origem_w.qt_dias_exposicao(nr_indice_origem_w);
	tb_indice_exp_destino_w.qt_dias_carencia_lote(nr_indice_destino_w)	:= tb_indice_exp_origem_w.qt_dias_carencia_lote(nr_indice_origem_w);
	tb_indice_exp_destino_w.ie_envio_sip(nr_indice_destino_w)		:= tb_indice_exp_origem_w.ie_envio_sip(nr_indice_origem_w);
	tb_indice_exp_destino_w.nr_seq_lote(nr_indice_destino_w)		:= tb_indice_exp_origem_w.nr_seq_lote(nr_indice_origem_w);
	tb_indice_exp_destino_w.nr_seq_item_assist(nr_indice_destino_w)		:= tb_indice_exp_origem_w.nr_seq_item_assist(nr_indice_origem_w);
	tb_indice_exp_destino_w.ie_origem_exposicao(nr_indice_destino_w)	:= tb_indice_exp_origem_w.ie_origem_exposicao(nr_indice_origem_w);
	tb_indice_exp_destino_w.qt_benef_exp_item(nr_indice_destino_w)		:= tb_indice_exp_origem_w.qt_benef_exp_item(nr_indice_origem_w);
	tb_indice_exp_destino_w.nr_seq_carencia(nr_indice_destino_w)		:= tb_indice_exp_origem_w.nr_seq_carencia(nr_indice_origem_w);
	tb_indice_exp_destino_w.dt_ini_contratacao(nr_indice_destino_w)		:= tb_indice_exp_origem_w.dt_ini_contratacao(nr_indice_origem_w);
		
END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_sip_pck.replica_indice_exp ( tb_indice_exp_origem_w t_exposicao_benef, nr_indice_origem_w integer, tb_indice_exp_destino_w INOUT t_exposicao_benef, nr_indice_destino_w integer) FROM PUBLIC;
