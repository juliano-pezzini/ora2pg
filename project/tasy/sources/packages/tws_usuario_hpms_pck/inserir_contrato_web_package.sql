-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE tws_usuario_hpms_pck.inserir_contrato_web ( nr_seq_grupo_contrato_web_p pls_grupo_contrato_web.nr_sequencia%type, nr_seq_contrato_p pls_contrato.nr_sequencia%type, nr_seq_intercambio_p pls_intercambio.nr_sequencia%type, nr_seq_subestipulante_p pls_sub_estipulante.nr_sequencia%type, nm_usuario_p usuario.nm_usuario%type, cd_estabelecimento_p estabelecimento.cd_estabelecimento%type) AS $body$
BEGIN

if	((nr_seq_contrato_p IS NOT NULL AND nr_seq_contrato_p::text <> '') or (nr_seq_intercambio_p IS NOT NULL AND nr_seq_intercambio_p::text <> '')) then
	insert into pls_contrato_web(	nr_sequencia, ie_situacao, nr_seq_usuario_grupo,
						dt_atualizacao, nm_usuario, dt_atualizacao_nrec,    
						nm_usuario_nrec, nr_seq_contrato, nr_seq_intercambio,     
						nr_seq_subestipulante)
				values (	nextval('pls_contrato_web_seq'), 'A', nr_seq_grupo_contrato_web_p,	
						clock_timestamp(), nm_usuario_p, clock_timestamp(),
						nm_usuario_p, nr_seq_contrato_p, nr_seq_intercambio_p,
						nr_seq_subestipulante_p);				
						
end if;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE tws_usuario_hpms_pck.inserir_contrato_web ( nr_seq_grupo_contrato_web_p pls_grupo_contrato_web.nr_sequencia%type, nr_seq_contrato_p pls_contrato.nr_sequencia%type, nr_seq_intercambio_p pls_intercambio.nr_sequencia%type, nr_seq_subestipulante_p pls_sub_estipulante.nr_sequencia%type, nm_usuario_p usuario.nm_usuario%type, cd_estabelecimento_p estabelecimento.cd_estabelecimento%type) FROM PUBLIC;
