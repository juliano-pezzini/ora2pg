-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pfcs_file_pck.pfcs_generate () AS $body$
BEGIN

	PERFORM set_config('pfcs_file_pck.ds_time_w', to_char(clock_timestamp(),'ddmmyyyyhh24miss'), false);

	select	max(a.cd_enterprise)
	into STRICT	current_setting('pfcs_file_pck.cd_enterprise_w')::pfcs_enterprise.cd_enterprise%type
	from	pfcs_enterprise a;

	CALL pfcs_file_pck.pfcs_generate_panel();
	CALL pfcs_file_pck.pfcs_generate_panel_detail();
	CALL pfcs_file_pck.pfcs_generate_detail_patient();
	CALL pfcs_file_pck.pfcs_generate_detail_bed();
	CALL pfcs_file_pck.pfcs_generate_detail_employee();
	CALL pfcs_file_pck.pfcs_generate_detail_exam_lab();
	CALL pfcs_file_pck.pfcs_generate_lote();

	END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pfcs_file_pck.pfcs_generate () FROM PUBLIC;
