-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE localizador_apap_pck.gera_niveis () AS $body$
DECLARE

   atributos_w          atributos_t                      := atributos_t();
   nr_indice_w          bigint;
   nr_indice_ww         bigint := 0;
   i                    smallint;
   nr_seq_superior_1_w  bigint;
   nr_seq_superior_2_w  bigint;
   nr_seq_superior_3_w  bigint;
   nr_seq_superior_4_w  bigint;

   
   c_level_1 CURSOR FOR
      SELECT   c.vl_dominio ie_grupo,
               c.ds_expressao ds_descricao,
               null nr_seq_linked_data,
               null ie_informacao,
               null nm_tabela
      from     valor_dominio_v c
      where    c.cd_dominio    = 9771
      and      c.vl_dominio in ('SV','BH','ES','OB','OR','GL')
      
union

      SELECT   c.vl_dominio ie_grupo,
               c.ds_expressao ds_descricao,
               a.nr_sequencia nr_seq_linked_data,
               b.ie_informacao,
               a.nm_table nm_tabela
      from     linked_data a,
               linked_data_ativacao b,
               valor_dominio_v c
      where    a.nr_sequencia  = b.nr_seq_linked_data
      and      b.ie_grupo      = c.vl_dominio
      and      c.cd_dominio    = 9771
      and      c.vl_dominio    not in ('SV','BH','ES','OB','OR','GL')
      and      (a.nm_table IS NOT NULL AND a.nm_table::text <> '')
      order by 2;

   c_level_2_bh CURSOR FOR
      SELECT   a.nr_sequencia nr_seq_linked_data,
               obter_desc_expressao(a.cd_exp_title) ds_descricao,
               a.nm_table nm_tabela,
               'QT_TOTAL' nm_atributo,
               c.nr_seq_apresent
      from     linked_data a,
               linked_data_ativacao b,
               valor_dominio c
      where    a.nr_sequencia       = b.nr_seq_linked_data
      and      b.ie_grupo           = 'BH'
      and      b.ie_informacao      = c.vl_dominio
      and      c.cd_dominio         = 9778
      and      (a.nm_table IS NOT NULL AND a.nm_table::text <> '')
      order by c.nr_seq_apresent;

   c_level_2_escalas CURSOR FOR
      SELECT   a.nr_sequencia nr_seq_linked_data,
               obter_desc_expressao(a.cd_exp_title) ds_descricao,
               a.nm_table nm_tabela
      from     linked_data a,
               linked_data_ativacao b
      where    a.nr_sequencia       = b.nr_seq_linked_data
      and      b.ie_grupo           = 'ES'
      and      (a.nm_table IS NOT NULL AND a.nm_table::text <> '')
      order by 2;

   c_level_2_prescricao CURSOR FOR
      SELECT   a.nr_sequencia nr_seq_linked_data,
               obter_desc_expressao(a.cd_exp_title) ds_descricao,
               b.ie_informacao,
               CASE WHEN b.ie_informacao='SVP' THEN 'QT_TOTAL'  ELSE null END  nm_atributo
      from     linked_data a,
               linked_data_ativacao b
      where    a.nr_sequencia       = b.nr_seq_linked_data
      and      b.ie_grupo           = 'OR'
      and      (a.nm_table IS NOT NULL AND a.nm_table::text <> '')
      order by 2;

      
   c_level_2_obstetricia CURSOR FOR
      SELECT   a.nr_sequencia nr_seq_linked_data,
               obter_desc_expressao(a.cd_exp_title) ds_descricao
      from     linked_data a,
               linked_data_ativacao b
      where    a.nr_sequencia       = b.nr_seq_linked_data
      and      b.ie_grupo           = 'OB'
      and      (a.nm_table IS NOT NULL AND a.nm_table::text <> '')
      order by 2;

   c_level_2_sinais_vitais CURSOR FOR
      SELECT   a.nr_sequencia nr_seq_linked_data,
               obter_desc_expressao(a.cd_exp_title) ds_descricao
      from     linked_data a,
               linked_data_ativacao b
      where    a.nr_sequencia       = b.nr_seq_linked_data
      and      b.ie_grupo           = 'SV'
      and      (a.nm_table IS NOT NULL AND a.nm_table::text <> '')
      order by 2;

   c_level_2_glicemia CURSOR FOR
      SELECT   a.nr_sequencia nr_seq_linked_data,
               obter_desc_expressao(a.cd_exp_title) ds_descricao
      from     linked_data a,
               linked_data_ativacao b
      where    a.nr_sequencia       = b.nr_seq_linked_data
      and      b.ie_grupo           = 'GL'
      and      (a.nm_table IS NOT NULL AND a.nm_table::text <> '')
      order by 2;

      
   c_level_2_ganhos_perdas CURSOR FOR
      SELECT    c.ds_expressao ds_descricao,
                c.vl_dominio ie_perda_ganho,
                c.nr_seq_apresent
      from      valor_dominio_v c
      where     coalesce(c.ie_situacao,'A')  = 'A'
      and       c.cd_dominio            = 9772
      order by  c.nr_seq_apresent;

   c_level_2_notas_clinicas CURSOR FOR   
      SELECT   ds_tipo_evolucao ds_descricao,
               cd_tipo_evolucao ie_evolucao_clinica,
               'DS_SUBTIPO_EVOLUCAO' nm_atributo
      from     tipo_evolucao 
      where    coalesce(ie_situacao,'A') = 'A'
      order by ds_tipo_evolucao;

   c_level_2_grupo_exames CURSOR FOR
      SELECT  distinct b.DS_GRUPO_EXAME_LAB ds_descricao,
              b.nr_sequencia nr_seq_grupo
      from    EXAME_LABORATORIO a,
              GRUPO_EXAME_LAB b
      where   a.nr_seq_grupo = b.nr_sequencia
      and     coalesce(a.ie_situacao,'A') = 'A'
      
union

      SELECT  obter_desc_expressao(342888) ds_descricao,
              0 nr_seq_grupo
      
      where   exists (select 1 from EXAME_LABORATORIO a where coalesce(a.ie_situacao,'A') = 'A' and coalesce(a.nr_seq_grupo::text, '') = '')
      order by 1;


   c_level_3_exames CURSOR(nr_seq_grupo_p  bigint) FOR
      SELECT  nr_seq_exame,
              nm_exame ds_descricao,
              lab_obter_tipo_result_exame(null,nr_seq_exame) ie_formato_resultado 
      from    exame_laboratorio
      where   coalesce(nr_seq_grupo,0) = nr_seq_grupo_p
      and     coalesce(ie_situacao,'A') = 'A'
      and     coalesce(lab_obter_tipo_result_exame(null,nr_seq_exame),'XPTO') not in ('CA','XPTO')
      order by 2;

   c_level_3_ganhos_perdas CURSOR FOR   
      SELECT   ds_expressao ds_descricao,
               vl_dominio ie_grupo_tipo,
               nr_seq_apresent
      from     valor_dominio_v
      where    coalesce(ie_situacao,'A')  = 'A'
      and      cd_dominio            = 9774
      order by nr_seq_apresent;

   c_level_3_ficha CURSOR FOR
      SELECT   distinct ds_substancia ds_descricao,
               nr_seq_ficha_tecnica nr_ficha_tecnica,
               'QT_TOTAL' nm_atributo
      from     table(get_materiais) a
      order by 1;

   c_level_3_gasoterapia CURSOR FOR      
      SELECT   ds_gas ds_descricao,
               nr_sequencia nr_seq_gas,
               'QT_TOTAL' nm_atributo
      from     gas
      where    coalesce(ie_situacao,'A')    = 'A'
      order by 1;

   c_level_3_itens_admin CURSOR FOR
      SELECT    ds_expressao ds_descricao,
                vl_dominio ie_modo,
                nr_seq_apresent
      from      valor_dominio_v
      where     coalesce(ie_situacao,'A')    = 'A'
      and       cd_dominio              = 9776
      order by  nr_seq_apresent;

   c_level_4_itens_admin_grupo CURSOR FOR
      SELECT   distinct ds_grupo_material ds_descricao,
               'QT_TOTAL' nm_atributo,
               cd_grupo_material
      from     table(get_materiais) a
      order by 1;

   c_level_4_itens_admin_subgrupo CURSOR FOR
      SELECT   distinct ds_subgrupo_material ds_descricao,
               'QT_TOTAL' nm_atributo,
               cd_grupo_material,
               cd_subgrupo_material
      from     table(get_materiais) a
      order by 1;

   c_level_4_itens_admin_classe CURSOR FOR
      SELECT   distinct ds_classe_material ds_descricao,
               'QT_TOTAL' nm_atributo,
               cd_grupo_material,
               cd_subgrupo_material,
               cd_classe_material
      from     table(get_materiais) a
      order by 1;

   c_level_4_itens_admin_ficha CURSOR FOR
      SELECT   distinct ds_substancia ds_descricao,
               nr_seq_ficha_tecnica nr_ficha_tecnica,
               'QT_TOTAL' nm_atributo
      from     table(get_materiais) a
      order by 1;

   c_level_4_itens_admin_material CURSOR FOR
      SELECT   distinct ds_material ds_descricao,
               cd_grupo_material,
               cd_subgrupo_material,
               cd_classe_material,
               cd_material,
               'QT_TOTAL' nm_atributo
      from     table(get_materiais) a
      order by 1;

      
   c_level_4_ganhos_perdas_g CURSOR(ie_perda_ganho_p  text) FOR
      SELECT   distinct a.ds_grupo ds_descricao,
               a.nr_seq_grupo_pg
      from     table(get_ganhos_perdas) a
      where    a.ie_perda_ganho  = ie_perda_ganho_p
      order by 1;

   c_level_4_ganhos_perdas_t CURSOR(ie_perda_ganho_p  text) FOR
      SELECT   a.ds_tipo || '('||a.ds_grupo||')' ds_descricao,
               a.nr_seq_tipo_pg,
               a.nr_seq_grupo_pg
      from     table(get_ganhos_perdas) a
      where    a.ie_perda_ganho  = ie_perda_ganho_p
      order by 1;



   c_level_3_score_flex CURSOR FOR
      SELECT   ds_escala ds_descricao,
               nr_sequencia nr_seq_score_flex
      from     eif_escala_ii
      where    coalesce(ie_situacao,'A') = 'A'
      order by 1;

   c_atributos CURSOR(nr_seq_linked_data_p  bigint) FOR
      SELECT   SUBSTR(obter_desc_expressao(a.cd_exp_label),1,80) ds_descricao,
               a.nm_atributo
      from     table(get_linked_data) a
      where    a.nr_sequencia    = nr_seq_linked_data_p
      order by 1;

      
c_level_4_score_flex CURSOR FOR
   SELECT   SUBSTR(obter_desc_expressao(a.cd_exp_label),1,80) ds_descricao,
            a.nm_atributo
   from     table(get_linked_data) a
   where    upper(a.nm_table) = 'ESCALA_EIF_II'
   order by 1;


   
BEGIN
   CALL localizador_apap_pck.alimenta_array();
   nr_indice_w := 0;

   <<read_level_1>>
   for r_level_1 in c_level_1
      loop
      nr_indice_w := nr_indice_w + 1;
      current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t.extend(1);
      nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t.count;
      current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t[nr_indice_ww].ie_grupo               := r_level_1.ie_grupo;
      current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t[nr_indice_ww].ds_descricao           := r_level_1.ds_descricao;
      current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t[nr_indice_ww].nr_seq_linked_data     := r_level_1.nr_seq_linked_data;
      current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t[nr_indice_ww].ie_informacao          := r_level_1.ie_informacao;
      current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t[nr_indice_ww].nm_tabela              := r_level_1.nm_tabela;
      current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao;
      current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t[nr_indice_ww].nr_nivel               := 1;
      current_setting('localizador_apap_pck.estrutura_nivel_1_w')::estrutura_nivel_1_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
      nr_seq_superior_1_w                                      := nr_indice_w;
      if (r_level_1.ie_grupo = 'BH') then
         <<read_level_2>>
         for r_level_2 in c_level_2_bh
            loop
            nr_indice_w := nr_indice_w + 1;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.extend(1);
            nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.count;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_linked_data   := r_level_2.nr_seq_linked_data;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_descricao         := r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nm_atributo          := r_level_2.nm_atributo;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_estrutura         := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_apresent      := r_level_2.nr_seq_apresent;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_nivel             := 2;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_sequencia         := nr_indice_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_superior      := nr_seq_superior_1_w;
            end loop read_level_2;
      elsif (r_level_1.ie_grupo = 'ES') then
         <<read_level_2>>
         for r_level_2 in c_level_2_escalas
            loop
            nr_indice_w := nr_indice_w + 1;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.extend(1);
            nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.count;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_descricao           := r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_nivel               := 2;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_1_w;
            nr_seq_superior_2_w                                      := nr_indice_w;
            if (r_level_2.nm_tabela = 'ESCALA_EIF_II') then
               <<read_level_3>>
               for r_level_3 in c_level_3_score_flex
                  loop
                  nr_indice_w := nr_indice_w + 1;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
                  nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_score_flex      := r_level_3.nr_seq_score_flex;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
                  nr_seq_superior_3_w                                      := nr_indice_w;
                  <<read_level_4>>
                  for r_level_4 in c_level_4_score_flex
                     loop
                     nr_indice_w := nr_indice_w + 1;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.extend(1);
                     nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.count;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_descricao           := r_level_4.ds_descricao;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nm_atributo            := r_level_4.nm_atributo;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_score_flex      := r_level_3.nr_seq_score_flex;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_nivel               := 4;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_3_w;
                     end loop read_level_4;
                  end loop read_level_3;
            else
               <<read_level_3>>
               for r_level_3 in c_atributos(r_level_2.nr_seq_linked_data)
                  loop
                  nr_indice_w := nr_indice_w + 1;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
                  nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nm_atributo            := r_level_3.nm_atributo;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
                  end loop read_level_3;
            end if;
            end loop read_level_2;
      elsif (r_level_1.ie_grupo = 'GP') then
         atributos_w.delete;
         i := 0;
         <<read_atributo>>
         for r_atributos in c_atributos(r_level_1.nr_seq_linked_data)
            loop
            atributos_w.extend(1);
            i := i + 1;
            atributos_w[i].ds_descricao   := r_atributos.ds_descricao;
            atributos_w[i].nm_atributo    := r_atributos.nm_atributo;
            end loop read_atributo;

         <<read_level_2>>
         for r_level_2 in c_level_2_ganhos_perdas
            loop
            nr_indice_w := nr_indice_w + 1;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.extend(1);
            nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.count;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_linked_data     := r_level_1.nr_seq_linked_data;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_descricao           := r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_apresent        := r_level_2.nr_seq_apresent;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_1_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_nivel               := 2;
            nr_seq_superior_2_w                                      := nr_indice_w;
            <<read_level_3>>
            for r_level_3 in c_level_3_ganhos_perdas
               loop
               nr_indice_w := nr_indice_w + 1;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
               nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_1.nr_seq_linked_data;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_apresent        := r_level_3.nr_seq_apresent;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
               nr_seq_superior_3_w                                      := nr_indice_w;
               if (r_level_3.ie_grupo_tipo = 'G') then
                  <<read_level_4>>
                  for r_level_4 in c_level_4_ganhos_perdas_g(r_level_2.ie_perda_ganho)
                     loop
                     nr_indice_w := nr_indice_w + 1;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.extend(1);
                     nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.count;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_linked_data     := r_level_1.nr_seq_linked_data;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_grupo_pg        := r_level_4.nr_seq_grupo_pg;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_descricao           := r_level_4.ds_descricao;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_3_w;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_nivel               := 4;
                     nr_seq_superior_4_w                                      := nr_indice_w;
                     for   i in atributos_w.first..atributos_w.last
                        loop
                        nr_indice_w := nr_indice_w + 1;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t.extend(1);
                        nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t.count;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_seq_linked_data  := r_level_1.nr_seq_linked_data;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].ds_descricao        := atributos_w[i].ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nm_atributo         := atributos_w[i].nm_atributo;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_seq_grupo_pg     := r_level_4.nr_seq_grupo_pg;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].ds_estrutura        := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao||' -> '||atributos_w[i].ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_sequencia        := nr_indice_w;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_seq_superior     := nr_seq_superior_4_w;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_nivel            := 5;
                        end loop;
                     end loop read_level_4;
               else
                  <<read_level_4>>
                  for r_level_4 in c_level_4_ganhos_perdas_t(r_level_2.ie_perda_ganho)
                     loop
                     nr_indice_w := nr_indice_w + 1;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.extend(1);
                     nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.count;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_linked_data     := r_level_1.nr_seq_linked_data;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_tipo_pg         := r_level_4.nr_seq_tipo_pg;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_grupo_pg        := r_level_4.nr_seq_grupo_pg;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_descricao           := r_level_4.ds_descricao;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_3_w;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_nivel               := 4;
                     nr_seq_superior_4_w                                      := nr_indice_w;
                     for   i in atributos_w.first..atributos_w.last
                        loop
                        nr_indice_w := nr_indice_w + 1;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t.extend(1);
                        nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t.count;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_seq_linked_data  := r_level_1.nr_seq_linked_data;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].ds_descricao        := atributos_w[i].ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nm_atributo         := atributos_w[i].nm_atributo;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_seq_grupo_pg     := r_level_4.nr_seq_grupo_pg;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_seq_tipo_pg      := r_level_4.nr_seq_tipo_pg;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].ds_estrutura        := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao||' -> '||atributos_w[i].ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_sequencia        := nr_indice_w;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_seq_superior     := nr_seq_superior_4_w;
                        current_setting('localizador_apap_pck.estrutura_nivel_5_w')::estrutura_nivel_5_t[nr_indice_ww].nr_nivel            := 5;
                        end loop;
                     end loop read_level_4;
               end if;
               end loop read_level_3;
            end loop read_level_2;
      elsif (r_level_1.ie_grupo = 'EV') then
         <<read_level_2>>
         for r_level_2 in c_level_2_notas_clinicas
            loop
            nr_indice_w := nr_indice_w + 1;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.extend(1);
            nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.count;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_linked_data     := r_level_1.nr_seq_linked_data;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ie_evolucao_clinica    := r_level_2.ie_evolucao_clinica;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_descricao           := r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nm_atributo            := r_level_2.nm_atributo;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_1_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_nivel               := 2;
            end loop r_level_2;
      elsif (r_level_1.ie_grupo = 'OB') then
         <<read_level_2>>
         for r_level_2 in c_level_2_obstetricia
            loop
            nr_indice_w := nr_indice_w + 1;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.extend(1);
            nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.count;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_descricao           := r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_1_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_nivel               := 2;
            nr_seq_superior_2_w                                      := nr_indice_w;
            <<read_level_3>>
            for r_level_3 in c_atributos(r_level_2.nr_seq_linked_data)
               loop
               nr_indice_w := nr_indice_w + 1;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
               nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nm_atributo            := r_level_3.nm_atributo;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
               end loop read_level_3;
            end loop read_level_2;
      elsif (r_level_1.ie_grupo = 'OR') then
         <<read_level_2>>
         for r_level_2 in c_level_2_prescricao
            loop
            nr_indice_w := nr_indice_w + 1;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.extend(1);
            nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.count;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_descricao           := r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nm_atributo            := r_level_2.nm_atributo;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_nivel               := 2;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_1_w;
            nr_seq_superior_2_w                                      := nr_indice_w;
            if (r_level_2.ie_informacao = 'DE') then
               <<read_level_3>>
               for r_level_3 in c_level_3_ficha
                  loop
                  nr_indice_w := nr_indice_w + 1;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
                  nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nm_atributo            := r_level_3.nm_atributo;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_ficha_tecnica       := r_level_3.nr_ficha_tecnica;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
                  end loop read_level_3;
            elsif (r_level_2.ie_informacao = 'PCA') then
               <<read_level_3>>
               for r_level_3 in c_atributos(r_level_2.nr_seq_linked_data)
                  loop
                  nr_indice_w := nr_indice_w + 1;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
                  nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nm_atributo            := r_level_3.nm_atributo;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
                  end loop read_level_3;
            elsif (r_level_2.ie_informacao = 'GA') then
			   current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nm_atributo            :=  null;
               <<read_level_3>>
               for r_level_3 in c_level_3_gasoterapia
                  loop
                  nr_indice_w := nr_indice_w + 1;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
                  nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nm_atributo            := r_level_3.nm_atributo;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_gas             := r_level_3.nr_seq_gas;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
                  end loop read_level_3;
            elsif (r_level_2.ie_informacao in ('IA','IP')) then
               <<read_level_3>>
               for r_level_3 in c_level_3_itens_admin
                  loop
                  nr_indice_w := nr_indice_w + 1;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
                  nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_apresent        := r_level_3.nr_seq_apresent;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                  current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
                  nr_seq_superior_3_w                                      := nr_indice_w;
                  if (r_level_3.ie_modo = 'G') then
                     <<read_level_4>>
                     for r_level_4 in c_level_4_itens_admin_grupo
                        loop
                        nr_indice_w := nr_indice_w + 1;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.extend(1);
                        nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.count;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_descricao           := r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nm_atributo            := r_level_4.nm_atributo;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].cd_grupo_material      := r_level_4.cd_grupo_material;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_nivel               := 4;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_3_w;
                        end loop read_level_4;
                  elsif (r_level_3.ie_modo = 'S') then
                     <<read_level_4>>
                     for r_level_4 in c_level_4_itens_admin_subgrupo
                        loop
                        nr_indice_w := nr_indice_w + 1;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.extend(1);
                        nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.count;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_descricao           := r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nm_atributo            := r_level_4.nm_atributo;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].cd_subgrupo_material   := r_level_4.cd_subgrupo_material;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_nivel               := 4;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_3_w;
                        end loop read_level_4;
                  elsif (r_level_3.ie_modo = 'C') then
                     <<read_level_4>>
                     for r_level_4 in c_level_4_itens_admin_classe
                        loop
                        nr_indice_w := nr_indice_w + 1;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.extend(1);
                        nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.count;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_descricao           := r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nm_atributo            := r_level_4.nm_atributo;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].cd_classe_material     := r_level_4.cd_classe_material;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_nivel               := 4;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_3_w;
                        end loop read_level_4;
                  elsif (r_level_3.ie_modo = 'F') then
                     <<read_level_4>>
                     for r_level_4 in c_level_4_itens_admin_ficha
                        loop
                        nr_indice_w := nr_indice_w + 1;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.extend(1);
                        nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.count;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_descricao           := r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nm_atributo            := r_level_4.nm_atributo;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_ficha_tecnica       := r_level_4.nr_ficha_tecnica;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_nivel               := 4;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_3_w;
                        end loop read_level_4;
                  elsif (r_level_3.ie_modo = 'M') then
                     <<read_level_4>>
                     for r_level_4 in c_level_4_itens_admin_material
                        loop
                        nr_indice_w := nr_indice_w + 1;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.extend(1);
                        nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.count;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_descricao           := r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nm_atributo            := r_level_4.nm_atributo;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].cd_material            := r_level_4.cd_material;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_nivel               := 4;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                        current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_3_w;
                        end loop read_level_4;
                  end if;
                  end loop read_level_3;
            end if;
            end loop read_level_2;
      elsif (r_level_1.ie_grupo = 'EX') then
         <<read_level_2>>
         for r_level_2 in c_level_2_grupo_exames
            loop
            nr_indice_w := nr_indice_w + 1;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.extend(1);
            nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.count;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_linked_data     := r_level_1.nr_seq_linked_data;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_descricao           := r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_nivel               := 2;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_1_w;
            nr_seq_superior_2_w                                      := nr_indice_w;
            <<read_level_3>>
            for r_level_3 in c_level_3_exames(r_level_2.nr_seq_grupo)
               loop
               nr_indice_w := nr_indice_w + 1;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
               nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_1.nr_seq_linked_data;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nm_atributo            := null;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
               nr_seq_superior_3_w                                      := nr_indice_w;
               <<read_level_4>>
               for r_level_4 in c_atributos(r_level_1.nr_seq_linked_data)
                  loop
                  if (((r_level_3.ie_formato_resultado in ('V','CV','DD')) and (r_level_4.nm_atributo in ('QT_RESULTADO'))) or
                      ((r_level_3.ie_formato_resultado in ('VP')) and (r_level_4.nm_atributo in ('QT_RESULTADO','PR_RESULTADO'))) or
                      ((r_level_3.ie_formato_resultado in ('DV')) and (r_level_4.nm_atributo in ('QT_RESULTADO','DS_RESULTADO_CURTO','DS_RESULTADO'))) or
                      ((r_level_3.ie_formato_resultado in ('P')) and (r_level_4.nm_atributo in ('PR_RESULTADO'))) or
                      ((r_level_3.ie_formato_resultado in ('SM','MS','MSL','SDM','DL','S','D')) and (r_level_4.nm_atributo in ('DS_RESULTADO_CURTO','DS_RESULTADO')))) then
                     nr_indice_w := nr_indice_w + 1;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.extend(1);
                     nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t.count;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_linked_data     := r_level_1.nr_seq_linked_data;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_descricao           := r_level_4.ds_descricao;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nm_atributo            := r_level_4.nm_atributo;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_exame           := r_level_3.nr_seq_exame;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao||' -> '||r_level_4.ds_descricao;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_nivel               := 4;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
                     current_setting('localizador_apap_pck.estrutura_nivel_4_w')::estrutura_nivel_4_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_3_w;
                  end if;
                  end loop read_level_4;
               end loop read_level_3;
            end loop read_level_2;
      elsif (r_level_1.ie_grupo = 'GL') then 
         <<read_level_2>>
         for r_level_2 in c_level_2_glicemia
            loop
            nr_indice_w := nr_indice_w + 1;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.extend(1);
            nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.count;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_linked_data   := r_level_2.nr_seq_linked_data;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_descricao         := r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_estrutura         := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_nivel             := 2;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_sequencia         := nr_indice_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_superior      := nr_seq_superior_1_w;
            nr_seq_superior_2_w                                    := nr_indice_w;
            <<read_level_3>>
            for r_level_3 in c_atributos(r_level_2.nr_seq_linked_data)
               loop
               nr_indice_w := nr_indice_w + 1;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
               nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nm_atributo            := r_level_3.nm_atributo;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
               end loop read_level_3;
            end loop read_level_2;
      elsif (r_level_1.ie_grupo = 'SV') then
         <<read_level_2>>
         for r_level_2 in c_level_2_sinais_vitais
            loop
            nr_indice_w := nr_indice_w + 1;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.extend(1);
            nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t.count;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_linked_data   := r_level_2.nr_seq_linked_data;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_descricao         := r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].ds_estrutura         := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_nivel             := 2;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_sequencia         := nr_indice_w;
            current_setting('localizador_apap_pck.estrutura_nivel_2_w')::estrutura_nivel_2_t[nr_indice_ww].nr_seq_superior      := nr_seq_superior_1_w;
            nr_seq_superior_2_w                           := nr_indice_w;
            <<read_level_3>>
            for r_level_3 in c_atributos(r_level_2.nr_seq_linked_data)
               loop
               nr_indice_w := nr_indice_w + 1;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.extend(1);
               nr_indice_ww   := current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t.count;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_linked_data     := r_level_2.nr_seq_linked_data;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_descricao           := r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nm_atributo            := r_level_3.nm_atributo;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].ds_estrutura           := r_level_1.ds_descricao||' -> '||r_level_2.ds_descricao||' -> '||r_level_3.ds_descricao;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_nivel               := 3;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_sequencia           := nr_indice_w;
               current_setting('localizador_apap_pck.estrutura_nivel_3_w')::estrutura_nivel_3_t[nr_indice_ww].nr_seq_superior        := nr_seq_superior_2_w;
               end loop read_level_3;
            end loop read_level_2;
      end if;
      end loop read_level_1;
   END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE localizador_apap_pck.gera_niveis () FROM PUBLIC;
