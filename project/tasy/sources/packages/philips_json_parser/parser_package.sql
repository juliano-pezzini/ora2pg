-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION philips_json_parser.parser (str text) RETURNS PHILIPS_JSON AS $body$
DECLARE

    tokens lTokens;
    obj philips_json;
    indx integer := 1;
    jsrc json_src;

BEGIN
    CALL philips_json_parser.updatedecimalpoint();
    jsrc := philips_json_parser.prepareclob(str);
    jsrc := philips_json_parser.lexer(jsrc);
    if (tokens[indx].type_name = '{') then
      indx := indx + 1;
      indx := philips_json_parser.parseobj(tokens, indx);
    else
      --rase_application_error(-20101, 'philips_json Parser exception - no { start found');
	  CALL wheb_mensagem_pck.exibir_mensagem_abort('philips_json Parser exception - no { start found');
    end if;
    if (tokens.count != indx) then
      CALL philips_json_parser.p_error('} should end the philips_json object', tokens(indx));
    end if;

    return obj;
  END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION philips_json_parser.parser (str text) FROM PUBLIC;
