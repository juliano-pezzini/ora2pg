-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE audc_auditoria_concorrente_pck.audc_gerar_lote_imp ( nm_usuario_p usuario.nm_usuario%type, nr_seq_lote_imp_p INOUT audc_lote_atendimento_imp.nr_sequencia%type) AS $body$
DECLARE

				
/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade: Rotina utilizada para criar Lotes quando processo for realizado manualmente pelo Tasy
Pontos de atencao: 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */



nr_seq_lote_imp_w  audc_lote_atendimento_imp.nr_sequencia%type;


BEGIN
	

	
insert into audc_lote_atendimento_imp(
		nr_sequencia, dt_atualizacao, nm_usuario,
		dt_atualizacao_nrec,  nm_usuario_nrec, cd_ans,
		nr_lote, ie_tipo_transacao, dt_transacao,
		nr_cnpj_prestador, nr_cpf_prestador, cd_prestador,
		cd_versao_arquivo, ie_origem_lote)
	values ( nextval('audc_lote_atendimento_imp_seq'),clock_timestamp(),nm_usuario_p,
		clock_timestamp(), nm_usuario_p, null,
		null, null, clock_timestamp(),
		null, null, null,
		null, 'M') returning nr_sequencia into nr_seq_lote_imp_w;
	
	
nr_seq_lote_imp_p := nr_seq_lote_imp_w;	

commit;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE audc_auditoria_concorrente_pck.audc_gerar_lote_imp ( nm_usuario_p usuario.nm_usuario%type, nr_seq_lote_imp_p INOUT audc_lote_atendimento_imp.nr_sequencia%type) FROM PUBLIC;
