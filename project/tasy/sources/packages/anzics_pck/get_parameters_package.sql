-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION anzics_pck.get_parameters ( ds_parameters_p text) RETURNS VETORPARAMTYPE AS $body$
DECLARE

    ds_sep_bv_w varchar(10);
    params_list_w lista_varchar_pck.tabela_varchar;
    param_values_w lista_varchar_pck.tabela_varchar;
    nm_parameter_w varchar(100);
    vl_parameter_w varchar(100);
    vetorparamtype_w vetorparamtype;
    count_w integer := 1;

BEGIN
    ds_sep_bv_w                           := obter_separador_bv;
    IF (position(ds_sep_bv_w in ds_parameters_p) = 0 ) THEN
      ds_sep_bv_w                         := ';';
    END IF;
    params_list_w     := obter_lista_string2(ds_parameters_p,ds_sep_bv_w);
    IF (params_list_w IS NOT NULL AND params_list_w::text <> '') AND (params_list_w.count > 0)THEN
      FOR i IN params_list_w.first..params_list_w.last
      LOOP
        BEGIN
          param_values_w                           := obter_lista_string2(params_list_w(i),'=');
          IF (param_values_w IS NOT NULL AND param_values_w::text <> '') THEN
            nm_parameter_w                         := param_values_w(1);
            vl_parameter_w                         := param_values_w(2);
            vetorparamtype_w[count_w].nm_parameter := nm_parameter_w;
            vetorparamtype_w[count_w].vl_parameter := vl_parameter_w;
            count_w                                := count_w +1;
          END IF;
        END;
      END LOOP;
    END IF;
    RETURN vetorparamtype_w;
  END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION anzics_pck.get_parameters ( ds_parameters_p text) FROM PUBLIC;
