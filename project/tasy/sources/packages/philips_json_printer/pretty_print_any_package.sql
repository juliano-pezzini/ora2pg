-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION philips_json_printer.pretty_print_any (json_part philips_json_value, spaces boolean default true, line_length bigint default 0) RETURNS varchar AS $body$
DECLARE

    buf varchar(32767) := '';

BEGIN
    case json_part.get_type
      when 'number' then
        if (json_part.get_number() < 1 and json_part.get_number() > 0) then buf := '0'; end if;
        if (json_part.get_number() < 0 and json_part.get_number() > -1) then
          buf := '-0';
          buf := buf || substr(to_char(json_part.get_number(), 'TM9', 'NLS_NUMERIC_CHARACTERS=''.,'''),2);
        else
          buf := buf || to_char(json_part.get_number(), 'TM9', 'NLS_NUMERIC_CHARACTERS=''.,''');
        end if;
      when 'string' then
        buf := philips_json_printer.ppstring(json_part, buf);
      when 'bool' then
        if (json_part.get_bool) then buf := 'true'; else buf := 'false'; end if;
      when 'null' then
        buf := 'null';
      when 'array' then
        buf := philips_json_printer.pretty_print_list(philips_json_list(json_part), spaces, line_length);
      when 'object' then
        buf := philips_json_printer.pretty_print(philips_json(json_part), spaces, line_length);
      else buf := 'weird error: '|| json_part.get_type;
    end case;
    return buf;
  end;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION philips_json_printer.pretty_print_any (json_part philips_json_value, spaces boolean default true, line_length bigint default 0) FROM PUBLIC;
