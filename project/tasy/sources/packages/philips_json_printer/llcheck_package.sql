-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

 /* index by unicode char */
       


CREATE OR REPLACE FUNCTION philips_json_printer.llcheck (str text) RETURNS varchar AS $body$
BEGIN

    if (current_setting('philips_json_printer.max_line_len')::bigint > 0 and length(str)+current_setting('philips_json_printer.cur_line_len')::bigint > current_setting('philips_json_printer.max_line_len')::bigint) then
      PERFORM set_config('philips_json_printer.cur_line_len', length(str), false);
      return current_setting('philips_json_printer.newline_char')::varchar(2) || str;
    else
      PERFORM set_config('philips_json_printer.cur_line_len', current_setting('philips_json_printer.cur_line_len')::bigint + length(str), false);
      return str;
    end if;
  END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION philips_json_printer.llcheck (str text) FROM PUBLIC;
