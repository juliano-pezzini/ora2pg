-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


    /** 
	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
	NAIS MLA Common Accounting information
	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
	**/
CREATE OR REPLACE PROCEDURE nais_mla_pck.common_accounting_info ( r_c01 accinforectyp ) AS $body$
BEGIN
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.process_classif, 2, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.order_class, 2, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(to_char(r_c01.order_number), 8, 'L', '0');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.patient_identifier, 10, 'L', '0');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.consultation_date, 8, 'L', '0');

		if  regexp_like(r_c01.department_code , '^-\d+') and r_c01.department_code in ( '-1','-2','-3','-4','-5','-6') then
                CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text('0', 2, 'R');

        else
				CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.department_code, 2, 'R');
        end if;
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.patient_classification, 1, 'L', '0');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.ward_code, 3, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.room_number, 5, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.blood_tranfusion_type, 1, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.insurance_number, 2, 'L', '0');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.doctor_code, 8, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.patient_newborn, 1, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.prescription_classfication, 1, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.requestor_code, 3, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.mutual_exclusion_rule, 1, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.division_number, 4, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.blank_one, 1, 'R');
        CALL CALL CALL CALL CALL CALL CALL CALL CALL CALL nais_mla_pck.append_text(r_c01.blank_two, 1, 'R');
    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE nais_mla_pck.common_accounting_info ( r_c01 accinforectyp ) FROM PUBLIC;
