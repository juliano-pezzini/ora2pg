-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION carestream_japan_l10n_pck.get_directory_event_code (message_type_p text, directory_p text) RETURNS PHILIPS_JSON AS $body$
DECLARE

    cd_event_w philips_json;

BEGIN
    cd_event_w := philips_json();

    case
        when(message_type_p in ('3K', '3L', '3J', '3M', '3H', '3I', '3G') or directory_p = 'CARE_RIS_PDATA') then
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index', '81');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_ok', '132');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_error', '133');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data', '134');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_ok', '135');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_error', '136');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_log', '137');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '05');

        when(message_type_p in ('3E', '3F') or directory_p = 'CARE_RIS_ORDER') then
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index', '76');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_ok', '108');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_error', '109');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data', '110');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_ok', '111');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_error', '112');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_log', '113');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '01');

        when(message_type_p in ('2P') or directory_p = 'CARE_RIS_RRQ') then
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index', '77');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_ok', '114');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_error', '115');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data', '116');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_ok', '117');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_error', '118');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_log', '119');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '06');

        when(message_type_p in ('2Q', '2R') or directory_p = 'CARE_RIS_CHECKIN') then
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index', '78');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_ok', '120');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_error', '121');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data', '122');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_ok', '123');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_error', '124');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_log', '125');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '02');
	
        when(message_type_p in ('2S', '2T', '2U') or directory_p = 'CARE_RIS_COST') then
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index', '79');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_ok', '126');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_error', '127');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data', '128');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_ok', '129');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_error', '130');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_log', '131');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '03');

         when(message_type_p in ('1D') or directory_p = 'CARE_PHY_ORDER') then
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index', '65');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_ok', '98');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_error', '99');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data', '66');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_ok', '100');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_error', '101');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_log', '67');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '01');

        when(message_type_p in ('1G', '2H') or directory_p = 'CARE_PHY_PDATA') then
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index', '175');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_ok', '94');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_error', '95');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data', '174');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_ok', '96');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_error', '97');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_log', '176');
            if (message_type_p = '1G') then
                cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '07');
            else
                cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '06');
            end if;

        when(message_type_p in ('2E') or directory_p = 'CARE_PHY_ARRIVAL') then
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index', '68');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_ok', '69');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_error', '70');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data', '71');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_ok', '72');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_error', '73');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_log', '74');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '02');

        when(message_type_p in ('2F') or directory_p = 'CARE_PHY_COST') then
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index', '75');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_ok', '102');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_index_error', '103');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data', '104');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_ok', '105');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_data_error', '106');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'cd_event_log', '107');
            cd_event_w := carestream_japan_l10n_pck.add_json_value(cd_event_w, 'control_code', '04');

        end case;
    return cd_event_w;

    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION carestream_japan_l10n_pck.get_directory_event_code (message_type_p text, directory_p text) FROM PUBLIC;
