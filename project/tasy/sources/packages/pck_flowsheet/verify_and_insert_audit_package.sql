-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pck_flowsheet.verify_and_insert_audit (ds_campo text, ds_valor bigint, w_audit_flowsheet_p w_rel_audit_flowsheet) AS $body$
DECLARE


    w_audit_flowsheet_w w_rel_audit_flowsheet%rowtype := w_audit_flowsheet_p;

  
BEGIN
    
    if (ds_valor IS NOT NULL AND ds_valor::text <> '') then
    
        w_audit_flowsheet_w.ds_campo := ds_campo;
        w_audit_flowsheet_w.ds_valor := ds_valor;

        CALL pck_flowsheet.insert_audit(w_audit_flowsheet_p => w_audit_flowsheet_w);

    end if;

   	commit;

  END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pck_flowsheet.verify_and_insert_audit (ds_campo text, ds_valor bigint, w_audit_flowsheet_p w_rel_audit_flowsheet) FROM PUBLIC;
