-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE planserv_desdobramento_cta_pck.gravar_log ( ds_log_p log_planserv_desdob.ds_log%type, nm_usuario_p usuario.nm_usuario%type) AS $body$
BEGIN
 
		if get_gerar_log = 'S' then 
			 
			insert into log_planserv_desdob(	nr_sequencia, 
								nm_usuario, 
								dt_atualizacao, 
								ds_log) 
						values (	nextval('log_planserv_desdob_seq'), 
								nm_usuario_p, 
								clock_timestamp(), 
								substr(ds_log_p,1,255));
							 
			 
		end if;		
 
	END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE planserv_desdobramento_cta_pck.gravar_log ( ds_log_p log_planserv_desdob.ds_log%type, nm_usuario_p usuario.nm_usuario%type) FROM PUBLIC;
