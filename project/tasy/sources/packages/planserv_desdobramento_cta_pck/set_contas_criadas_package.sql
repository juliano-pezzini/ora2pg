-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE planserv_desdobramento_cta_pck.set_contas_criadas (nr_interno_conta_p bigint) AS $body$
BEGIN
		 
		if (coalesce(nr_interno_conta_p::text, '') = '') then 
			PERFORM set_config('planserv_desdobramento_cta_pck.ds_conta_criadas_w', null, false);
		else		 
			if current_setting('planserv_desdobramento_cta_pck.ds_conta_criadas_w')::coalesce(varchar(4000)::text, '') = '' then 
				PERFORM set_config('planserv_desdobramento_cta_pck.ds_conta_criadas_w', nr_interno_conta_p, false);
			else 
				PERFORM set_config('planserv_desdobramento_cta_pck.ds_conta_criadas_w', current_setting('planserv_desdobramento_cta_pck.ds_conta_criadas_w')::varchar(4000) ||','|| nr_interno_conta_p, false);	
			end if;
		end if;
 
	END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE planserv_desdobramento_cta_pck.set_contas_criadas (nr_interno_conta_p bigint) FROM PUBLIC;
