-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE gerar_int_padrao.gravar_log ( reg_integracao_conv_p INOUT reg_integracao_conv, nm_usuario_p text default 'INTPDTASY') AS $body$
DECLARE

		
i	integer;


BEGIN
for i in 0..reg_integracao_conv_p.intpd_log_receb.count-1 loop
	begin
	intpd_gravar_log_recebimento(	
		reg_integracao_conv_p.nr_seq_fila_transmissao,
		reg_integracao_conv_p.intpd_log_receb[i].ds_log,
		nm_usuario_p,
		reg_integracao_conv_p.intpd_log_receb[i].cd_default_message,
		'E');
	end;
end loop;

i	:=	0;

for i in 0..reg_integracao_conv_p.intpd_warning_receb.count-1 loop
	begin
	intpd_gravar_log_recebimento(	
		reg_integracao_conv_p.nr_seq_fila_transmissao,
		reg_integracao_conv_p.intpd_warning_receb[i].ds_log,
		'INTPDTASY',
		reg_integracao_conv_p.intpd_warning_receb[i].cd_default_message,
		'W');
	end;
end loop;

CALL ish_param_pck.atualizar_estab(reg_integracao_conv_p.nr_seq_fila_transmissao);
END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_int_padrao.gravar_log ( reg_integracao_conv_p INOUT reg_integracao_conv, nm_usuario_p text default 'INTPDTASY') FROM PUBLIC;
