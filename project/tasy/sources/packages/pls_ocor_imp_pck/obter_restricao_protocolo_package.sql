-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION pls_ocor_imp_pck.obter_restricao_protocolo ( cd_versao_tiss_p pls_oc_cta_filtro_prot.cd_versao_tiss%type, valor_bind_p INOUT sql_pck.t_dado_bind) AS $body$
DECLARE


ds_restricao_w	varchar(1000);
ds_alias_w	varchar(5);


BEGIN
-- Monta as restriaaes e binds dos campos de filtro de protocolo

ds_restricao_w := null;

-- obtam o alias da tabela

ds_alias_w := pls_ocor_imp_pck.obter_alias_tabela('pls_protocolo_conta_imp');

if (cd_versao_tiss_p IS NOT NULL AND cd_versao_tiss_p::text <> '') then
	ds_restricao_w :=	ds_restricao_w || pls_util_pck.enter_w ||
				'and	' || ds_alias_w || '.cd_versao_tiss = :cd_versao_tiss_pc';
	valor_bind_p := sql_pck.bind_variable(	':cd_versao_tiss_pc', cd_versao_tiss_p, valor_bind_p);
end if;

return;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION pls_ocor_imp_pck.obter_restricao_protocolo ( cd_versao_tiss_p pls_oc_cta_filtro_prot.cd_versao_tiss%type, valor_bind_p INOUT sql_pck.t_dado_bind) FROM PUBLIC;
