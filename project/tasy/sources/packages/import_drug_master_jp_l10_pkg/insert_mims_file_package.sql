-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE import_drug_master_jp_l10_pkg.insert_mims_file ( cd_estabelecimento_p text, nr_version_seq_p bigint, nm_usuario_p text, file_name_p text, cd_file_type_p bigint ) AS $body$
DECLARE

        mims_file_w       mims_file%rowtype;
        mims_filw_seq_w   mims_file.nr_sequencia%type;

BEGIN
        select nextval('mims_file_seq')
        into STRICT   mims_file_w.nr_sequencia
;

        mims_file_w.ds_file := file_name_p;
        mims_file_w.nr_mims_version := nr_version_seq_p;
        mims_file_w.nm_usuario := nm_usuario_p;
        mims_file_w.nm_usuario_nrec := nm_usuario_p;
        mims_file_w.dt_atualizacao := clock_timestamp();
        mims_file_w.dt_atualizacao_nrec := clock_timestamp();
        mims_file_w.ie_file_status := 5;
        mims_file_w.cd_file_type := cd_file_type_p;
        insert into mims_file values (mims_file_w.*);

    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE import_drug_master_jp_l10_pkg.insert_mims_file ( cd_estabelecimento_p text, nr_version_seq_p bigint, nm_usuario_p text, file_name_p text, cd_file_type_p bigint ) FROM PUBLIC;
