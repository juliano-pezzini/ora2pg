-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE import_drug_master_jp_l10_pkg.insert_drug_master_image ( cd_estabelecimento_p text, nr_version_seq_p text, nm_usuario_p text, cd_yj_code_p text, ds_img_path_p bytea, ie_tipo_img_p text ) AS $body$
DECLARE

        material_imagem_w       imp_material_imagem%rowtype;
        material_imagem_seq_w   imp_material_imagem.nr_sequencia%type;

BEGIN
        select
            nextval('imp_material_imagem_seq')
        into STRICT material_imagem_seq_w
;

        material_imagem_w.cd_yj_code := trim(both cd_yj_code_p);
        material_imagem_w.nr_seq_mims_version := trim(both nr_version_seq_p);
        material_imagem_w.nr_sequencia := material_imagem_seq_w;
        material_imagem_w.ie_tipo_image := ie_tipo_img_p;
        material_imagem_w.im_material := ds_img_path_p;
        material_imagem_w.nm_usuario := nm_usuario_p;
        material_imagem_w.nm_usuario_nrec := nm_usuario_p;
        material_imagem_w.dt_atualizacao := clock_timestamp();
        material_imagem_w.dt_atualizacao_nrec := clock_timestamp();
        material_imagem_w.ie_dirty_check := '2';
        insert into imp_material_imagem values (material_imagem_w.*);

        commit;
    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE import_drug_master_jp_l10_pkg.insert_drug_master_image ( cd_estabelecimento_p text, nr_version_seq_p text, nm_usuario_p text, cd_yj_code_p text, ds_img_path_p bytea, ie_tipo_img_p text ) FROM PUBLIC;
