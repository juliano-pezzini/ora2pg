-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

	
	

	/*---------------------------------------------------------------------------------------------------------------------------------------------
	|			LIMPAR_INCONSISTENCIAS				|
	*/
	/* Limpa as inconsistencias */

CREATE OR REPLACE PROCEDURE mprev_agenda_pck.limpar_inconsistencias ( dados_agenda_p dados_agendamento ) AS $body$
BEGIN
	PERFORM set_config('mprev_agenda_pck.qt_mensagens_erro_w', 0, false);
	PERFORM set_config('mprev_agenda_pck.qt_mensagens_atencao_w', 0, false);
	PERFORM set_config('mprev_agenda_pck.qt_mensagens_confirm_w', 0, false);

	delete  from w_mprev_agenda_inconsist
	where	nm_usuario = dados_agenda_p.nm_usuario;

	commit;
	END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE mprev_agenda_pck.limpar_inconsistencias ( dados_agenda_p dados_agendamento ) FROM PUBLIC;
