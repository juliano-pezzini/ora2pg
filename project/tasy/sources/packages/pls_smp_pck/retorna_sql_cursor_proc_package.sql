-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION pls_smp_pck.retorna_sql_cursor_proc ( regra_simulacao_preco_proc_p pls_smp_pck.regra_simulacao_preco_proc, bind_sql_valor_p INOUT sql_pck.t_dado_bind) AS $body$
DECLARE

/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade:	Gerar o sql do cursor que busca as regras por procedimento
-------------------------------------------------------------------------------------------------------------------
Locais de chamada direta: 
[X]  Objetos do dicionario [ ] Tasy (Delphi/Java) [  ] Portal [  ]  Relatorios [ ] Outros:
-------------------------------------------------------------------------------------------------------------------
Pontos de atencao:
Alteracoes:
-------------------------------------------------------------------------------------------------------------------
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
sql_cursor_w		varchar(32000);

BEGIN



sql_cursor_w :=	'select	nvl(a.nr_sequencia,0) nr_sequencia,  ' || pls_util_pck.enter_w ||
		'	a.nr_seq_grupo_servico,       ' || pls_util_pck.enter_w || 
		'	nvl(a.nr_seq_grupo_prestador,0) nr_seq_grupo_prestador, ' || pls_util_pck.enter_w || 
		'	a.nr_seq_grupo_contrato,      ' || pls_util_pck.enter_w || 
		'	a.nr_seq_grupo_produto,       ' || pls_util_pck.enter_w || 
		'	a.nr_seq_cbhpm_edicao,' || pls_util_pck.enter_w || 
		'	a.ie_proc_tabela,' || pls_util_pck.enter_w || 
		'	a.nr_seq_categoria_plano,' || pls_util_pck.enter_w || 
		'	a.nr_seq_regra_atend_cart,' || pls_util_pck.enter_w || 
		'	a.cd_especialidade_prest,' || pls_util_pck.enter_w || 
		'	a.ie_ch_padrao_anestesista,' || pls_util_pck.enter_w || 
		'	a.nr_seq_grupo_operadora, ' || pls_util_pck.enter_w || 
		'	a.cd_moeda_tabela' || pls_util_pck.enter_w || 
		'from	pls_regra_preco_proc a    ' || pls_util_pck.enter_w || 
		'where	((:ie_regra_preco_pc = ''N'') or (a.cd_estabelecimento = :cd_estabelecimento_pc)) ' || pls_util_pck.enter_w || 
		'and	a.ie_situacao 	= ''A''   ' || pls_util_pck.enter_w || 
		'and	((a.cd_procedimento is null) or ((a.cd_procedimento = :cd_procedimento_pc) and (a.ie_Origem_proced = :ie_origem_proced_pc))) ' || pls_util_pck.enter_w || 
		'and	((nr_seq_classificacao 	is null) or (a.nr_seq_classificacao = :nr_seq_classificacao_prest_pc) or (a.nr_seq_classificacao = :nr_seq_classificacao_exec_pc)) ' || pls_util_pck.enter_w || 
		'and	((a.ie_tipo_vinculo 	is null) or (a.ie_tipo_vinculo = :ie_tipo_vinculo_pc)) ' || pls_util_pck.enter_w || 
		'and	(a.nr_seq_grupo_prestador is null 	or ' || pls_util_pck.enter_w || 
		'	exists	(select	1' || pls_util_pck.enter_w || 
		'		from	pls_preco_prestador x' || pls_util_pck.enter_w || 
		'		where	x.nr_seq_grupo	= a.nr_seq_grupo_prestador' || pls_util_pck.enter_w || 
		'		and	((x.nr_seq_prestador is null)	  or (x.nr_seq_prestador	= :nr_seq_prestador_pc))' || pls_util_pck.enter_w || 
		'		and	((x.nr_seq_classificacao is null) or (x.nr_seq_classificacao	= :nr_seq_classificacao_pc))' || pls_util_pck.enter_w || 
		'		)' || pls_util_pck.enter_w || 
		'	)' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_tipo_prestador 	is null) or (a.nr_seq_tipo_prestador 	= nvl(:nr_seq_tipo_prestador_pc,''''))) ' || pls_util_pck.enter_w || 
		'and	(' || pls_util_pck.enter_w || 
		'		(' || pls_util_pck.enter_w || 
		'			(nvl(a.ie_taxa_coleta,''N'') = ''N'') and ' || pls_util_pck.enter_w || 
		'			((a.nr_seq_prestador is null) or (a.nr_seq_prestador = nvl(:nr_seq_prestador_pc,0))) and ' || pls_util_pck.enter_w || 
		'			((a.cd_prestador = nvl(:cd_prestador_pc,''0'')) or (a.cd_prestador is null))' || pls_util_pck.enter_w || 
		'		) or	' || pls_util_pck.enter_w || 
		'		(' || pls_util_pck.enter_w || 
		'			((nvl(a.ie_taxa_coleta,''N'')	= ''S'') and (:ie_prestador_pagamento_pc	= ''S'')) and ' || pls_util_pck.enter_w || 
		'			((a.nr_seq_prestador is null) or (a.nr_seq_prestador = nvl(:nr_seq_prest_pgto_coleta_pc,0))) and ' || pls_util_pck.enter_w || 
		'			((a.cd_prestador = nvl(:cd_prestador_pc,''0'')) or(a.cd_prestador is null))' || pls_util_pck.enter_w || 
		'		)' || pls_util_pck.enter_w || 
		'	)	' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_categoria 	is null) or (a.nr_seq_categoria = nvl(:nr_seq_categoria_pc,0))) ' || pls_util_pck.enter_w || 
		'and	((a.cd_grupo_proc 	is null) or (a.cd_grupo_proc = :cd_grupo_proc_pc))' || pls_util_pck.enter_w || 
		'and	((a.cd_especialidade 	is null) or (a.cd_especialidade = :cd_especialidade_pc)) ' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_clinica 	is null) or (a.nr_seq_clinica = :nr_seq_clinica_pc))  ' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_plano 	is null) or (a.nr_seq_plano = :nr_seq_plano_pc))       ' || pls_util_pck.enter_w || 
		'and	((a.ie_preco 		is null) or (ie_preco = :ie_preco_pc))  ' || pls_util_pck.enter_w || 
		'and	((a.cd_convenio 	is null) or (a.cd_convenio = :cd_convenio_pc))           ' || pls_util_pck.enter_w || 
		'and	((a.cd_categoria 	is null) or (a.cd_categoria = :cd_categoria_pc))        ' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_outorgante 	is null) or (a.nr_seq_outorgante = nvl(:nr_seq_outorgante_pc,a.nr_seq_outorgante))) ' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_contrato 	is null) or (a.nr_seq_contrato = nvl(:nr_seq_contrato_pc,0)))' || pls_util_pck.enter_w || 
		'and	((a.ie_tipo_contratacao is null) or (a.ie_tipo_contratacao = nvl(:ie_tipo_contratacao_pc,0)))' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_cbo_saude 	is null) or (a.nr_seq_cbo_saude = nvl(:nr_seq_cbo_saude_pc,0)))' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_congenere 	is null) or (a.nr_seq_congenere = nvl(:nr_seq_congenere_pc,0)))' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_intercambio 	is null) or (a.nr_seq_intercambio = nvl(:nr_seq_intercambio_pc,0)))' || pls_util_pck.enter_w || 
		'and	((a.qt_idade_inicial 	is null) or (a.qt_idade_inicial <= :qt_idade_benef_pc))' || pls_util_pck.enter_w || 
		'and	((a.qt_idade_final 	is null) or (a.qt_idade_final >= :qt_idade_benef_pc))  ' || pls_util_pck.enter_w || 
		'and	((a.ie_tipo_segurado 	is null) or (a.ie_tipo_segurado	= :ie_tipo_segurado_pc))    ' || pls_util_pck.enter_w || 
		'and	((a.ie_tipo_contrato 	is null) or (a.ie_tipo_contrato	 = :ie_tipo_contrato_pc))' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_rp_combinada	is null) or (a.nr_seq_rp_combinada	= :nr_seq_rp_combinada_pc))' || pls_util_pck.enter_w || 
		'and	((a.ie_cooperado	is null) or (a.ie_cooperado	= ''N'' ) or (a.ie_cooperado	= :ie_cooperado_pc))' || pls_util_pck.enter_w || 
		'and	((a.ie_internado	is null) or (a.ie_internado	= ''N'' ) or (a.ie_internado	= :ie_internado_pc))' || pls_util_pck.enter_w || 
		--'and	((a.ie_tipo_guia 	is null) or (a.ie_tipo_guia 	= :ie_tipo_guia_pc))' || pls_util_pck.enter_w || 
		'and	((a.ie_acomodacao	is null) or (a.ie_acomodacao 	= :ie_acomodacao_pc) or (a.ie_acomodacao = ''N''))' || pls_util_pck.enter_w || 
		'and	((a.ie_acomodacao_autorizada	is null) or (a.ie_acomodacao_autorizada 	= :ie_acomodacao_autorizada_pc) or (a.ie_acomodacao_autorizada = ''N''))' || pls_util_pck.enter_w || 
	--	'and	((a.ie_tipo_intercambio	is null) or (a.ie_tipo_intercambio = ''A'') or (a.ie_tipo_intercambio = nvl(:ie_tipo_intercambio_pc,''A'')))' || pls_util_pck.enter_w || 
		'and	((a.ie_franquia		is null) or (a.ie_franquia = ''N'') or (a.ie_franquia = nvl(:ie_franquia_pc, a.ie_franquia)))' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_grupo_rec 	is null) or (a.nr_seq_grupo_rec	= nvl(:nr_seq_grupo_rec_pc,0)))' || pls_util_pck.enter_w || 
		'and	((a.ie_pcmso		is null) or (a.ie_pcmso = ''N'') 	or (a.ie_pcmso = :ie_pcmso_pc))' || pls_util_pck.enter_w || 
		'and	((a.ie_tipo_acomodacao_ptu 	is null) or (a.ie_tipo_acomodacao_ptu = ''T'') or (a.ie_tipo_acomodacao_ptu 	= nvl(:ie_tipo_acomodacao_ptu_pc,''A'')))' || pls_util_pck.enter_w || 
		'and	((a.cd_area_procedimento 	is null) or (a.cd_area_procedimento    = :cd_area_procedimento_pc))' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_tipo_acomodacao 	is null) or (a.nr_seq_tipo_acomodacao  = :nr_seq_tipo_acomodacao_pc)) ' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_tipo_atendimento 	is null) or (a.nr_seq_tipo_atendimento = :nr_seq_tipo_atendimento_pc))' || pls_util_pck.enter_w ||
		'and	((a.nr_seq_grupo_intercambio 	is null) or (a.nr_seq_grupo_intercambio = :nr_seq_grupo_intercambio_pc))' || pls_util_pck.enter_w || 
		'and	((a.ie_tecnica_utilizada 	is null) or (a.ie_tecnica_utilizada	= :ie_tecnica_utilizada_pc))' || pls_util_pck.enter_w || 
		'and	((a.sg_uf_operadora_intercambio is null) or (a.sg_uf_operadora_intercambio = nvl(:sg_uf_oper_inter_pc,''X'')))' || pls_util_pck.enter_w || 
		'and	((a.ie_carater_internacao 	is null) or (a.ie_carater_internacao 	= nvl(:ie_carater_internacao_pc,''X'')))' || pls_util_pck.enter_w || 
		'and	((a.ie_origem_procedimento 	is null) or (a.ie_origem_procedimento 	= :ie_origem_proced_pc))' || pls_util_pck.enter_w || 
		'and	((a.nr_seq_ops_congenere 	is null) or (a.nr_seq_ops_congenere 	= nvl(:nr_seq_ops_congenere_pc,0)))' || pls_util_pck.enter_w || 
		'and	((a.ie_tipo_atendimento		= ''A'') or (a.ie_tipo_atendimento	= :ie_tipo_atendimento_pc))' || pls_util_pck.enter_w || 
		'and 	:dt_guia_pc  >= a.dt_inicio_vigencia ' || pls_util_pck.enter_w || 
		'and 	(:dt_guia_pc <= a.dt_fim_vigencia or a.dt_fim_vigencia is null) ' || pls_util_pck.enter_w || 
		'and	((a.ie_tipo_tabela	= :ie_tipo_tabela_pc)  ' || pls_util_pck.enter_w || 
		'or	(((a.ie_tipo_tabela	= ''IC'') or  (a.ie_tipo_tabela	= ''I'')) and (:ie_tipo_tabela_pc	= ''I'')))' || pls_util_pck.enter_w;
if (pls_util_cta_pck.usar_novo_agrup = 'S') then
	sql_cursor_w := sql_cursor_w ||	'	and	((a.nr_seq_grupo_servico	is null) or(exists	(select	1 '|| pls_util_pck.enter_w ||
					'				from	pls_grupo_servico_tm grupo '|| pls_util_pck.enter_w ||
					'				where	grupo.nr_seq_grupo_servico = a.nr_seq_grupo_servico '|| pls_util_pck.enter_w ||
					'				and	grupo.ie_origem_proced = :ie_origem_proced_pc '|| pls_util_pck.enter_w ||
					'				and	grupo.cd_procedimento = :cd_procedimento_pc))) '|| pls_util_pck.enter_w;
else		
	sql_cursor_w := sql_cursor_w ||	'and	((a.nr_seq_grupo_servico	is null) or(exists	(select	1' || pls_util_pck.enter_w ||
					'								from	table(pls_grupos_pck.obter_procs_grupo_servico(a.nr_seq_grupo_servico, :ie_origem_proced_pc, :cd_procedimento_pc)) grupo)))';
end if;

		
bind_sql_valor_p := sql_pck.bind_variable(	':ie_regra_preco_pc', regra_simulacao_preco_proc_p.ie_regra_preco, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':cd_estabelecimento_pc', (regra_simulacao_preco_proc_p.cd_estabelecimento)::numeric , bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':cd_procedimento_pc', to_char(regra_simulacao_preco_proc_p.cd_procedimento), bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_origem_proced_pc', regra_simulacao_preco_proc_p.ie_origem_proced, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_tipo_prestador_pc', regra_simulacao_preco_proc_p.nr_seq_tipo_prest_exec, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_classificacao_prest_pc', regra_simulacao_preco_proc_p.nr_seq_clas_prest, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_classificacao_exec_pc', regra_simulacao_preco_proc_p.nr_seq_clas_prest_exec, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_classificacao_pc', regra_simulacao_preco_proc_p.nr_seq_clas_prest, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_tipo_vinculo_pc', regra_simulacao_preco_proc_p.ie_tipo_vinculo_prest, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_prestador_pc', regra_simulacao_preco_proc_p.nr_seq_prestador, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':cd_prestador_pc', regra_simulacao_preco_proc_p.cd_prestador, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_prestador_pagamento_pc', regra_simulacao_preco_proc_p.ie_prestador_pagamento, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_prest_pgto_coleta_pc', regra_simulacao_preco_proc_p.nr_seq_prest_pgto_coleta, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_categoria_pc', regra_simulacao_preco_proc_p.nr_seq_categoria, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':cd_grupo_proc_pc', regra_simulacao_preco_proc_p.cd_grupo_proc, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':cd_especialidade_pc', regra_simulacao_preco_proc_p.cd_especialidade, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_clinica_pc', regra_simulacao_preco_proc_p.nr_seq_clinica, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_plano_pc', regra_simulacao_preco_proc_p.nr_seq_plano, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_preco_pc', regra_simulacao_preco_proc_p.ie_preco, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':cd_convenio_pc', regra_simulacao_preco_proc_p.cd_convenio, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':cd_categoria_pc', regra_simulacao_preco_proc_p.cd_categoria, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_outorgante_pc', regra_simulacao_preco_proc_p.nr_seq_outorgante, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_contrato_pc', regra_simulacao_preco_proc_p.nr_seq_contrato, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_tipo_contratacao_pc', regra_simulacao_preco_proc_p.ie_tipo_contratacao, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_cbo_saude_pc', regra_simulacao_preco_proc_p.nr_seq_cbo_saude, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_congenere_pc', regra_simulacao_preco_proc_p.nr_seq_congenere, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_intercambio_pc', regra_simulacao_preco_proc_p.nr_seq_intercambio, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':qt_idade_benef_pc', regra_simulacao_preco_proc_p.qt_idade_benef, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_tipo_segurado_pc', regra_simulacao_preco_proc_p.ie_tipo_beneficiario, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_tipo_contrato_pc', regra_simulacao_preco_proc_p.ie_tipo_contrato, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_rp_combinada_pc', regra_simulacao_preco_proc_p.nr_seq_rp_combinada, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_regra_preco_pc', regra_simulacao_preco_proc_p.ie_regra_preco, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_cooperado_pc', regra_simulacao_preco_proc_p.ie_cooperado, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_internado_pc', regra_simulacao_preco_proc_p.ie_internado, bind_sql_valor_p);
--sql_pck.bind_variable(	':ie_tipo_guia_pc', 			regra_simulacao_preco_proc_p.ie_tipo_guia, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_acomodacao_pc', regra_simulacao_preco_proc_p.ie_acomodacao, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_acomodacao_autorizada_pc', regra_simulacao_preco_proc_p.ie_acomodacao_autorizada, bind_sql_valor_p);
--sql_pck.bind_variable(	':ie_tipo_intercambio_pc',		regra_simulacao_preco_proc_p.ie_tipo_intercambio, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_franquia_pc', regra_simulacao_preco_proc_p.ie_franquia, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_grupo_rec_pc', regra_simulacao_preco_proc_p.nr_seq_grupo_rec, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_pcmso_pc', regra_simulacao_preco_proc_p.ie_pcmso, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_tipo_acomodacao_ptu_pc', regra_simulacao_preco_proc_p.ie_tipo_acomodacao_ptu, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':cd_area_procedimento_pc', regra_simulacao_preco_proc_p.cd_area_procedimento, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_tipo_acomodacao_pc', regra_simulacao_preco_proc_p.nr_seq_tipo_acomodacao, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_tipo_atendimento_pc', regra_simulacao_preco_proc_p.nr_seq_tipo_atendimento, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_grupo_intercambio_pc', regra_simulacao_preco_proc_p.nr_seq_grupo_intercambio, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_tecnica_utilizada_pc', regra_simulacao_preco_proc_p.ie_tecnica_utilizada, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':sg_uf_oper_inter_pc', regra_simulacao_preco_proc_p.sg_uf_operadora_intercambio, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_carater_internacao_pc', regra_simulacao_preco_proc_p.ie_carater_internacao, bind_sql_valor_p);	
bind_sql_valor_p := sql_pck.bind_variable(	':dt_guia_pc', regra_simulacao_preco_proc_p.dt_guia, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_tipo_tabela_pc', regra_simulacao_preco_proc_p.ie_tipo_tabela, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':nr_seq_ops_congenere_pc', regra_simulacao_preco_proc_p.nr_seq_ops_congenere, bind_sql_valor_p);
bind_sql_valor_p := sql_pck.bind_variable(	':ie_tipo_atendimento_pc', regra_simulacao_preco_proc_p.ie_tipo_atendimento, bind_sql_valor_p);

return;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION pls_smp_pck.retorna_sql_cursor_proc ( regra_simulacao_preco_proc_p pls_smp_pck.regra_simulacao_preco_proc, bind_sql_valor_p INOUT sql_pck.t_dado_bind) FROM PUBLIC;
