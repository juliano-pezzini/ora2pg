-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE doc_export_auto_pkg.insert_doc_monit (NR_SEQ_AUTO_IMP_P RELATORIO_AUTO_IMP.NR_SEQUENCIA%TYPE, DS_TABLE_P DOC_EXPORT_MONIT.NM_TABELA%TYPE) AS $body$
BEGIN

    INSERT INTO DOC_EXPORT_MONIT(nr_sequencia,
       nr_seq_auto_imp,
       nm_tabela,
       dt_atualizacao_nrec,
       nm_usuario_nrec,
       dt_atualizacao)
    VALUES
      ((SELECT max(nr_sequencia) + 1 as nr_sequencia from DOC_EXPORT_MONIT),
       NR_SEQ_AUTO_IMP_P,
       DS_TABLE_P,
       clock_timestamp(),
       wheb_usuario_pck.get_nm_usuario,
       clock_timestamp());

  END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE doc_export_auto_pkg.insert_doc_monit (NR_SEQ_AUTO_IMP_P RELATORIO_AUTO_IMP.NR_SEQUENCIA%TYPE, DS_TABLE_P DOC_EXPORT_MONIT.NM_TABELA%TYPE) FROM PUBLIC;
