-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION doc_export_auto_pkg.get_is_table (DS_TABLE_P RELATORIO_DINAMICO.DS_LABEL%TYPE) RETURNS RELATORIO_AUTO_IMP.IE_EXPORTAR_DOCUMENTO%TYPE AS $body$
DECLARE


    DS_CHECK_W RELATORIO_AUTO_IMP.IE_EXPORTAR_DOCUMENTO%TYPE;
    NR_COUNT_W TITULO_RECEBER.NR_DOCUMENTO%TYPE;


BEGIN

    DS_CHECK_W := 'N';

    SELECT COUNT(1)
      INTO STRICT NR_COUNT_W
      FROM TABELA_SISTEMA T
     WHERE UPPER(T.NM_TABELA) = UPPER(DS_TABLE_P)
       AND UPPER(SUBSTR(T.NM_TABELA, 1, 2)) <> 'W_'
       AND EXISTS (SELECT 1
                FROM USER_TAB_COLUMNS C
               WHERE UPPER(C.TABLE_NAME) = UPPER(DS_TABLE_P)
                 AND UPPER(C.COLUMN_NAME) = 'DT_ATUALIZACAO');

    IF NR_COUNT_W > 0 THEN

      DS_CHECK_W := 'S';

    END IF;

    RETURN DS_CHECK_W;

  END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION doc_export_auto_pkg.get_is_table (DS_TABLE_P RELATORIO_DINAMICO.DS_LABEL%TYPE) FROM PUBLIC;
