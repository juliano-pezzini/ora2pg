-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE FUNCTION doc_export_auto_pkg.normalize_object (DS_OBJECT_P RELATORIO.DS_SQL%TYPE) RETURNS RELATORIO.DS_SQL%TYPE AS $body$
DECLARE


    DS_OBJECT_W RELATORIO.DS_SQL%TYPE;
    NR_SPACE_W  RELATORIO.NR_SEQUENCIA%TYPE;


BEGIN

    DS_OBJECT_W := NULL;

    IF (DS_OBJECT_P IS NOT NULL AND DS_OBJECT_P::text <> '') THEN

      DS_OBJECT_W := trim(both LTRIM(trim(both DS_OBJECT_P), '('));

      IF (DS_OBJECT_W IS NOT NULL AND DS_OBJECT_W::text <> '') THEN

        NR_SPACE_W  := position(' ' in DS_OBJECT_W);

        IF NR_SPACE_W > 0 THEN

          DS_OBJECT_W := SUBSTR(DS_OBJECT_W, 1, NR_SPACE_W - 1);

        END IF;

      END IF;

    END IF;

    RETURN DS_OBJECT_W;

  END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION doc_export_auto_pkg.normalize_object (DS_OBJECT_P RELATORIO.DS_SQL%TYPE) FROM PUBLIC;
