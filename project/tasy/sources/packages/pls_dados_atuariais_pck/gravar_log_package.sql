-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pls_dados_atuariais_pck.gravar_log (nr_seq_lote_p pls_atuarial_log.nr_seq_lote%type, nr_seq_regra_p pls_atuarial_log.nr_seq_regra%type, ie_tipo_arquivo_p pls_atuarial_log.ie_tipo_arquivo%type, ds_sql_p pls_atuarial_log.ds_sql%type, ds_parametros_p pls_atuarial_log.ds_parametros%type, ds_call_stack_p pls_atuarial_log.ds_call_stack%type, nm_usuario_p usuario.nm_usuario%type) AS $body$
BEGIN
insert into pls_atuarial_log(nr_sequencia,			dt_atualizacao,		nm_usuario,
	dt_atualizacao_nrec,		nm_usuario_nrec,	nr_seq_lote,
	nr_seq_regra,			ie_tipo_arquivo,	ds_sql,
	ds_parametros,			ds_call_stack)
values (nextval('pls_atuarial_log_seq'),	clock_timestamp(),		nm_usuario_p,
	clock_timestamp(),			nm_usuario_p,		nr_seq_lote_p,
	nr_seq_regra_p,			ie_tipo_arquivo_p,	ds_sql_p,
	ds_parametros_p,		ds_call_stack_p);
	
commit;
	
END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_dados_atuariais_pck.gravar_log (nr_seq_lote_p pls_atuarial_log.nr_seq_lote%type, nr_seq_regra_p pls_atuarial_log.nr_seq_regra%type, ie_tipo_arquivo_p pls_atuarial_log.ie_tipo_arquivo%type, ds_sql_p pls_atuarial_log.ds_sql%type, ds_parametros_p pls_atuarial_log.ds_parametros%type, ds_call_stack_p pls_atuarial_log.ds_call_stack%type, nm_usuario_p usuario.nm_usuario%type) FROM PUBLIC;
