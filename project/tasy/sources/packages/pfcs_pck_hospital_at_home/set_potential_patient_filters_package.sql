-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pfcs_pck_hospital_at_home.set_potential_patient_filters () AS $body$
BEGIN
		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ie_checkbox_icu_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_CHECKBOX_ICU
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ie_checkbox_tcu_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_CHECKBOX_TCU
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ie_checkbox_acu_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_CHECKBOX_ACU
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ie_checkbox_ed_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_CHECKBOX_ED
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ds_diagnosis_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_DIAGNOSIS
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ie_recurring_pat_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_RECURRING_PAT
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ds_remaining_los_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_REMAINING_LOS
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ds_postal_code_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_POSTAL_CODE
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ds_marital_status_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_MARITAL_STATUS
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ds_gender_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_GENDER
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	vl_campo
		into STRICT	current_setting('pfcs_pck_hospital_at_home.ds_age_unit_w')::funcao_filtro.vl_campo%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_AGE_UNIT
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	isnumber(vl_campo)
		into STRICT	current_setting('pfcs_pck_hospital_at_home.qt_min_trs_w')::pfcs_detail_patient.qt_edi_score%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_MIN_TRS
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	isnumber(vl_campo)
		into STRICT	current_setting('pfcs_pck_hospital_at_home.qt_max_trs_w')::pfcs_detail_patient.qt_edi_score%type
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_MAX_TRS
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	isnumber(vl_campo)
		into STRICT	current_setting('pfcs_pck_hospital_at_home.qt_min_readmission_w')::bigint
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_MIN_READMISSION
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	isnumber(vl_campo)
		into STRICT	current_setting('pfcs_pck_hospital_at_home.qt_max_readmission_w')::bigint
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_MAX_READMISSION
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	isnumber(vl_campo)
		into STRICT	current_setting('pfcs_pck_hospital_at_home.qt_min_age_w')::bigint
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_MIN_AGE
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

		select	isnumber(vl_campo)
		into STRICT	current_setting('pfcs_pck_hospital_at_home.qt_max_age_w')::bigint
		from	funcao_filtro
		where	nr_seq_filtro = current_setting('pfcs_pck_hospital_at_home.nr_filter_w')::funcao_filtro.nr_seq_filtro%type
		and ds_campo = PFCS_PCK_CONSTANTS.DS_MAX_AGE
		and nm_usuario_nrec = wheb_usuario_pck.get_nm_usuario;

    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pfcs_pck_hospital_at_home.set_potential_patient_filters () FROM PUBLIC;
