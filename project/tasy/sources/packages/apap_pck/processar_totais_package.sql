-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE apap_pck.processar_totais ( t_objeto_row_p INOUT t_objeto_row, horarios_p INOUT vetor_horarios) AS $body$
DECLARE


_ora2pg_r RECORD;
totais_w	totais_t;

BEGIN
SELECT * FROM apap_pck.obter_totais(0, horarios_p, t_objeto_row_p) INTO STRICT _ora2pg_r;
 horarios_p := _ora2pg_r.horarios_p; t_objeto_row_p := _ora2pg_r.t_objeto_row_p;
t_objeto_row_p.qt_media_geral		:= totais_w.qt_media;
t_objeto_row_p.qt_total_geral		:= totais_w.qt_total;
t_objeto_row_p.qt_minima_geral		:= totais_w.qt_minima;
t_objeto_row_p.qt_maxima_geral		:= totais_w.qt_maxima;
t_objeto_row_p.ie_possui_reg_geral	:= totais_w.ie_possui_informacao;

SELECT * FROM apap_pck.obter_totais(1, horarios_p, t_objeto_row_p) INTO STRICT _ora2pg_r;
 horarios_p := _ora2pg_r.horarios_p; t_objeto_row_p := _ora2pg_r.t_objeto_row_p;
t_objeto_row_p.qt_media_dia_01		:= totais_w.qt_media;
t_objeto_row_p.qt_total_dia_01		:= totais_w.qt_total;
t_objeto_row_p.qt_minima_dia_01		:= totais_w.qt_minima;
t_objeto_row_p.qt_maxima_dia_01		:= totais_w.qt_maxima;
t_objeto_row_p.ie_possui_reg_dia_01	:= totais_w.ie_possui_informacao;

SELECT * FROM apap_pck.obter_totais(2, horarios_p, t_objeto_row_p) INTO STRICT _ora2pg_r;
 horarios_p := _ora2pg_r.horarios_p; t_objeto_row_p := _ora2pg_r.t_objeto_row_p;
t_objeto_row_p.qt_media_dia_02		:= totais_w.qt_media;
t_objeto_row_p.qt_total_dia_02		:= totais_w.qt_total;
t_objeto_row_p.qt_minima_dia_02		:= totais_w.qt_minima;
t_objeto_row_p.qt_maxima_dia_02		:= totais_w.qt_maxima;
t_objeto_row_p.ie_possui_reg_dia_02	:= totais_w.ie_possui_informacao;

SELECT * FROM apap_pck.obter_totais(3, horarios_p, t_objeto_row_p) INTO STRICT _ora2pg_r;
 horarios_p := _ora2pg_r.horarios_p; t_objeto_row_p := _ora2pg_r.t_objeto_row_p;
t_objeto_row_p.qt_media_dia_03		:= totais_w.qt_media;
t_objeto_row_p.qt_total_dia_03		:= totais_w.qt_total;
t_objeto_row_p.qt_minima_dia_03		:= totais_w.qt_minima;
t_objeto_row_p.qt_maxima_dia_03		:= totais_w.qt_maxima;
t_objeto_row_p.ie_possui_reg_dia_03	:= totais_w.ie_possui_informacao;

SELECT * FROM apap_pck.obter_totais(4, horarios_p, t_objeto_row_p) INTO STRICT _ora2pg_r;
 horarios_p := _ora2pg_r.horarios_p; t_objeto_row_p := _ora2pg_r.t_objeto_row_p;
t_objeto_row_p.qt_media_dia_04		:= totais_w.qt_media;
t_objeto_row_p.qt_total_dia_04		:= totais_w.qt_total;
t_objeto_row_p.qt_minima_dia_04		:= totais_w.qt_minima;
t_objeto_row_p.qt_maxima_dia_04		:= totais_w.qt_maxima;
t_objeto_row_p.ie_possui_reg_dia_04	:= totais_w.ie_possui_informacao;

SELECT * FROM apap_pck.obter_totais(5, horarios_p, t_objeto_row_p) INTO STRICT _ora2pg_r;
 horarios_p := _ora2pg_r.horarios_p; t_objeto_row_p := _ora2pg_r.t_objeto_row_p;
t_objeto_row_p.qt_media_dia_05		:= totais_w.qt_media;
t_objeto_row_p.qt_total_dia_05		:= totais_w.qt_total;
t_objeto_row_p.qt_minima_dia_05		:= totais_w.qt_minima;
t_objeto_row_p.qt_maxima_dia_05		:= totais_w.qt_maxima;
t_objeto_row_p.ie_possui_reg_dia_05	:= totais_w.ie_possui_informacao;

SELECT * FROM apap_pck.obter_totais(6, horarios_p, t_objeto_row_p) INTO STRICT _ora2pg_r;
 horarios_p := _ora2pg_r.horarios_p; t_objeto_row_p := _ora2pg_r.t_objeto_row_p;
t_objeto_row_p.qt_media_dia_06		:= totais_w.qt_media;
t_objeto_row_p.qt_total_dia_06		:= totais_w.qt_total;
t_objeto_row_p.qt_minima_dia_06		:= totais_w.qt_minima;
t_objeto_row_p.qt_maxima_dia_06		:= totais_w.qt_maxima;
t_objeto_row_p.ie_possui_reg_dia_06	:= totais_w.ie_possui_informacao;

SELECT * FROM apap_pck.obter_totais(7, horarios_p, t_objeto_row_p) INTO STRICT _ora2pg_r;
 horarios_p := _ora2pg_r.horarios_p; t_objeto_row_p := _ora2pg_r.t_objeto_row_p;
t_objeto_row_p.qt_media_dia_07		:= totais_w.qt_media;
t_objeto_row_p.qt_total_dia_07		:= totais_w.qt_total;
t_objeto_row_p.qt_minima_dia_07		:= totais_w.qt_minima;
t_objeto_row_p.qt_maxima_dia_07		:= totais_w.qt_maxima;
t_objeto_row_p.ie_possui_reg_dia_07	:= totais_w.ie_possui_informacao;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE apap_pck.processar_totais ( t_objeto_row_p INOUT t_objeto_row, horarios_p INOUT vetor_horarios) FROM PUBLIC;
