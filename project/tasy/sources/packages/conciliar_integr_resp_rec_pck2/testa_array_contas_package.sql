-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE conciliar_integr_resp_rec_pck2.testa_array_contas () AS $body$
DECLARE

current_setting('conciliar_integr_resp_rec_pck2.i')::integer integer;
k integer;
t integer;

BEGIN
PERFORM set_config('conciliar_integr_resp_rec_pck2.i', 0, false);
RAISE NOTICE 'Importação';
if (current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v.count > 0) then
    for current_setting('conciliar_integr_resp_rec_pck2.i')::integer in current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v.first .. current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v.last loop

        RAISE NOTICE 'conta: %Operadora: %Prestador: %Senha: %Seq guia: %Status: %Valor informado: %Valor guia: %', current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v(current_setting('conciliar_integr_resp_rec_pck2.i')::integer).nr_interno_conta, current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v(current_setting('conciliar_integr_resp_rec_pck2.i')::integer).nr_guia_operadora, current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v(current_setting('conciliar_integr_resp_rec_pck2.i')::integer).nr_guia_prestador, current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v(current_setting('conciliar_integr_resp_rec_pck2.i')::integer).cd_senha, current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v(current_setting('conciliar_integr_resp_rec_pck2.i')::integer).NR_SEQ_CONTA_GUIA, current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v(current_setting('conciliar_integr_resp_rec_pck2.i')::integer).ie_status, current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v(current_setting('conciliar_integr_resp_rec_pck2.i')::integer).vl_informado, current_setting('conciliar_integr_resp_rec_pck2.campos_guia_w')::campos_guia_v(current_setting('conciliar_integr_resp_rec_pck2.i')::integer).vl_guia;

    end loop;
end if;
k := 0;
RAISE NOTICE 'Tasy';
RAISE NOTICE 'contador:%', current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v.count;
if (current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v.count > 0) then
for k in current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v.first .. current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v.last loop

	RAISE NOTICE 'conta: %Autorização: %Valor da guia: %Valor participante: %Retorno item: %Valor de saldo: %Conciliado: %Senha: %Doc convênio: %Seq guia: %', current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].nr_interno_conta, current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].cd_autorizacao, current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].vl_guia, current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].vl_participante, current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].nr_seq_ret_item, current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].vl_saldo, current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].ie_conciliado, current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].cd_senha, current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].nr_doc_convenio, current_setting('conciliar_integr_resp_rec_pck2.campos_conta_w')::campos_conta_v[k].seq_guia;
end loop;
end if;

t := 0;
RAISE NOTICE 'Tiss';
RAISE NOTICE 'contador:%', current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v.count;
if (current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v.count > 0) then
for t in current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v.first .. current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v.last loop

	RAISE NOTICE 'conta: %Protocolo: %Protocolo tiss: %guia : %guia prestador: %Senha: %Total da guia: %Sequencia guia: %', current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v[t].nr_interno_conta, current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v[t].nr_seq_protocolo, current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v[t].nr_seq_prot_tiss, current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v[t].cd_autorizacao, current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v[t].nr_guia_prestador, current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v[t].cd_senha, current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v[t].VL_TOTAL, current_setting('conciliar_integr_resp_rec_pck2.tiss_conta_guia_w')::tiss_conta_guia_v[t].nr_sequencia;
end loop;
end if;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE conciliar_integr_resp_rec_pck2.testa_array_contas () FROM PUBLIC;
