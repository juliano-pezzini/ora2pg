-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE ctb_online_pck.inserir_lote_contab_param ( nr_lote_contabil_p lote_contabil_parametro.nr_lote_contabil%type, cd_tipo_lote_contabil_p lote_contabil_parametro.cd_tipo_lote_contabil%type, nr_seq_parametro_p lote_contabil_parametro.nr_seq_parametro%type default null, dt_atualizacao_p lote_contabil_parametro.dt_atualizacao%type DEFAULT NULL, nm_usuario_p lote_contabil_parametro.nm_usuario%type DEFAULT NULL, vl_parametro_p lote_contabil_parametro.vl_parametro%type DEFAULT NULL, dt_parametro_p lote_contabil_parametro.dt_parametro%type default null, ds_valor_parametro_p lote_contabil_parametro.ds_valor_parametro%type default null) AS $body$
BEGIN
    if (cd_tipo_lote_contabil_p in (2, 51)) then
        insert into lote_contabil_parametro(
            nr_lote_contabil,
            cd_tipo_lote_contabil,
            nr_seq_parametro,
            dt_atualizacao,
            nm_usuario,
            dt_parametro,
            ds_valor_parametro)
        values (
            nr_lote_contabil_p,
            cd_tipo_lote_contabil_p,
            5,
            clock_timestamp(),
            nm_usuario_p,
            clock_timestamp(),
            ds_valor_parametro_p);
    elsif (cd_tipo_lote_contabil_p = 6) then
        insert into lote_contabil_parametro(
            nr_lote_contabil,
            cd_tipo_lote_contabil,
            nr_seq_parametro,
            dt_atualizacao,
            nm_usuario,
            dt_parametro,
            vl_parametro,
            ds_valor_parametro)
        values (
            nr_lote_contabil_p,
            cd_tipo_lote_contabil_p,
            nr_seq_parametro_p,
            dt_atualizacao_p,
            nm_usuario_p,
            dt_parametro_p,
            vl_parametro_p,
            ds_valor_parametro_p);
    end if;
END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE ctb_online_pck.inserir_lote_contab_param ( nr_lote_contabil_p lote_contabil_parametro.nr_lote_contabil%type, cd_tipo_lote_contabil_p lote_contabil_parametro.cd_tipo_lote_contabil%type, nr_seq_parametro_p lote_contabil_parametro.nr_seq_parametro%type default null, dt_atualizacao_p lote_contabil_parametro.dt_atualizacao%type DEFAULT NULL, nm_usuario_p lote_contabil_parametro.nm_usuario%type DEFAULT NULL, vl_parametro_p lote_contabil_parametro.vl_parametro%type DEFAULT NULL, dt_parametro_p lote_contabil_parametro.dt_parametro%type default null, ds_valor_parametro_p lote_contabil_parametro.ds_valor_parametro%type default null) FROM PUBLIC;
