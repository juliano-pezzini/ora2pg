-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE ctb_online_pck.definir_atrib_compl (cd_tipo_lote_contabil_p tipo_lote_contabil.cd_tipo_lote_contabil%type) AS $body$
DECLARE


  c_atrib_tipo_lote CURSOR FOR
      SELECT  nm_atributo
      from    atributo_compl_hist
      where   cd_tipo_lote_contab = cd_tipo_lote_contabil_p
      order by nr_sequencia;

BEGIN

  current_setting('ctb_online_pck.atrib_compl_hist_w')::vetor_compl_historico.delete;

  for dados_w in c_atrib_tipo_lote loop
      begin
          current_setting('ctb_online_pck.atrib_compl_hist_w')::vetor_compl_historico(dados_w.nm_atributo) := null;
      end;
  end loop;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE ctb_online_pck.definir_atrib_compl (cd_tipo_lote_contabil_p tipo_lote_contabil.cd_tipo_lote_contabil%type) FROM PUBLIC;
