-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE ptu_a950_pck.insere_guia_hm_v8 ( nr_seq_arq_xml_p pls_imp_arq_A950.nr_sequencia%type, nm_usuario_p usuario.nm_usuario%type, qt_filme_amb_p INOUT dbms_sql.number_table, nr_auxiliares_amb_p INOUT dbms_sql.number_table, nr_porte_anest_amb_p INOUT dbms_sql.number_table, ie_inc_rol_p INOUT dbms_sql.number_table, cd_amb_p INOUT dbms_sql.number_table, qt_ut_amb_p INOUT dbms_sql.number_table, ds_porte_rol_p INOUT dbms_sql.varchar2_table, ie_grupos_planilha_p INOUT dbms_sql.number_table, ie_classificacao_p INOUT dbms_sql.number_table, qt_uco_p INOUT dbms_sql.number_table, cd_procedimento_uni_p INOUT dbms_sql.number_table, nr_porte_anest_p INOUT dbms_sql.number_table, nr_auxiliar_p INOUT dbms_sql.number_table, qt_filme_p INOUT dbms_sql.number_table, ie_quantidade_p INOUT dbms_sql.number_table, ds_doc_racio_p INOUT dbms_sql.varchar2_table, nr_prazo_exec_p INOUT dbms_sql.number_table, nr_prazo_origem_p INOUT dbms_sql.number_table, nr_prazo_total_p INOUT dbms_sql.number_table, ds_item_rol_p INOUT dbms_sql.varchar2_table, ds_amb_rol_p INOUT dbms_sql.varchar2_table, tiss_tp_tabela_p INOUT dbms_sql.varchar2_table, tiss_codigo_p INOUT dbms_sql.varchar2_table) AS $body$
DECLARE

/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade:	Insere os dados na respectiva tabela
-------------------------------------------------------------------------------------------------------------------
Locais de chamada direta: 
[ ]  Objetos do dicionario [X] Tasy (Delphi/Java) [ X] Portal [ X]  Relatorios [ ] Outros:
-------------------------------------------------------------------------------------------------------------------
Pontos de atencao:
			Nao deve possuir regra de negocio, apenas deve mandar para o banco de dados
			
			O commit fica a cargo de quem chamou a rotina

Alteracoes:
-------------------------------------------------------------------------------------------------------------------
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
BEGIN

forall i in qt_filme_amb_p.first..qt_filme_amb_p.last
	insert into pls_imp_arq_A950_hm(	nr_sequencia,
						dt_atualizacao,
						nm_usuario,
						dt_atualizacao_nrec,
						nm_usuario_nrec,
						nr_seq_arq_a950,
						qt_filme_amb,
						nr_auxiliares_amb,
						nr_porte_anest_amb,
						ie_inc_rol,
						cd_amb,
						qt_ut_amb,
						vl_proc_rol,
						ie_grupos_planilha,
						ie_classificacao,
						qt_uco,
						cd_procedimento_uni,
						nr_porte_anest,
						nr_auxiliar,
						qt_filme,
						ie_quantidade,
						ds_doc_racio,
						nr_prazo_exec,
						nr_prazo_origem,
						nr_prazo_total,
						ds_item_rol,
						ds_amb_rol,
						ie_tiss_tp_tabela,
						cd_tiss_codigo)
	values (nextval('pls_imp_arq_a950_hm_seq'),
		clock_timestamp(),
		nm_usuario_p,
		clock_timestamp(),
		nm_usuario_p,
		nr_seq_arq_xml_p,
		qt_filme_amb_p(i),
		nr_auxiliares_amb_p(i),
		nr_porte_anest_amb_p(i),
		ie_inc_rol_p(i),
		cd_amb_p(i),
		qt_ut_amb_p(i),
		ds_porte_rol_p(i),
		ie_grupos_planilha_p(i),
		ie_classificacao_p(i),
		qt_uco_p(i),
		cd_procedimento_uni_p(i),
		nr_porte_anest_p(i),
		nr_auxiliar_p(i),
		qt_filme_p(i),
		ie_quantidade_p(i),
		ds_doc_racio_p(i),
		nr_prazo_exec_p(i),
		nr_prazo_origem_p(i),
		nr_prazo_total_p(i),
		ds_item_rol_p(i),
		ds_amb_rol_p(i),
		tiss_tp_tabela_p(i),
		tiss_codigo_p(i));
	
	qt_filme_amb_p.delete;
	nr_auxiliares_amb_p.delete;
	nr_porte_anest_amb_p.delete;
	ie_inc_rol_p.delete;
	cd_amb_p.delete;
	qt_ut_amb_p.delete;
	ds_porte_rol_p.delete;
	ie_grupos_planilha_p.delete;
	ie_classificacao_p.delete;
	qt_uco_p.delete;
	cd_procedimento_uni_p.delete;
	nr_porte_anest_p.delete;
	nr_auxiliar_p.delete;
	qt_filme_p.delete;
	ie_quantidade_p.delete;
	ds_doc_racio_p.delete;
	nr_prazo_exec_p.delete;
	nr_prazo_origem_p.delete;
	nr_prazo_total_p.delete;
	ds_item_rol_p.delete;
	ds_amb_rol_p.delete;
	tiss_tp_tabela_p.delete;
	tiss_codigo_p.delete;


END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE ptu_a950_pck.insere_guia_hm_v8 ( nr_seq_arq_xml_p pls_imp_arq_A950.nr_sequencia%type, nm_usuario_p usuario.nm_usuario%type, qt_filme_amb_p INOUT dbms_sql.number_table, nr_auxiliares_amb_p INOUT dbms_sql.number_table, nr_porte_anest_amb_p INOUT dbms_sql.number_table, ie_inc_rol_p INOUT dbms_sql.number_table, cd_amb_p INOUT dbms_sql.number_table, qt_ut_amb_p INOUT dbms_sql.number_table, ds_porte_rol_p INOUT dbms_sql.varchar2_table, ie_grupos_planilha_p INOUT dbms_sql.number_table, ie_classificacao_p INOUT dbms_sql.number_table, qt_uco_p INOUT dbms_sql.number_table, cd_procedimento_uni_p INOUT dbms_sql.number_table, nr_porte_anest_p INOUT dbms_sql.number_table, nr_auxiliar_p INOUT dbms_sql.number_table, qt_filme_p INOUT dbms_sql.number_table, ie_quantidade_p INOUT dbms_sql.number_table, ds_doc_racio_p INOUT dbms_sql.varchar2_table, nr_prazo_exec_p INOUT dbms_sql.number_table, nr_prazo_origem_p INOUT dbms_sql.number_table, nr_prazo_total_p INOUT dbms_sql.number_table, ds_item_rol_p INOUT dbms_sql.varchar2_table, ds_amb_rol_p INOUT dbms_sql.varchar2_table, tiss_tp_tabela_p INOUT dbms_sql.varchar2_table, tiss_codigo_p INOUT dbms_sql.varchar2_table) FROM PUBLIC;
