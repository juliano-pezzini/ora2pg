-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE ctb_contr_patrimonio_bolivia.contabilizar_ganho ( cd_conta_baixa_p PAT_TIPO_HISTORICO.CD_CONTA_BAIXA%type, cd_conta_contabil_p PAT_BEM.CD_CONTA_CONTABIL%type, cd_conta_lucro_venda_p PAT_TIPO_HISTORICO.CD_CONTA_LUCRO_VENDA%type, cd_conta_debito_fiscal_p PAT_TIPO_HISTORICO.CD_CONTA_DEBITO_FISCAL%type, vl_movimento_p PAT_BEM_MOVIMENTO.VL_MOVIMENTO%type, vl_mercado_p PAT_BEM.VL_MERCADO%type, vl_calulated_p MOVIMENTO_CONTABIL.VL_MOVIMENTO%type, vl_debito_fiscal_p PAT_VALOR_BEM.VL_DEBITO_FISCAL%type ) AS $body$
BEGIN
	INSERT INTO MOVIMENTO_CONTABIL(CD_CONTA_CONTABIL, VL_MOVIMENTO, IE_DEBITO_CREDITO) VALUES (cd_conta_baixa_p, vl_movimento_p, 'D');
	INSERT INTO MOVIMENTO_CONTABIL(CD_CONTA_CONTABIL, VL_MOVIMENTO, IE_DEBITO_CREDITO) VALUES (cd_conta_contabil_p, vl_mercado_p, 'C');
	INSERT INTO MOVIMENTO_CONTABIL(CD_CONTA_CONTABIL, VL_MOVIMENTO, IE_DEBITO_CREDITO) VALUES (cd_conta_lucro_venda_p, vl_calulated_p, 'C');
	INSERT INTO MOVIMENTO_CONTABIL(CD_CONTA_CONTABIL, VL_MOVIMENTO, IE_DEBITO_CREDITO) VALUES (cd_conta_debito_fiscal_p, vl_debito_fiscal_p, 'C');
	COMMIT;
    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE ctb_contr_patrimonio_bolivia.contabilizar_ganho ( cd_conta_baixa_p PAT_TIPO_HISTORICO.CD_CONTA_BAIXA%type, cd_conta_contabil_p PAT_BEM.CD_CONTA_CONTABIL%type, cd_conta_lucro_venda_p PAT_TIPO_HISTORICO.CD_CONTA_LUCRO_VENDA%type, cd_conta_debito_fiscal_p PAT_TIPO_HISTORICO.CD_CONTA_DEBITO_FISCAL%type, vl_movimento_p PAT_BEM_MOVIMENTO.VL_MOVIMENTO%type, vl_mercado_p PAT_BEM.VL_MERCADO%type, vl_calulated_p MOVIMENTO_CONTABIL.VL_MOVIMENTO%type, vl_debito_fiscal_p PAT_VALOR_BEM.VL_DEBITO_FISCAL%type ) FROM PUBLIC;
