-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE tiss_send_document_pck.ins_attach_file_on_protocol ( nm_user_p usuario.nm_usuario%TYPE, protocol_p tiss_envio_documento.nr_protocolo%TYPE, batch_p tiss_envio_documento.nr_lote%TYPE, ds_doc_format_p text, nr_guia_prestador_p tiss_envio_documento.nr_guia_prestador%TYPE, nr_guia_operadora_p tiss_envio_documento.nr_guia_operadora%TYPE, nr_sequencia_p lote_audit_hist_arq.nr_sequencia%TYPE, nr_seq_lote_hist_anexo_p tiss_envio_documento.nr_seq_lote_hist_anexo%TYPE, ie_tipo_documento_p tiss_envio_documento.ie_tipo_documento%TYPE, result_seq_p INOUT tiss_envio_documento.nr_sequencia%TYPE ) AS $body$
DECLARE

        ie_doc_format_w tiss_envio_documento.ie_formato_documento%TYPE;

BEGIN
        ie_doc_format_w := tiss_send_document_pck.get_doc_format(ds_doc_format_p);
        result_seq_p := tiss_send_document_pck.execute_insert(nm_user_p, protocol_p, batch_p, nr_guia_prestador_p, nr_guia_operadora_p, NULL, current_setting('tiss_send_document_pck.ie_appeal_type_c')::tiss_envio_documento.ie_natureza_guia%type, ie_doc_format_w, NULL, ie_tipo_documento_p, NULL, NULL, NULL, result_seq_p, nr_seq_lote_hist_anexo_p);

    END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE tiss_send_document_pck.ins_attach_file_on_protocol ( nm_user_p usuario.nm_usuario%TYPE, protocol_p tiss_envio_documento.nr_protocolo%TYPE, batch_p tiss_envio_documento.nr_lote%TYPE, ds_doc_format_p text, nr_guia_prestador_p tiss_envio_documento.nr_guia_prestador%TYPE, nr_guia_operadora_p tiss_envio_documento.nr_guia_operadora%TYPE, nr_sequencia_p lote_audit_hist_arq.nr_sequencia%TYPE, nr_seq_lote_hist_anexo_p tiss_envio_documento.nr_seq_lote_hist_anexo%TYPE, ie_tipo_documento_p tiss_envio_documento.ie_tipo_documento%TYPE, result_seq_p INOUT tiss_envio_documento.nr_sequencia%TYPE ) FROM PUBLIC;
