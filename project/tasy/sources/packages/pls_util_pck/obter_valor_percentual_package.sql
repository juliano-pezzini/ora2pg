-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


-- Esta function recebe um valor, por exemplo, 200, e um percentual, por exemplo, 20, neste segundo caso representa 20%, o retorno da function será será 40, caso não for passado valor ou o percentualc para a functionc o retorno será nulo
CREATE OR REPLACE FUNCTION pls_util_pck.obter_valor_percentual (vl_valor_p bigint, vl_percentual_p bigint) RETURNS bigint AS $body$
BEGIN

if (vl_valor_p IS NOT NULL AND vl_valor_p::text <> '') and (vl_percentual_p IS NOT NULL AND vl_percentual_p::text <> '') then
	return vl_valor_p * (vl_percentual_p / 100);
else
	return null;
end if;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION pls_util_pck.obter_valor_percentual (vl_valor_p bigint, vl_percentual_p bigint) FROM PUBLIC;
