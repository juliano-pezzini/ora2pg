-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE ptu_aviso_imp_pck.inserir_a530_dados ( nr_sequencia_p INOUT ptu_aviso_glosa_bx_dados.nr_sequencia%type, ie_tipo_glosa_baixa_p ptu_aviso_glosa_bx_dados.ie_tipo_glosa_baixa%type, ie_motivo_baixa_p ptu_aviso_glosa_bx_dados.ie_motivo_baixa%type, cd_unimed_aviso_p ptu_aviso_glosa_bx_dados.cd_unimed_aviso%type, dt_conhecimento_p text, cd_cnpj_cpf_p ptu_aviso_glosa_bx_dados.cd_cnpj_cpf%type, nr_lote_prestador_p ptu_aviso_glosa_bx_dados.nr_lote_prestador%type, nr_guia_tiss_prestador_p ptu_aviso_glosa_bx_dados.nr_guia_tiss_prestador%type, cd_unimed_benef_p ptu_aviso_glosa_bx_dados.cd_unimed_benef%type, cd_identificacao_benef_p ptu_aviso_glosa_bx_dados.cd_identificacao_benef%type, nm_usuario_p ptu_aviso_glosa_bx_dados.nm_usuario%type, nr_seq_glosa_baixa_p ptu_aviso_glosa_bx_dados.nr_seq_glosa_baixa%type) AS $body$
DECLARE

/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade:	Insere os dados do A530 e devolve a chave primaria gerada
-------------------------------------------------------------------------------------------------------------------
Locais de chamada direta: 
[ ]  Objetos do dicionario [X] Tasy (Delphi/Java) [ X] Portal [ X]  Relatorios [ ] Outros:
-------------------------------------------------------------------------------------------------------------------
Pontos de atencao:

Alteracoes:
-------------------------------------------------------------------------------------------------------------------
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
dt_conhecimento_w	ptu_aviso_glosa_bx_dados.dt_conhecimento%type;


BEGIN

dt_conhecimento_w := ptu_aviso_imp_pck.converte_data(dt_conhecimento_p);

insert into ptu_aviso_glosa_bx_dados(	nr_sequencia,
					ie_tipo_glosa_baixa,
					ie_motivo_baixa,
					cd_unimed_aviso,
					dt_conhecimento,
					cd_cnpj_cpf,
					nr_lote_prestador,
					nr_guia_tiss_prestador,
					cd_unimed_benef,
					cd_identificacao_benef,
					dt_atualizacao,
					nm_usuario,
					dt_atualizacao_nrec,
					nm_usuario_nrec,
					nr_seq_glosa_baixa)
values (nextval('ptu_aviso_glosa_bx_dados_seq'),
	ie_tipo_glosa_baixa_p,
	ie_motivo_baixa_p,
	cd_unimed_aviso_p,
	dt_conhecimento_w,
	cd_cnpj_cpf_p,
	nr_lote_prestador_p,
	nr_guia_tiss_prestador_p,
	cd_unimed_benef_p,
	cd_identificacao_benef_p,
	clock_timestamp(),
	nm_usuario_p,
	clock_timestamp(),
	nm_usuario_p,
	nr_seq_glosa_baixa_p) returning nr_sequencia into nr_sequencia_p;


commit;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE ptu_aviso_imp_pck.inserir_a530_dados ( nr_sequencia_p INOUT ptu_aviso_glosa_bx_dados.nr_sequencia%type, ie_tipo_glosa_baixa_p ptu_aviso_glosa_bx_dados.ie_tipo_glosa_baixa%type, ie_motivo_baixa_p ptu_aviso_glosa_bx_dados.ie_motivo_baixa%type, cd_unimed_aviso_p ptu_aviso_glosa_bx_dados.cd_unimed_aviso%type, dt_conhecimento_p text, cd_cnpj_cpf_p ptu_aviso_glosa_bx_dados.cd_cnpj_cpf%type, nr_lote_prestador_p ptu_aviso_glosa_bx_dados.nr_lote_prestador%type, nr_guia_tiss_prestador_p ptu_aviso_glosa_bx_dados.nr_guia_tiss_prestador%type, cd_unimed_benef_p ptu_aviso_glosa_bx_dados.cd_unimed_benef%type, cd_identificacao_benef_p ptu_aviso_glosa_bx_dados.cd_identificacao_benef%type, nm_usuario_p ptu_aviso_glosa_bx_dados.nm_usuario%type, nr_seq_glosa_baixa_p ptu_aviso_glosa_bx_dados.nr_seq_glosa_baixa%type) FROM PUBLIC;
