-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


-- OBTER_DADOS_RESTRICAO




CREATE OR REPLACE FUNCTION pls_ar_montar_resultado_pck.obter_dados_restricao ( ds_filtros_p text, ie_origem_p text) RETURNS varchar AS $body$
DECLARE


/* ie_origem_p
'A' - Analise
'D' - Despesas contas medicas
'M' - Mensaldiade */


dados_filtro_w		tb_filtros_analise_resultado;
dados_restricao_w	varchar(32000);
valor_bind_w		sql_pck.t_dado_bind;


BEGIN
dados_filtro_w 		:= pls_ar_montar_resultado_pck.obter_filtro_busca_analise(ds_filtros_p);
valor_bind_w := pls_ar_montar_resultado_pck.obter_sql_restricao(dados_filtro_w, ie_origem_p, null, valor_bind_w);

return dados_restricao_w;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON FUNCTION pls_ar_montar_resultado_pck.obter_dados_restricao ( ds_filtros_p text, ie_origem_p text) FROM PUBLIC;
