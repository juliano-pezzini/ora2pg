-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pls_tipos_ocor_pck.insere_selecao_excecao ( tb_tipo_registro_p pls_util_cta_pck.t_varchar2_table_1, tb_seq_conta_p pls_util_cta_pck.t_number_table, tb_seq_conta_proc_p pls_util_cta_pck.t_number_table, tb_seq_conta_mat_p pls_util_cta_pck.t_number_table, tb_seq_segurado_p pls_util_cta_pck.t_number_table, tb_cd_guia_referencia_p pls_util_cta_pck.t_varchar2_table_20, nr_id_transacao_ex_p pls_selecao_ex_ocor_cta.nr_id_transacao%type) AS $body$
BEGIN

if (tb_tipo_registro_p.count > 0) then

	forall i in tb_tipo_registro_p.first .. tb_tipo_registro_p.last
		insert into pls_selecao_ex_ocor_cta(
			nr_sequencia, ie_tipo_registro,
			nr_seq_conta, nr_seq_conta_proc,
			nr_seq_conta_mat, ie_valido,
			ie_valido_temp, nr_id_transacao,
			nr_seq_segurado, cd_guia_referencia
		) values (
			nextval('pls_selecao_ex_ocor_cta_seq'), tb_tipo_registro_p(i),
			tb_seq_conta_p(i), tb_seq_conta_proc_p(i),
			tb_seq_conta_mat_p(i), 'S',
			'N', nr_id_transacao_ex_p,
			tb_seq_segurado_p(i), tb_cd_guia_referencia_p(i));
	
end if;

END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_tipos_ocor_pck.insere_selecao_excecao ( tb_tipo_registro_p pls_util_cta_pck.t_varchar2_table_1, tb_seq_conta_p pls_util_cta_pck.t_number_table, tb_seq_conta_proc_p pls_util_cta_pck.t_number_table, tb_seq_conta_mat_p pls_util_cta_pck.t_number_table, tb_seq_segurado_p pls_util_cta_pck.t_number_table, tb_cd_guia_referencia_p pls_util_cta_pck.t_varchar2_table_20, nr_id_transacao_ex_p pls_selecao_ex_ocor_cta.nr_id_transacao%type) FROM PUBLIC;
