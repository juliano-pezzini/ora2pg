-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


-- Gerar os prestadores do lote para serem exportados
CREATE OR REPLACE PROCEDURE ptu_prest_inter_exp_pck.gerar_prestadores ( nr_seq_lote_p pls_lote_prestador_interc.nr_sequencia%type, cd_estabelecimento_p estabelecimento.cd_estabelecimento%type, nm_usuario_p usuario.nm_usuario%type, nr_seq_prestador_p pls_prestador.nr_sequencia%type, dt_exclusao_ini_p timestamp, dt_exclusao_fim_p timestamp, dt_contrato_ini_p timestamp, dt_contrato_fim_p timestamp, dt_servico_ini_p timestamp, dt_servico_fim_p timestamp, nr_seq_tipo_prestador_p pls_prestador.nr_seq_tipo_prestador%type) AS $body$
BEGIN
-- Gerar prestadores da operadora
CALL ptu_prest_inter_exp_pck.gerar_prest_pls( nr_seq_lote_p, cd_estabelecimento_p, nm_usuario_p, nr_seq_prestador_p,
		dt_exclusao_ini_p, dt_exclusao_fim_p, dt_contrato_ini_p, dt_contrato_fim_p,
		dt_servico_ini_p, dt_servico_fim_p, nr_seq_tipo_prestador_p);

commit;
END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE ptu_prest_inter_exp_pck.gerar_prestadores ( nr_seq_lote_p pls_lote_prestador_interc.nr_sequencia%type, cd_estabelecimento_p estabelecimento.cd_estabelecimento%type, nm_usuario_p usuario.nm_usuario%type, nr_seq_prestador_p pls_prestador.nr_sequencia%type, dt_exclusao_ini_p timestamp, dt_exclusao_fim_p timestamp, dt_contrato_ini_p timestamp, dt_contrato_fim_p timestamp, dt_servico_ini_p timestamp, dt_servico_fim_p timestamp, nr_seq_tipo_prestador_p pls_prestador.nr_seq_tipo_prestador%type) FROM PUBLIC;
