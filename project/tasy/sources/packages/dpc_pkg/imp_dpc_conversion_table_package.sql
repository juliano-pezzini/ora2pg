-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE dpc_pkg.imp_dpc_conversion_table (cd_classif_definition_p text, cd_classif_disease_state_p text, cd_classification_p text, cd_dpc_p text, cd_mdc_p text, cd_pat_cond_age_1_p text, cd_pat_cond_age_2_p text, cd_pat_cond_birth_weight_p text, cd_pat_cond_burn_index_p text, cd_pat_cond_gaf_p text, cd_pat_cond_jcs_p text, cd_severity_a_drop_p text, cd_severity_age_p text, cd_severity_eye_sides_p text, cd_severity_jcs_p text, cd_severity_mild_sev_p text, cd_severity_rankin_scale_p text, cd_severity_rehab_p text, cd_severity_reoperation_p text, cd_severity_side_1_p text, cd_severity_side_2_p text, cd_surgery_p text, cd_treatment_1_p text, cd_treatment_2_p text, dt_end_p text, dt_start_p text, dt_update_p text, nr_list_p bigint, nr_seq_edition_p bigint, si_change_category_p text, si_inclusion_flag_p text, cd_pat_cond_pregnancy_week_p text, nm_usuario_p text) AS $body$
BEGIN

insert into dpc_conversion_table(
	cd_classif_definition,           
	cd_classif_disease_state,        
	cd_classification,               
	cd_dpc,                          
	cd_mdc,                          
	cd_pat_cond_age_1,               
	cd_pat_cond_age_2,               
	cd_pat_cond_birth_weight,        
	cd_pat_cond_burn_index,          
	cd_pat_cond_gaf,                 
	cd_pat_cond_jcs,                 
	cd_severity_a_drop,             
	cd_severity_age,                 
	cd_severity_eye_sides,           
	cd_severity_jcs,                 
	cd_severity_mild_sev,            
	cd_severity_rankin_scale,        
	cd_severity_rehab,               
	cd_severity_reoperation,         
	cd_severity_side_1,              
	cd_severity_side_2,              
	cd_surgery,                      
	cd_treatment_1,                  
	cd_treatment_2,                  
	dt_atualizacao,                  
	dt_atualizacao_nrec,             
	dt_end,                          
	dt_start,                        
	dt_update,                       
	nm_usuario,                      
	nm_usuario_nrec,                 
	nr_list,                         
	nr_seq_edition,                  
	nr_sequencia,                    
	si_change_category,              
	si_inclusion_flag,
	cd_pat_cond_pregnancy_week)
values (cd_classif_definition_p,           
	cd_classif_disease_state_p,        
	cd_classification_p,               
	cd_dpc_p,                          
	cd_mdc_p,                          
	cd_pat_cond_age_1_p,               
	cd_pat_cond_age_2_p,               
	cd_pat_cond_birth_weight_p,        
	cd_pat_cond_burn_index_p,          
	cd_pat_cond_gaf_p,                 
	cd_pat_cond_jcs_p,                 
	cd_severity_a_drop_p,             
	cd_severity_age_p,                 
	cd_severity_eye_sides_p,           
	cd_severity_jcs_p,                 
	cd_severity_mild_sev_p,            
	cd_severity_rankin_scale_p,        
	cd_severity_rehab_p,               
	cd_severity_reoperation_p,         
	cd_severity_side_1_p,              
	cd_severity_side_2_p,              
	cd_surgery_p,                      
	cd_treatment_1_p,                  
	cd_treatment_2_p,                  
	clock_timestamp(),                  
	clock_timestamp(),             
	CASE WHEN dt_end_p='99999999' THEN null WHEN dt_end_p='00000000' THEN null  ELSE to_date(dt_end_p,'yyyy-mm-dd') END ,
    CASE WHEN dt_start_p='99999999' THEN null WHEN dt_start_p='00000000' THEN null  ELSE to_date(dt_start_p,'yyyy-mm-dd') END ,
    CASE WHEN dt_update_p='99999999' THEN null WHEN dt_update_p='00000000' THEN null  ELSE to_date(dt_update_p,'yyyy-mm-dd') END ,	                       
	nm_usuario_p,                      
	nm_usuario_p,                 
	nr_list_p,                         
	nr_seq_edition_p,                  
	nextval('dpc_conversion_table_seq'),
	si_change_category_p,              
	si_inclusion_flag_p,
	cd_pat_cond_pregnancy_week_p);
end;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE dpc_pkg.imp_dpc_conversion_table (cd_classif_definition_p text, cd_classif_disease_state_p text, cd_classification_p text, cd_dpc_p text, cd_mdc_p text, cd_pat_cond_age_1_p text, cd_pat_cond_age_2_p text, cd_pat_cond_birth_weight_p text, cd_pat_cond_burn_index_p text, cd_pat_cond_gaf_p text, cd_pat_cond_jcs_p text, cd_severity_a_drop_p text, cd_severity_age_p text, cd_severity_eye_sides_p text, cd_severity_jcs_p text, cd_severity_mild_sev_p text, cd_severity_rankin_scale_p text, cd_severity_rehab_p text, cd_severity_reoperation_p text, cd_severity_side_1_p text, cd_severity_side_2_p text, cd_surgery_p text, cd_treatment_1_p text, cd_treatment_2_p text, dt_end_p text, dt_start_p text, dt_update_p text, nr_list_p bigint, nr_seq_edition_p bigint, si_change_category_p text, si_inclusion_flag_p text, cd_pat_cond_pregnancy_week_p text, nm_usuario_p text) FROM PUBLIC;
