-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE dpc_pkg.imp_dpc_patient_condition (cd_classification_p text, cd_condition_p text, cd_condition_1_value_p text, cd_condition_2_value_p text, cd_condition_3_value_p text, cd_condition_4_value_p text, cd_condition_5_value_p text, cd_stroke_classif_p text, ds_condition_name_p text, ds_stroke_classif_p text, cd_mdc_p text, dt_end_p text, dt_start_p text, dt_update_p text, nr_seq_edition_p bigint, si_change_category_p text, qt_condition_1_from_p bigint, qt_condition_1_to_p bigint, qt_condition_2_from_p bigint, qt_condition_2_to_p bigint, qt_condition_3_from_p bigint, qt_condition_3_to_p bigint, qt_condition_4_from_p bigint, qt_condition_4_to_p bigint, qt_condition_5_from_p bigint, qt_condition_5_to_p bigint, nm_usuario_p text) AS $body$
BEGIN

insert into dpc_patient_condition(
			cd_classification,
			cd_condition,         
			cd_condition_1_value,
			cd_condition_2_value,
			cd_condition_3_value,
			cd_condition_4_value,
			cd_condition_5_value,
			cd_stroke_classif,       
			ds_condition_name,      
			ds_stroke_classif,       
		    cd_mdc,
		    dt_end,                  
		    dt_start,                
	        dt_update, 
		    nr_seq_edition,
	        si_change_category,
		    qt_condition_1_from,
			qt_condition_1_to,       
			qt_condition_2_from,
			qt_condition_2_to,       
			qt_condition_3_from,
			qt_condition_3_to,       
			qt_condition_4_from,
			qt_condition_4_to,
			qt_condition_5_from,
			qt_condition_5_to,      
		    nm_usuario,
			nm_usuario_nrec,
			dt_atualizacao,
			dt_atualizacao_nrec,
			nr_sequencia)
	values (	cd_classification_p,
			cd_condition_p,         
			cd_condition_1_value_p,
			cd_condition_2_value_p,
			cd_condition_3_value_p,
			cd_condition_4_value_p,
			cd_condition_5_value_p,
			cd_stroke_classif_p,       
			ds_condition_name_p,      
			ds_stroke_classif_p,       
		    cd_mdc_p,
	        CASE WHEN dt_end_p='99999999' THEN null WHEN dt_end_p='00000000' THEN null  ELSE to_date(dt_end_p,'yyyy-mm-dd') END ,
            CASE WHEN dt_start_p='99999999' THEN null WHEN dt_start_p='00000000' THEN null  ELSE to_date(dt_start_p,'yyyy-mm-dd') END ,
            CASE WHEN dt_update_p='99999999' THEN null WHEN dt_update_p='00000000' THEN null  ELSE to_date(dt_update_p,'yyyy-mm-dd') END ,	 
		    nr_seq_edition_p,
	        si_change_category_p,
		    qt_condition_1_from_p,
			qt_condition_1_to_p,       
			qt_condition_2_from_p,
			qt_condition_2_to_p,       
			qt_condition_3_from_p,
			qt_condition_3_to_p,       
			qt_condition_4_from_p,
			qt_condition_4_to_p,
			qt_condition_5_from_p,
			qt_condition_5_to_p,      
		    nm_usuario_p,
			nm_usuario_p,
			clock_timestamp(),
			clock_timestamp(),
			nextval('dpc_patient_condition_seq'));

end;


$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE dpc_pkg.imp_dpc_patient_condition (cd_classification_p text, cd_condition_p text, cd_condition_1_value_p text, cd_condition_2_value_p text, cd_condition_3_value_p text, cd_condition_4_value_p text, cd_condition_5_value_p text, cd_stroke_classif_p text, ds_condition_name_p text, ds_stroke_classif_p text, cd_mdc_p text, dt_end_p text, dt_start_p text, dt_update_p text, nr_seq_edition_p bigint, si_change_category_p text, qt_condition_1_from_p bigint, qt_condition_1_to_p bigint, qt_condition_2_from_p bigint, qt_condition_2_to_p bigint, qt_condition_3_from_p bigint, qt_condition_3_to_p bigint, qt_condition_4_from_p bigint, qt_condition_4_to_p bigint, qt_condition_5_from_p bigint, qt_condition_5_to_p bigint, nm_usuario_p text) FROM PUBLIC;
