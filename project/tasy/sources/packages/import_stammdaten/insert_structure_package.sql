-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE import_stammdaten.insert_structure ( import_p w_xdok_hdg_structure_aut.nr_seq_import%type, LEFTSUCC_OR_TERMINAL_ND_P w_xdok_hdg_structure_aut.LEFTSUCC_OR_TERMINAL_ND%type, LDF_POINTS_P w_xdok_hdg_structure_aut.LDF_POINTS%type, CONTACT_POINTS_P w_xdok_hdg_structure_aut.CONTACT_POINTS%type, PERFORMANCE_POINTS_P w_xdok_hdg_structure_aut.PERFORMANCE_POINTS%type, PERFORMANCE_SURCHARGE_P w_xdok_hdg_structure_aut.PERFORMANCE_SURCHARGE%type, BD_LOW_LIMIT_P w_xdok_hdg_structure_aut.BD_LOW_LIMIT%type, BD_UPPER_LIMIT_P w_xdok_hdg_structure_aut.BD_UPPER_LIMIT%type, BD_MEAN_VALUE_P w_xdok_hdg_structure_aut.BD_MEAN_VALUE%type, SPLIT_CHAR_NUM_P w_xdok_hdg_structure_aut.SPLIT_CHAR_NUM%type, SPLIT_CHAR_AN_P w_xdok_hdg_structure_aut.SPLIT_CHAR_AN%type, cd_uid_p w_xdok_hdg_structure_aut.cd_uid%type, nm_usuario_p w_xdok_hdg_structure_aut.nm_usuario%type) AS $body$
BEGIN
		PERFORM set_config('import_stammdaten.dt_atual_w', clock_timestamp(), false);
		
		begin
			insert into w_xdok_hdg_structure_aut(
				nr_sequencia,
				nr_seq_import,
				LEFTSUCC_OR_TERMINAL_ND,
				LDF_POINTS,
				CONTACT_POINTS,
				PERFORMANCE_POINTS,
				PERFORMANCE_SURCHARGE,
				BD_LOW_LIMIT,
				BD_UPPER_LIMIT,
				BD_MEAN_VALUE,
				SPLIT_CHAR_NUM,
				SPLIT_CHAR_AN,
				cd_uid,
				dt_atualizacao,
				nm_usuario)
			values (
				nextval('w_xdok_hdg_structure_aut_seq'),
				import_p,
				LEFTSUCC_OR_TERMINAL_ND_P,
				LDF_POINTS_P,
				CONTACT_POINTS_P,
				PERFORMANCE_POINTS_P,
				SELECTANCE_SURCHARGE_P,
				BD_LOW_LIMIT_P,
				BD_UPPER_LIMIT_P,
				BD_MEAN_VALUE_P,
				SPLIT_CHAR_NUM_P,
				SPLIT_CHAR_AN_P,
				cd_uid_p,
				current_setting('import_stammdaten.dt_atual_w')::timestamp,
				nm_usuario_p);
		exception when others then
			rollback;
			CALL wheb_mensagem_pck.exibir_mensagem_abort(1023582);
		end;
		
		if (coalesce(wheb_usuario_pck.get_ie_commit, 'S') = 'S') then
			commit;
		end if;
	END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE import_stammdaten.insert_structure ( import_p w_xdok_hdg_structure_aut.nr_seq_import%type, LEFTSUCC_OR_TERMINAL_ND_P w_xdok_hdg_structure_aut.LEFTSUCC_OR_TERMINAL_ND%type, LDF_POINTS_P w_xdok_hdg_structure_aut.LDF_POINTS%type, CONTACT_POINTS_P w_xdok_hdg_structure_aut.CONTACT_POINTS%type, PERFORMANCE_POINTS_P w_xdok_hdg_structure_aut.PERFORMANCE_POINTS%type, PERFORMANCE_SURCHARGE_P w_xdok_hdg_structure_aut.PERFORMANCE_SURCHARGE%type, BD_LOW_LIMIT_P w_xdok_hdg_structure_aut.BD_LOW_LIMIT%type, BD_UPPER_LIMIT_P w_xdok_hdg_structure_aut.BD_UPPER_LIMIT%type, BD_MEAN_VALUE_P w_xdok_hdg_structure_aut.BD_MEAN_VALUE%type, SPLIT_CHAR_NUM_P w_xdok_hdg_structure_aut.SPLIT_CHAR_NUM%type, SPLIT_CHAR_AN_P w_xdok_hdg_structure_aut.SPLIT_CHAR_AN%type, cd_uid_p w_xdok_hdg_structure_aut.cd_uid%type, nm_usuario_p w_xdok_hdg_structure_aut.nm_usuario%type) FROM PUBLIC;
