-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';




CREATE OR REPLACE PROCEDURE pfcs_pck_communications.send_internal_communication (ds_title_p text, ds_message_p text, ds_user_list_p text, cd_establishment_p bigint) AS $body$
BEGIN
		insert into comunic_interna(
				dt_comunicado,
				ds_titulo,
				ds_comunicado,
				nm_usuario,
				dt_atualizacao,
				ie_geral,
				nm_usuario_destino,
				nr_sequencia,
				ie_gerencial,
				nr_seq_classif,
				ds_perfil_adicional,
				cd_setor_destino,
				cd_estab_destino,
				ds_setor_adicional,
				dt_liberacao)
		values (clock_timestamp(),
				ds_title_p,
				ds_message_p,
				'PFCS',
				clock_timestamp(),
				pfcs_pck_constants.ie_no,
				ds_user_list_p,
				nextval('comunic_interna_seq'),
				pfcs_pck_constants.ie_no,
				null,
				null,
				null,
				cd_establishment_p,
				null,
				clock_timestamp());
		commit;
	END;

$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pfcs_pck_communications.send_internal_communication (ds_title_p text, ds_message_p text, ds_user_list_p text, cd_establishment_p bigint) FROM PUBLIC;
