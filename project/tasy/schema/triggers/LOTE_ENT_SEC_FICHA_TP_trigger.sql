-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

DROP TRIGGER IF EXISTS lote_ent_sec_ficha_tp ON lote_ent_sec_ficha CASCADE;
CREATE OR REPLACE FUNCTION trigger_fct_lote_ent_sec_ficha_tp() RETURNS trigger AS $BODY$
DECLARE nr_seq_w bigint;ds_s_w   varchar(1);ds_c_w   varchar(1);ds_w	   varchar(1);ie_log_w varchar(1);BEGIN BEGIN ds_s_w := to_char(OLD.NR_SEQUENCIA);  ds_c_w:=null; ds_w:=substr(NEW.IE_TIPO_FICHA,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_TIPO_FICHA,1,4000), substr(NEW.IE_TIPO_FICHA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_TIPO_FICHA', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_MATERIAL_EXAME,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_MATERIAL_EXAME,1,4000), substr(NEW.CD_MATERIAL_EXAME,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_MATERIAL_EXAME', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DT_NASCIMENTO_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DT_NASCIMENTO_F,1,4000), substr(NEW.DT_NASCIMENTO_F,1,4000), NEW.nm_usuario, nr_seq_w, 'DT_NASCIMENTO_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_PERIODO_COL_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_PERIODO_COL_F,1,4000), substr(NEW.IE_PERIODO_COL_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_PERIODO_COL_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_ENTIDADE_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_ENTIDADE_F,1,4000), substr(NEW.CD_ENTIDADE_F,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_ENTIDADE_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_LOTE_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_LOTE_F,1,4000), substr(NEW.CD_LOTE_F,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_LOTE_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_EXAME_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_EXAME_F,1,4000), substr(NEW.CD_EXAME_F,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_EXAME_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_PREMATURO_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_PREMATURO_F,1,4000), substr(NEW.IE_PREMATURO_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_PREMATURO_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_TRANSFUSAO_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_TRANSFUSAO_F,1,4000), substr(NEW.IE_TRANSFUSAO_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_TRANSFUSAO_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DT_COLETA_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DT_COLETA_F,1,4000), substr(NEW.DT_COLETA_F,1,4000), NEW.nm_usuario, nr_seq_w, 'DT_COLETA_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_TIPO_TESTE_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_TIPO_TESTE_F,1,4000), substr(NEW.IE_TIPO_TESTE_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_TIPO_TESTE_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DS_REPETICAO_EXAME_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DS_REPETICAO_EXAME_F,1,4000), substr(NEW.DS_REPETICAO_EXAME_F,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_REPETICAO_EXAME_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_ENTRADA_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_ENTRADA_F,1,4000), substr(NEW.CD_ENTRADA_F,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_ENTRADA_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_EXAME_FICHA_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_EXAME_FICHA_F,1,4000), substr(NEW.CD_EXAME_FICHA_F,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_EXAME_FICHA_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_PRONTUARIO_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_PRONTUARIO_F,1,4000), substr(NEW.CD_PRONTUARIO_F,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_PRONTUARIO_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NM_RN_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NM_RN_F,1,4000), substr(NEW.NM_RN_F,1,4000), NEW.nm_usuario, nr_seq_w, 'NM_RN_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_DNV_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_DNV_F,1,4000), substr(NEW.CD_DNV_F,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_DNV_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DT_COLETA_FICHA_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DT_COLETA_FICHA_F,1,4000), substr(NEW.DT_COLETA_FICHA_F,1,4000), NEW.nm_usuario, nr_seq_w, 'DT_COLETA_FICHA_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_BARRA_GERADO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_BARRA_GERADO,1,4000), substr(NEW.IE_BARRA_GERADO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_BARRA_GERADO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NM_MAE_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NM_MAE_F,1,4000), substr(NEW.NM_MAE_F,1,4000), NEW.nm_usuario, nr_seq_w, 'NM_MAE_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_MEDICO_RESP,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_MEDICO_RESP,1,4000), substr(NEW.CD_MEDICO_RESP,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_MEDICO_RESP', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DT_ATUALIZACAO_NREC,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DT_ATUALIZACAO_NREC,1,4000), substr(NEW.DT_ATUALIZACAO_NREC,1,4000), NEW.nm_usuario, nr_seq_w, 'DT_ATUALIZACAO_NREC', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NM_USUARIO_NREC,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NM_USUARIO_NREC,1,4000), substr(NEW.NM_USUARIO_NREC,1,4000), NEW.nm_usuario, nr_seq_w, 'NM_USUARIO_NREC', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_SEQ_LOTE_SEC,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_SEQ_LOTE_SEC,1,4000), substr(NEW.NR_SEQ_LOTE_SEC,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_SEQ_LOTE_SEC', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_PRONTUARIO_EX,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_PRONTUARIO_EX,1,4000), substr(NEW.NR_PRONTUARIO_EX,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_PRONTUARIO_EX', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_USUARIO_CONV_EXT,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_USUARIO_CONV_EXT,1,4000), substr(NEW.CD_USUARIO_CONV_EXT,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_USUARIO_CONV_EXT', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_FICHA_EXT,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_FICHA_EXT,1,4000), substr(NEW.NR_FICHA_EXT,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_FICHA_EXT', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DS_OBSERVACAO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DS_OBSERVACAO,1,4000), substr(NEW.DS_OBSERVACAO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_OBSERVACAO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_SUSP_AM_INAD,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_SUSP_AM_INAD,1,4000), substr(NEW.IE_SUSP_AM_INAD,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_SUSP_AM_INAD', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_BARRAS,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_BARRAS,1,4000), substr(NEW.CD_BARRAS,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_BARRAS', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_CARTAO_NAC_SUS,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_CARTAO_NAC_SUS,1,4000), substr(NEW.NR_CARTAO_NAC_SUS,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_CARTAO_NAC_SUS', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_FICHA_ADICIONAL,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_FICHA_ADICIONAL,1,4000), substr(NEW.IE_FICHA_ADICIONAL,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_FICHA_ADICIONAL', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_PERIODO_NASC_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_PERIODO_NASC_F,1,4000), substr(NEW.IE_PERIODO_NASC_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_PERIODO_NASC_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.QT_PESO_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.QT_PESO_F,1,4000), substr(NEW.QT_PESO_F,1,4000), NEW.nm_usuario, nr_seq_w, 'QT_PESO_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_SEXO_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_SEXO_F,1,4000), substr(NEW.IE_SEXO_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_SEXO_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_COR_PF_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_COR_PF_F,1,4000), substr(NEW.IE_COR_PF_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_COR_PF_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_NPP_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_NPP_F,1,4000), substr(NEW.IE_NPP_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_NPP_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_PREMAT_S_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_PREMAT_S_F,1,4000), substr(NEW.IE_PREMAT_S_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_PREMAT_S_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_IDADE_GEST_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_IDADE_GEST_F,1,4000), substr(NEW.NR_IDADE_GEST_F,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_IDADE_GEST_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_PREMAT_N_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_PREMAT_N_F,1,4000), substr(NEW.IE_PREMAT_N_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_PREMAT_N_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_TRANSF_S_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_TRANSF_S_F,1,4000), substr(NEW.IE_TRANSF_S_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_TRANSF_S_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DT_TRANSF_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DT_TRANSF_F,1,4000), substr(NEW.DT_TRANSF_F,1,4000), NEW.nm_usuario, nr_seq_w, 'DT_TRANSF_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_TRANSF_N_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_TRANSF_N_F,1,4000), substr(NEW.IE_TRANSF_N_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_TRANSF_N_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_GEMELAR_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_GEMELAR_F,1,4000), substr(NEW.IE_GEMELAR_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_GEMELAR_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_STATUS_FICHA,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_STATUS_FICHA,1,4000), substr(NEW.IE_STATUS_FICHA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_STATUS_FICHA', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_SEQ_MOT_INADEQ,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_SEQ_MOT_INADEQ,1,4000), substr(NEW.NR_SEQ_MOT_INADEQ,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_SEQ_MOT_INADEQ', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DS_MOTIVO_INADEQ,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DS_MOTIVO_INADEQ,1,4000), substr(NEW.DS_MOTIVO_INADEQ,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_MOTIVO_INADEQ', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_PESSOA_FISICA,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_PESSOA_FISICA,1,4000), substr(NEW.CD_PESSOA_FISICA,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_PESSOA_FISICA', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_SEQUENCIA,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_SEQUENCIA,1,4000), substr(NEW.NR_SEQUENCIA,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_SEQUENCIA', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DT_ATUALIZACAO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DT_ATUALIZACAO,1,4000), substr(NEW.DT_ATUALIZACAO,1,4000), NEW.nm_usuario, nr_seq_w, 'DT_ATUALIZACAO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NM_USUARIO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NM_USUARIO,1,4000), substr(NEW.NM_USUARIO,1,4000), NEW.nm_usuario, nr_seq_w, 'NM_USUARIO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_PESSOA_EXTERNA,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_PESSOA_EXTERNA,1,4000), substr(NEW.CD_PESSOA_EXTERNA,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_PESSOA_EXTERNA', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DT_VALIDADE,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DT_VALIDADE,1,4000), substr(NEW.DT_VALIDADE,1,4000), NEW.nm_usuario, nr_seq_w, 'DT_VALIDADE', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_SEQ_GRAU_PARENTESCO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_SEQ_GRAU_PARENTESCO,1,4000), substr(NEW.NR_SEQ_GRAU_PARENTESCO,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_SEQ_GRAU_PARENTESCO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DT_FABRICACAO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DT_FABRICACAO,1,4000), substr(NEW.DT_FABRICACAO,1,4000), NEW.nm_usuario, nr_seq_w, 'DT_FABRICACAO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_LOTE_FICHA,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_LOTE_FICHA,1,4000), substr(NEW.NR_LOTE_FICHA,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_LOTE_FICHA', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_ATENDIMENTO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_ATENDIMENTO,1,4000), substr(NEW.NR_ATENDIMENTO,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_ATENDIMENTO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_SEQ_TIPO_MAT_LOTE,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_SEQ_TIPO_MAT_LOTE,1,4000), substr(NEW.NR_SEQ_TIPO_MAT_LOTE,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_SEQ_TIPO_MAT_LOTE', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_PRESCRICAO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_PRESCRICAO,1,4000), substr(NEW.NR_PRESCRICAO,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_PRESCRICAO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_AMOSTRA,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMOSTRA,1,4000), substr(NEW.IE_AMOSTRA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMOSTRA', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.HR_COLETA_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.HR_COLETA_F,1,4000), substr(NEW.HR_COLETA_F,1,4000), NEW.nm_usuario, nr_seq_w, 'HR_COLETA_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.HR_NASCIMENTO_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.HR_NASCIMENTO_F,1,4000), substr(NEW.HR_NASCIMENTO_F,1,4000), NEW.nm_usuario, nr_seq_w, 'HR_NASCIMENTO_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_SEQ_LOCAL,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_SEQ_LOCAL,1,4000), substr(NEW.NR_SEQ_LOCAL,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_SEQ_LOCAL', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_SEQ_LOCAL_CAIXA,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_SEQ_LOCAL_CAIXA,1,4000), substr(NEW.NR_SEQ_LOCAL_CAIXA,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_SEQ_LOCAL_CAIXA', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_CORTICOIDE_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_CORTICOIDE_F,1,4000), substr(NEW.IE_CORTICOIDE_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_CORTICOIDE_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DS_CORTICOIDE_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DS_CORTICOIDE_F,1,4000), substr(NEW.DS_CORTICOIDE_F,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_CORTICOIDE_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_FICHA_URG,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_FICHA_URG,1,4000), substr(NEW.IE_FICHA_URG,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_FICHA_URG', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.CD_MOTIVO_BAIXA,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.CD_MOTIVO_BAIXA,1,4000), substr(NEW.CD_MOTIVO_BAIXA,1,4000), NEW.nm_usuario, nr_seq_w, 'CD_MOTIVO_BAIXA', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_SUSPENSO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_SUSPENSO,1,4000), substr(NEW.IE_SUSPENSO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_SUSPENSO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_SEQ_FICHA_ANT,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_SEQ_FICHA_ANT,1,4000), substr(NEW.NR_SEQ_FICHA_ANT,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_SEQ_FICHA_ANT', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_AMAMENTADO_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMAMENTADO_F,1,4000), substr(NEW.IE_AMAMENTADO_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMAMENTADO_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_ALIM_LEITE_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ALIM_LEITE_F,1,4000), substr(NEW.IE_ALIM_LEITE_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ALIM_LEITE_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_ICTERICIA_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ICTERICIA_F,1,4000), substr(NEW.IE_ICTERICIA_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ICTERICIA_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_MAE_VEG_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_MAE_VEG_F,1,4000), substr(NEW.IE_MAE_VEG_F,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_MAE_VEG_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.DT_ULT_MENST,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.DT_ULT_MENST,1,4000), substr(NEW.DT_ULT_MENST,1,4000), NEW.nm_usuario, nr_seq_w, 'DT_ULT_MENST', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.QT_GEST_F,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.QT_GEST_F,1,4000), substr(NEW.QT_GEST_F,1,4000), NEW.nm_usuario, nr_seq_w, 'QT_GEST_F', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_TIPO_PARTO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_TIPO_PARTO,1,4000), substr(NEW.IE_TIPO_PARTO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_TIPO_PARTO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.IE_ABORTO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ABORTO,1,4000), substr(NEW.IE_ABORTO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ABORTO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.QT_ABORTO,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.QT_ABORTO,1,4000), substr(NEW.QT_ABORTO,1,4000), NEW.nm_usuario, nr_seq_w, 'QT_ABORTO', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;  ds_w:=substr(NEW.NR_SISPRENATAL,1,500);SELECT * FROM gravar_log_alteracao(substr(OLD.NR_SISPRENATAL,1,4000), substr(NEW.NR_SISPRENATAL,1,4000), NEW.nm_usuario, nr_seq_w, 'NR_SISPRENATAL', ie_log_w, ds_w, 'LOTE_ENT_SEC_FICHA', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;   exception when others then ds_w:= '1'; end;   END;
RETURN NEW;
end
$BODY$
 LANGUAGE 'plpgsql' SECURITY DEFINER;
-- REVOKE ALL ON FUNCTION trigger_fct_lote_ent_sec_ficha_tp() FROM PUBLIC;

CREATE TRIGGER lote_ent_sec_ficha_tp
	AFTER UPDATE ON lote_ent_sec_ficha FOR EACH ROW
	EXECUTE PROCEDURE trigger_fct_lote_ent_sec_ficha_tp();

