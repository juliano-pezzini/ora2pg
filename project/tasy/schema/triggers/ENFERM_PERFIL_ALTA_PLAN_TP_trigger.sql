-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

DROP TRIGGER IF EXISTS enferm_perfil_alta_plan_tp ON enferm_perfil_alta_plan CASCADE;
CREATE OR REPLACE FUNCTION trigger_fct_enferm_perfil_alta_plan_tp() RETURNS trigger AS $BODY$
DECLARE nr_seq_w bigint;ds_s_w   varchar(1);ds_c_w   varchar(1);ds_w	   varchar(1);ie_log_w varchar(1);BEGIN BEGIN ds_s_w := null; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_EQUIP_MULETA,1,4000), substr(NEW.IE_EQUIP_MULETA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_EQUIP_MULETA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_EQUIP_CUIDADO_POS_ALTA,1,4000), substr(NEW.IE_EQUIP_CUIDADO_POS_ALTA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_EQUIP_CUIDADO_POS_ALTA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_CAD_RODAS,1,4000), substr(NEW.IE_CAD_RODAS,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_CAD_RODAS', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ANDADOR,1,4000), substr(NEW.IE_ANDADOR,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ANDADOR', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_BENGALA,1,4000), substr(NEW.IE_BENGALA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_BENGALA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_CANA,1,4000), substr(NEW.IE_CANA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_CANA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ASSENTO_CHUVEIRO,1,4000), substr(NEW.IE_ASSENTO_CHUVEIRO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ASSENTO_CHUVEIRO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_SANITA_PORTATIL,1,4000), substr(NEW.IE_SANITA_PORTATIL,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_SANITA_PORTATIL', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_URINOL,1,4000), substr(NEW.IE_URINOL,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_URINOL', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_USO_CAMA,1,4000), substr(NEW.IE_USO_CAMA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_USO_CAMA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_EQUIP_ALTA_OUTRO,1,4000), substr(NEW.IE_EQUIP_ALTA_OUTRO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_EQUIP_ALTA_OUTRO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_EQUIP_ALTA_OUTRO,1,4000), substr(NEW.DS_EQUIP_ALTA_OUTRO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_EQUIP_ALTA_OUTRO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ACOMP_POS_ALTA,1,4000), substr(NEW.IE_ACOMP_POS_ALTA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ACOMP_POS_ALTA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_HOSP_AMB_INTERNO,1,4000), substr(NEW.IE_HOSP_AMB_INTERNO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_HOSP_AMB_INTERNO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_HOSP_AMB_EXTERNO,1,4000), substr(NEW.IE_HOSP_AMB_EXTERNO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_HOSP_AMB_EXTERNO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_HOSP_AMB_EXTERNO,1,4000), substr(NEW.DS_HOSP_AMB_EXTERNO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_HOSP_AMB_EXTERNO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_UTIL_RECUR_SOCIAL_ATUAL,1,4000), substr(NEW.IE_UTIL_RECUR_SOCIAL_ATUAL,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_UTIL_RECUR_SOCIAL_ATUAL', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_UTIL_RECUR_SOCIAL_ATUAL,1,4000), substr(NEW.DS_UTIL_RECUR_SOCIAL_ATUAL,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_UTIL_RECUR_SOCIAL_ATUAL', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ACOMP_POS_ALTA_OUTRO,1,4000), substr(NEW.IE_ACOMP_POS_ALTA_OUTRO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ACOMP_POS_ALTA_OUTRO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_ACOMP_POS_ALTA_OUTRO,1,4000), substr(NEW.DS_ACOMP_POS_ALTA_OUTRO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_ACOMP_POS_ALTA_OUTRO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_PLANO_ALTA_OUTRO,1,4000), substr(NEW.DS_PLANO_ALTA_OUTRO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_PLANO_ALTA_OUTRO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_PLANO_ALTA_OBSERVACOES,1,4000), substr(NEW.DS_PLANO_ALTA_OBSERVACOES,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_PLANO_ALTA_OBSERVACOES', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_MOD_ESTRUTURA_CASA,1,4000), substr(NEW.IE_MOD_ESTRUTURA_CASA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_MOD_ESTRUTURA_CASA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_MOD_ESTRUTURA_CASA_MOD,1,4000), substr(NEW.IE_MOD_ESTRUTURA_CASA_MOD,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_MOD_ESTRUTURA_CASA_MOD', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_OXIGENIO_PROC,1,4000), substr(NEW.IE_OXIGENIO_PROC,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_OXIGENIO_PROC', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_CERT_CUIDADO_ENF,1,4000), substr(NEW.IE_CERT_CUIDADO_ENF,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_CERT_CUIDADO_ENF', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ESTADIA_CURTA,1,4000), substr(NEW.IE_ESTADIA_CURTA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ESTADIA_CURTA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_INF_CONTATO_POS_ALTA,1,4000), substr(NEW.IE_INF_CONTATO_POS_ALTA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_INF_CONTATO_POS_ALTA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_INF_CONTATO_POS_ALTA,1,4000), substr(NEW.DS_INF_CONTATO_POS_ALTA,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_INF_CONTATO_POS_ALTA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_CERT_CUIDADO_ENF,1,4000), substr(NEW.DS_CERT_CUIDADO_ENF,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_CERT_CUIDADO_ENF', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ALTA_HOSPITALAR,1,4000), substr(NEW.IE_ALTA_HOSPITALAR,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ALTA_HOSPITALAR', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_OXIGENOTERAPIA_DOMICILIAR,1,4000), substr(NEW.IE_OXIGENOTERAPIA_DOMICILIAR,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_OXIGENOTERAPIA_DOMICILIAR', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ESTRUTURA_CASA,1,4000), substr(NEW.IE_ESTRUTURA_CASA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ESTRUTURA_CASA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_FLUXO_OXIGENIO,1,4000), substr(NEW.DS_FLUXO_OXIGENIO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_FLUXO_OXIGENIO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_TERAPIA_INFUSAO,1,4000), substr(NEW.IE_TERAPIA_INFUSAO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_TERAPIA_INFUSAO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_TERAPIA_ORIENTACAO,1,4000), substr(NEW.DS_TERAPIA_ORIENTACAO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_TERAPIA_ORIENTACAO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_TERAPIA_COMPLETO,1,4000), substr(NEW.DS_TERAPIA_COMPLETO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_TERAPIA_COMPLETO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ESTILO_VIDA_ALTA,1,4000), substr(NEW.IE_ESTILO_VIDA_ALTA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ESTILO_VIDA_ALTA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_ESTILO_VIDA_ALTA_OUTRO,1,4000), substr(NEW.DS_ESTILO_VIDA_ALTA_OUTRO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_ESTILO_VIDA_ALTA_OUTRO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_MSW_CONTATO,1,4000), substr(NEW.DS_MSW_CONTATO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_MSW_CONTATO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ATEND_DOMICILIAR_SERV,1,4000), substr(NEW.IE_ATEND_DOMICILIAR_SERV,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ATEND_DOMICILIAR_SERV', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMB_TOALETE_OCI,1,4000), substr(NEW.IE_AMB_TOALETE_OCI,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMB_TOALETE_OCI', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMB_TOALETE_JAP,1,4000), substr(NEW.IE_AMB_TOALETE_JAP,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMB_TOALETE_JAP', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMB_TOALETE_QUARTO,1,4000), substr(NEW.IE_AMB_TOALETE_QUARTO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMB_TOALETE_QUARTO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMB_ESCADAS,1,4000), substr(NEW.IE_AMB_ESCADAS,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMB_ESCADAS', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMB_CORRIMAO,1,4000), substr(NEW.IE_AMB_CORRIMAO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMB_CORRIMAO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMB_ELEVADOR,1,4000), substr(NEW.IE_AMB_ELEVADOR,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMB_ELEVADOR', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMB_FUTON,1,4000), substr(NEW.IE_AMB_FUTON,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMB_FUTON', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_ESTILO_VIDA_ALTA_AMIGO,1,4000), substr(NEW.DS_ESTILO_VIDA_ALTA_AMIGO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_ESTILO_VIDA_ALTA_AMIGO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_MSW,1,4000), substr(NEW.IE_MSW,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_MSW', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_TRAB_DOMESTICO_SOZINHO,1,4000), substr(NEW.IE_TRAB_DOMESTICO_SOZINHO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_TRAB_DOMESTICO_SOZINHO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_PROB_CUIDA_POS_ALTA,1,4000), substr(NEW.IE_PROB_CUIDA_POS_ALTA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_PROB_CUIDA_POS_ALTA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_SUPORTE_APOIO,1,4000), substr(NEW.IE_SUPORTE_APOIO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_SUPORTE_APOIO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_PROB_FINAN_POS_ALTA,1,4000), substr(NEW.IE_PROB_FINAN_POS_ALTA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_PROB_FINAN_POS_ALTA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_UTIL_RECUR_SOCIAL_PASSADO,1,4000), substr(NEW.IE_UTIL_RECUR_SOCIAL_PASSADO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_UTIL_RECUR_SOCIAL_PASSADO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_ATEND_DOMICILIAR,1,4000), substr(NEW.IE_ATEND_DOMICILIAR,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_ATEND_DOMICILIAR', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_SERVICO_CRECHE,1,4000), substr(NEW.IE_SERVICO_CRECHE,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_SERVICO_CRECHE', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_CENTRO_CUIDADO,1,4000), substr(NEW.IE_CENTRO_CUIDADO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_CENTRO_CUIDADO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMB_CAMA,1,4000), substr(NEW.IE_AMB_CAMA,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMB_CAMA', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_AMB_OUTROS,1,4000), substr(NEW.IE_AMB_OUTROS,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_AMB_OUTROS', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_AMB_OUTROS,1,4000), substr(NEW.DS_AMB_OUTROS,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_AMB_OUTROS', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_CUIDADO_ENFERM_DOMICILIAR,1,4000), substr(NEW.IE_CUIDADO_ENFERM_DOMICILIAR,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_CUIDADO_ENFERM_DOMICILIAR', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_VISITA_REHAB,1,4000), substr(NEW.IE_VISITA_REHAB,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_VISITA_REHAB', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.IE_SERV_OUTRO,1,4000), substr(NEW.IE_SERV_OUTRO,1,4000), NEW.nm_usuario, nr_seq_w, 'IE_SERV_OUTRO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w; SELECT * FROM gravar_log_alteracao(substr(OLD.DS_SERV_OUTRO,1,4000), substr(NEW.DS_SERV_OUTRO,1,4000), NEW.nm_usuario, nr_seq_w, 'DS_SERV_OUTRO', ie_log_w, ds_w, 'ENFERM_PERFIL_ALTA_PLAN', ds_s_w, ds_c_w) INTO STRICT nr_seq_w, ie_log_w;   exception when others then ds_w:= '1'; end;   END;
RETURN NEW;
end
$BODY$
 LANGUAGE 'plpgsql' SECURITY DEFINER;
-- REVOKE ALL ON FUNCTION trigger_fct_enferm_perfil_alta_plan_tp() FROM PUBLIC;

CREATE TRIGGER enferm_perfil_alta_plan_tp
	AFTER UPDATE ON enferm_perfil_alta_plan FOR EACH ROW
	EXECUTE PROCEDURE trigger_fct_enferm_perfil_alta_plan_tp();

