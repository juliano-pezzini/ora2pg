-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

DROP TRIGGER IF EXISTS analise_ortografica_delete ON analise_ortografica CASCADE;
CREATE OR REPLACE FUNCTION trigger_fct_analise_ortografica_delete() RETURNS trigger AS $BODY$
declare

dt_confirmacao_w	timestamp;

BEGIN
dt_confirmacao_w := LOCALTIMESTAMP;
/*
if	(nvl(:old.ie_diferenca,'N') = 'S') then
	insert	into logxxxxx_tasy
		(cd_log,
		ds_log,
		dt_atualizacao,
		nm_usuario)
	values	(55869,
		substr('CD_DOMINIO=' || :old.cd_dominio ||
		';CD_FUNCAO=' || :old.cd_funcao ||
		';DS_CAMPO=' || :old.ds_campo ||
		';DS_FORM=' || :old.ds_form ||
		';DS_METODO=' || :old.ds_metodo ||
		';DS_NOME_OBJETO=' || :old.ds_nome_objeto ||
		';IE_ORIGEM=' || :old.ie_origem ||
		';NM_ATRIBUTO=' || :old.nm_atributo ||
		';NM_TABELA=' || :old.nm_tabela ||
		';NR_OCORRENCIA=' || :old.nr_ocorrencia ||
		';NR_PARAMETRO=' || :old.nr_parametro ||
		';NR_SEQ_CAMPO_RELAT=' || :old.nr_seq_campo_relat ||
		';NR_SEQ_COR=' || :old.nr_seq_cor ||
		';NR_SEQ_LOTE=' || :old.nr_seq_lote ||
		';NR_SEQ_OBJETO=' || :old.nr_seq_objeto ||
		';NR_SEQ_OBJ_FILTRO=' || :old.nr_seq_obj_filtro ||
		';NR_SEQ_ORIGEM=' || :old.nr_seq_origem ||
		';NR_SEQ_PARAMETRO=' || :old.nr_seq_parametro ||
		';NR_SEQ_PARAM_RELAT=' || :old.nr_seq_param_relat ||
		';NR_SEQ_RELATORIO=' || :old.nr_seq_relatorio ||
		';NR_SEQ_VISAO=' || :old.nr_seq_visao ||
		';VL_DOMINIO=' || :old.vl_dominio,1,2000),
		sysdate,
		wheb_usuario_pck.get_nm_usuario);
end if;
*/
RETURN OLD;
end
$BODY$
 LANGUAGE 'plpgsql' SECURITY DEFINER;
-- REVOKE ALL ON FUNCTION trigger_fct_analise_ortografica_delete() FROM PUBLIC;

CREATE TRIGGER analise_ortografica_delete
	BEFORE DELETE ON analise_ortografica FOR EACH ROW
	EXECUTE PROCEDURE trigger_fct_analise_ortografica_delete();

