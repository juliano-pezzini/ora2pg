-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION nom_obter_valor (DS_TEXTO_P text, QT_INICIAL_P bigint) RETURNS varchar AS $body$
DECLARE


DS_TERMINAR_W				varchar(1) := 'X';
QT_INICIAL_W				bigint := 0;
DS_RETORNO_POSICAO_W			varchar(2000);



BEGIN

DS_RETORNO_POSICAO_W := 1;
QT_INICIAL_W := QT_INICIAL_P;

WHILE(DS_TERMINAR_W <> '@') LOOP
	SELECT	SUBSTR(DS_TEXTO_P,QT_INICIAL_W,1)
	INTO STRICT	DS_TERMINAR_W
	;

	DS_RETORNO_POSICAO_W	:= DS_RETORNO_POSICAO_W + 1;
	QT_INICIAL_W 		:= QT_INICIAL_W + 1;

END LOOP;

RETURN	SUBSTR(DS_TEXTO_P, QT_INICIAL_P, DS_RETORNO_POSICAO_W - 2);
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION nom_obter_valor (DS_TEXTO_P text, QT_INICIAL_P bigint) FROM PUBLIC;

