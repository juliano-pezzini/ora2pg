-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION pls_obter_dados_solic_alt ( nm_atributo_p text, ds_valor_p text, ie_descricao_campo_p text, ds_chave_composta_p text default null) RETURNS varchar AS $body$
DECLARE


ds_retorno_w	varchar(2000);

/* Se quiser retornar a descricao do atributo, passar 'S' para ie_descricao_campo_p, caso nao queira, passar NULL ou 'N' */

BEGIN

if (nm_atributo_p = 'NR_SEQ_PAIS') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w := obter_desc_expressao(656878);
	else
		begin
		select	nm_pais ds
		into STRICT	ds_retorno_w
		from	pais
		where	nr_sequencia = ds_valor_p;
		exception
		when others then
			ds_retorno_w := '';
		end;
	end if;
elsif (nm_atributo_p = 'IE_ESTADO_CIVIL') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w := obter_desc_expressao(625399);
	else
		ds_retorno_w := obter_valor_dominio(5, ds_valor_p);
	end if;
elsif (nm_atributo_p = 'SG_EMISSORA_CI' or nm_atributo_p = 'SG_ESTADO') then
	if (ie_descricao_campo_p = 'S' and nm_atributo_p = 'SG_EMISSORA_CI') then
		ds_retorno_w := obter_desc_expressao(1057665);
	elsif (ie_descricao_campo_p = 'S' and nm_atributo_p = 'SG_ESTADO') then
		ds_retorno_w := obter_desc_expressao(289525);
	else
		ds_retorno_w := obter_valor_dominio(50, ds_valor_p);
	end if;
elsif (nm_atributo_p = 'DS_EMAIL' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(289120);
elsif (nm_atributo_p = 'DT_EMISSAO_CERT_CASAMENTO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(288403);
elsif (nm_atributo_p = 'NR_CERT_CASAMENTO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(284809);
elsif (nm_atributo_p = 'NM_ABREVIADO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(294175);
elsif (nm_atributo_p = 'NR_IDENTIDADE' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(894444);
elsif (nm_atributo_p = 'CD_RFC' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(1079088);
elsif (nm_atributo_p = 'CD_CURP' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(286332);
elsif (nm_atributo_p = 'NM_PESSOA_FISICA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(744691);
elsif (nm_atributo_p = 'NM_SOCIAL' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(962558);
elsif (nm_atributo_p = 'DT_NASCIMENTO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(303344);
elsif (nm_atributo_p = 'NR_CPF' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(286332);
elsif (nm_atributo_p = 'DT_EMISSAO_CI' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(703528);
elsif (nm_atributo_p = 'DS_ORGAO_EMISSOR_CI' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(1057669);
elsif (nm_atributo_p = 'NR_REG_GERAL_ESTRANG' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(297894);
elsif (nm_atributo_p = 'NR_TELEFONE' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(299149);
elsif (nm_atributo_p = 'NR_DDD_TELEFONE' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(287316);
elsif (nm_atributo_p = 'NR_TELEFONE_CELULAR' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(284755);
elsif (nm_atributo_p = 'DS_BAIRRO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(795903);
elsif (nm_atributo_p = 'NR_DDI_TELEFONE' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(1057673);
elsif (nm_atributo_p = 'DS_COMPLEMENTO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(285555);
elsif (nm_atributo_p = 'DS_ENDERECO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(1054826);
elsif (nm_atributo_p = 'CD_CEP' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(883399);
elsif (nm_atributo_p = 'NR_CEP_CIDADE_NASC' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(1057675);
elsif (nm_atributo_p = 'NR_ENDERECO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(294439);
elsif (nm_atributo_p = 'NR_PIS_PASEP' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(295918);
elsif (nm_atributo_p = 'NR_CTPS' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(286410);
elsif (nm_atributo_p = 'NR_SERIE_CTPS' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(298336);
elsif (nm_atributo_p = 'DT_EMISSAO_CTPS' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(289153);
elsif (nm_atributo_p = 'UF_EMISSORA_CTPS') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w := obter_desc_expressao(300626);
	else
		ds_retorno_w := obter_valor_dominio(50, ds_valor_p);
	end if;
elsif (nm_atributo_p = 'CD_CBO_SUS' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(284735);
elsif (nm_atributo_p = 'CD_MUNICIPIO_IBGE') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w := obter_desc_expressao(293668);
	else
		ds_retorno_w := obter_desc_municipio_ibge(ds_valor_p);
	end if;
elsif (nm_atributo_p	= 'DT_VALIDADE_ALVARA_MUNIC' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(743112);
elsif (nm_atributo_p	= 'NR_DDI_FAX' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(773001);
elsif (nm_atributo_p	= 'DS_MUNICIPIO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(293659);
elsif (nm_atributo_p	= 'CD_BANCO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(784231);
elsif (nm_atributo_p	= 'NR_ALVARA_SANITARIO_MUNIC' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(742378);
elsif (nm_atributo_p	= 'CD_CNES' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(285179);
elsif (nm_atributo_p	= 'NR_CONTA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(285928);
elsif (nm_atributo_p	= 'NR_DIGITO_CONTA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(303764);
elsif (nm_atributo_p	= 'DT_VALIDADE_ALVARA_SANIT' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(704802);
elsif (nm_atributo_p	= 'CD_AGENCIA_BANCARIA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(554955);
elsif (nm_atributo_p	= 'IE_DIGITO_AGENCIA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(309458);
elsif (nm_atributo_p	= 'NR_DDD_FAX' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(312106);
elsif (nm_atributo_p	= 'CD_BANCO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(784231);
elsif (nm_atributo_p	= 'DS_OBSERVACAO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(10652279);
elsif (nm_atributo_p	= 'NR_ALVARA_SANITARIO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(284073);
elsif (nm_atributo_p	= 'ANEXO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(283478);
elsif (nm_atributo_p	= 'NR_CRM' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(286400);
elsif (nm_atributo_p	= 'UF_CRM' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(300620);
elsif (nm_atributo_p	= 'NR_SEQ_CONSELHO') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w := obter_desc_expressao(285713);
	else
		ds_retorno_w := Obter_Conselho_Profissional(ds_valor_p,'S') || ' - ' || Obter_Conselho_Profissional(ds_valor_p,'D');
	end if;
elsif (nm_atributo_p	= 'NR_DDD_CELULAR' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(287306);
elsif (nm_atributo_p	= 'NR_DDI_CELULAR' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(1057715);
elsif (nm_atributo_p	= 'NR_CARTAO_NAC_SUS' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(498423);
elsif (nm_atributo_p	= 'CD_TIPO_LOGRADOURO') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w := obter_desc_expressao(646549);
	else
		ds_retorno_w := coalesce(Sus_Obter_Desc_TipoLog(ds_valor_p),ds_valor_p);
	end if;
elsif (nm_atributo_p	= 'NR_CERT_NASC' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(284816);
elsif (nm_atributo_p	= 'NR_CARTAO_NAC_SUS' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(284644);
elsif (nm_atributo_p	= 'CD_DECLARACAO_NASC_VIVO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(493336);
elsif (nm_atributo_p	= 'NM_CONTATO' and ie_descricao_campo_p = 'S') then
	if (position('IE_TIPO_COMPLEMENTO=4' in ds_chave_composta_p) > 0) then
		ds_retorno_w := obter_desc_expressao(1035439);
	elsif (position('IE_TIPO_COMPLEMENTO=5' in ds_chave_composta_p) > 0) then
		ds_retorno_w := obter_desc_expressao(1035437);
	else
		ds_retorno_w := obter_desc_expressao(761365);
	end if;
elsif (nm_atributo_p	= 'DS_SETOR_TRABALHO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(703852);
elsif (nm_atributo_p	= 'DS_FONE_ADIC' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(299151);
elsif (nm_atributo_p	= 'DS_WEBSITE' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(295217);
elsif (nm_atributo_p	= 'IE_OBRIGA_EMAIL' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(1057747);
elsif (nm_atributo_p	= 'CD_NIT' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(294110);
elsif (nm_atributo_p	= 'NR_INSS' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(293815);
elsif (nm_atributo_p	= 'DT_OBITO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(286749);
elsif (nm_atributo_p	= 'IE_ENDERECO_CORRESPONDENCIA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(644473);
elsif (nm_atributo_p	= 'CD_CARGO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(910639);
elsif (nm_atributo_p	= 'NR_TITULO_ELEITOR' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(300112);
elsif (nm_atributo_p	= 'NR_ZONA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(1057739);
elsif (nm_atributo_p	= 'NR_SECAO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(1057741);
elsif (nm_atributo_p	= 'NR_RAMAL' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(759752);
elsif	((nm_atributo_p = 'DS_FAX' or nm_atributo_p = 'NR_FAX') and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(290029);
elsif (nm_atributo_p = 'DT_ADOCAO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w := obter_desc_expressao(788935);
elsif (nm_atributo_p	= 'CD_PROFISSAO') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w := obter_desc_expressao(296507);
	else
		ds_retorno_w	:= substr(OBTER_DESC_PROFISSAO(ds_valor_p),1,255);
	end if;
elsif (nm_atributo_p = 'IE_SEXO') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w := obter_desc_expressao(863406);
	else
		ds_retorno_w := obter_valor_dominio(4, ds_valor_p);
	end if;
elsif (nm_atributo_p = 'IE_REVISAR' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(297892);
elsif (nm_atributo_p = 'DT_REVISAO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(286759);
elsif (nm_atributo_p = 'IE_EMANCIPADO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(289142);
elsif (nm_atributo_p = 'IE_FUNCIONARIO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(330144);
elsif (nm_atributo_p = 'IE_FLUENCIA_PORTUGUES') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w	:= obter_desc_expressao(290187);
	else
		ds_retorno_w := obter_valor_dominio(1343, ds_valor_p);
	end if;
elsif (nm_atributo_p = 'CD_RELIGIAO') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w	:= obter_desc_expressao(297619);
	else
		ds_retorno_w := obter_desc_religiao(ds_valor_p);
	end if;
elsif (nm_atributo_p = 'IE_GRAU_INSTRUCAO') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w	:= obter_desc_expressao(290974);
	else
		ds_retorno_w := obter_valor_dominio(10, ds_valor_p);
	end if;
elsif (nm_atributo_p = 'CD_NACIONALIDADE') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w	:= obter_desc_expressao(293906);
	else
		ds_retorno_w := obter_desc_nacionalidade(ds_valor_p);
	end if;
elsif (nm_atributo_p = 'CD_PESSOA_END_REF') then
	if (ie_descricao_campo_p = 'S') then
		ds_retorno_w	:= obter_desc_expressao(691852);
	else
		ds_retorno_w	:= obter_nome_pf(ds_valor_p);
	end if;
elsif (nm_atributo_p = 'NR_SEQ_END_REF' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(1057745);
elsif (nm_atributo_p = 'CD_CONVENIO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(286193);
elsif (nm_atributo_p = 'CD_CATEGORIA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(284678);
elsif (nm_atributo_p = 'CD_PLANO_CONVENIO' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(295945);
elsif (nm_atributo_p = 'DT_INICIO_VIGENCIA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(291992);
elsif (nm_atributo_p = 'DT_FIM_VIGENCIA' and ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= obter_desc_expressao(290110);
elsif (nm_atributo_p = 'CD_USUARIO_CONVENIO' and ie_descricao_campo_p = 'S') then
  ds_retorno_w  := obter_desc_expressao(284657);
elsif (nm_atributo_p = 'DT_VALIDADE_CARTEIRA' and ie_descricao_campo_p = 'S') then
  ds_retorno_w  := obter_desc_expressao(287256);
elsif (ie_descricao_campo_p = 'S') then
	ds_retorno_w	:= nm_atributo_p;
else
	ds_retorno_w := ds_valor_p;
end if;

return	ds_retorno_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION pls_obter_dados_solic_alt ( nm_atributo_p text, ds_valor_p text, ie_descricao_campo_p text, ds_chave_composta_p text default null) FROM PUBLIC;

