-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION pfcs_get_wchart_tag_colors ( ds_tag_1_p text, ds_tag_2_p text, ds_tag_3_p text default null) RETURNS varchar AS $body$
DECLARE


/*
    Function to be used when there is a need to have more than one column with color on the same WChart
    Usage example:
        pfcs_get_wchart_tag_colors(
            pfcs_get_indicator_rule(226, qt_discharge_orders, :cd_establishment_p, 'COLOR', 'thirdCell'),
            pfcs_get_indicator_rule(227, qt_avg_lag_time, :cd_establishment_p, 'COLOR', 'fourthcell')
        ) component_subtitles
*/
ds_component_subtitle_w varchar(100) := '';


BEGIN
    if (ds_tag_1_p IS NOT NULL AND ds_tag_1_p::text <> '') then
        ds_component_subtitle_w := ds_component_subtitle_w || ds_tag_1_p || ';';
    end if;
    if (ds_tag_2_p IS NOT NULL AND ds_tag_2_p::text <> '') then
        ds_component_subtitle_w := ds_component_subtitle_w || ds_tag_2_p || ';';
    end if;
    if (ds_tag_3_p IS NOT NULL AND ds_tag_3_p::text <> '') then
        ds_component_subtitle_w := ds_component_subtitle_w || ds_tag_3_p || ';';
    end if;

    return substr(ds_component_subtitle_w, 1, length(ds_component_subtitle_w)-1);
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION pfcs_get_wchart_tag_colors ( ds_tag_1_p text, ds_tag_2_p text, ds_tag_3_p text default null) FROM PUBLIC;

