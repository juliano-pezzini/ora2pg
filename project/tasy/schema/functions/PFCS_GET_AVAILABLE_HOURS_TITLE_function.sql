-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION pfcs_get_available_hours_title ( nr_sequencia_p bigint, cd_expressao_p bigint) RETURNS varchar AS $body$
DECLARE


		 			 
ds_retorno_w			varchar(4000)	:= null;
cd_idioma_w             bigint          := null;
expressao_idioma_w      varchar(4000)	:= null;
full_expressao_idioma_w varchar(4000)	:= null;
ds_informacao_w         varchar(4000)	:= null;


BEGIN
begin
select philips_param_pck.get_nr_seq_idioma into STRICT cd_idioma_w;
end;

begin
select obter_desc_expressao_idioma(cd_expressao_p, null, cd_idioma_w) into STRICT expressao_idioma_w;
end;

begin
select obter_desc_expressao_idioma((select cd_exp_informacao from dic_objeto where nr_sequencia = nr_sequencia_p), null, cd_idioma_w) into STRICT full_expressao_idioma_w;
end;

begin
select
replace(full_expressao_idioma_w, trim(both lower(expressao_idioma_w)), ' ') || qt_time || ' ' ||lower(expressao_idioma_w)
into STRICT ds_retorno_w
from pfcs_time_available_hours;
return ds_retorno_w;
end;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION pfcs_get_available_hours_title ( nr_sequencia_p bigint, cd_expressao_p bigint) FROM PUBLIC;

