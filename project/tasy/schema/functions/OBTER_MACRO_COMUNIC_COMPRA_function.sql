-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_macro_comunic_compra ( nr_sequencia_p bigint, cd_funcao_p bigint, cd_evento_p bigint) RETURNS varchar AS $body$
DECLARE



ds_retorno_w		varchar(2000);
ds_enter_w		varchar(10) := chr(13) || chr(10);
cd_funcao_w		integer;
cd_evento_w		smallint;


BEGIN

if (nr_sequencia_p = 0) then
	cd_funcao_w	:= cd_funcao_p;
	cd_evento_w	:= cd_evento_p;
else
	select	a.cd_funcao,
		b.cd_evento
	into STRICT	cd_funcao_w,
		cd_evento_w
	from	regra_envio_comunic_compra a,
		regra_envio_comunic_evento b
	where	b.nr_seq_regra = a.nr_sequencia
	and	b.nr_sequencia = nr_sequencia_p;
end if;

if (cd_funcao_w = 267) and (cd_evento_w = 1) then
	ds_retorno_w := '@ds_documento = ' || wheb_mensagem_pck.get_Texto(314239) || ds_enter_w || /*Descricao do documento (Ordem, Solicitacao, Requisicao, Cotacao, Nota Fiscal)*/
			'@nr_documento = ' || wheb_mensagem_pck.get_Texto(314241) || ds_enter_w || /*Numero do documento.*/
			'@nr_solic_compra = ' || wheb_mensagem_pck.get_Texto(314242)  || ds_enter_w || /*Numero da solicitacao que originou a ordem. Mostra somente quando e comunicacao de ordem de compra.*/
			'@nm_solicitante = ' || wheb_mensagem_pck.get_Texto(314243) || ds_enter_w || /*Nome do solicitante do documento*/
			'@data = ' || wheb_mensagem_pck.get_Texto(314244) || ds_enter_w || /*Data da aprovacao.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314245) || ds_enter_w || /*Usuario que aprovou.*/
			'@observacao = ' || wheb_mensagem_pck.get_Texto(314246) || ds_enter_w || /*Observacao do processo de aprovacao.*/
			'@nr_ordem_serv = ' || wheb_mensagem_pck.get_Texto(314247) || ds_enter_w || /*Numero da ordem de servico vinculada com o documento*/
			'@nr_seq_proj_gpi = ' || wheb_mensagem_pck.get_Texto(314248) || ds_enter_w || /*Numero do GPI*/
			'@nm_projeto = ' || wheb_mensagem_pck.get_Texto(314249) || ds_enter_w || /*Nome do GPI.*/
			'@cd_cnpj = ' || wheb_mensagem_pck.get_Texto(314250) || ds_enter_w || /*Codigo do fornecedor da ordem.*/
			'@ds_razao_social = ' || wheb_mensagem_pck.get_Texto(314251) || ds_enter_w || /*Razao social do fornecedor da ordem.*/
			'@nm_fantasia = ' || wheb_mensagem_pck.get_Texto(314252) || ds_enter_w || /*Nome fantasia do fornecedor da ordem.*/
			
			'@itens = ' || wheb_mensagem_pck.get_Texto(314253) || ds_enter_w || /*Lista todos os itens que foram aprovados.*/
			'@mat_complementar = ' || wheb_mensagem_pck.get_Texto(339926); /*Lista todos os itens (com a descricao complementar) que foram aprovados*/
elsif (cd_funcao_w = 267) and (cd_evento_w = 11) then
	ds_retorno_w := '@ds_documento = ' || wheb_mensagem_pck.get_Texto(314239) || ds_enter_w || /*Descricao do documento (Ordem, Solicitacao, Requisicao, Cotacao, Nota Fiscal)*/
			'@nr_documento = ' || wheb_mensagem_pck.get_Texto(314241) || ds_enter_w || /*Numero do documento.*/
			'@data = ' || wheb_mensagem_pck.get_Texto(314244) || ds_enter_w || /*Data da aprovacao.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314245) || ds_enter_w || /*Usuario que aprovou.*/
			'@itens = ' || wheb_mensagem_pck.get_Texto(314254); /*Lista todos os itens nao padronizados que foram aprovados.*/
elsif (cd_funcao_w = 267) and (cd_evento_w = 2) then
	ds_retorno_w := '@ds_documento = ' || wheb_mensagem_pck.get_Texto(314239) || ds_enter_w || /*Descricao do documento (Ordem, Solicitacao, Requisicao, Cotacao, Nota Fiscal)*/
			'@nr_documento = ' || wheb_mensagem_pck.get_Texto(314241) || ds_enter_w || /*Numero do documento.*/
			'@nr_solic_compra = ' || wheb_mensagem_pck.get_Texto(314242)  || ds_enter_w || /*Numero da solicitacao que originou a ordem. Mostra somente quando e comunicacao de ordem de compra.*/
			'@data = ' || wheb_mensagem_pck.get_Texto(314255) || ds_enter_w || /*Data da reprovacao.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314256) || ds_enter_w || /*Usuario que reprovou.*/
			'@itens = ' || wheb_mensagem_pck.get_Texto(314257) || ds_enter_w || /*Lista todos os itens que foram reprovados.*/
			'@motivo = ' || wheb_mensagem_pck.get_Texto(314258) || ds_enter_w || /*e a descricao do motivo da reprovacao.*/
			'@nr_seq_proj_gpi = ' || wheb_mensagem_pck.get_Texto(314248) || ds_enter_w || /*Numero do GPI*/
			'@nm_projeto = ' || wheb_mensagem_pck.get_Texto(314249) || ds_enter_w || /*Nome do GPI.*/
			'@observacao = ' || wheb_mensagem_pck.get_Texto(314259); /*Observacao digitada no momento da reprovacao.*/
elsif (cd_funcao_w = 267) and (cd_evento_w = 12) then
	ds_retorno_w := '@ds_documento = ' || wheb_mensagem_pck.get_Texto(314239) || ds_enter_w || /*Descricao do documento (Ordem, Solicitacao, Requisicao, Cotacao, Nota Fiscal)*/
			'@nr_documento = ' || wheb_mensagem_pck.get_Texto(314241) || ds_enter_w || /*Numero do documento.*/
			'@data = ' || wheb_mensagem_pck.get_Texto(314255) || ds_enter_w || /*Data da reprovacao.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314256) || ds_enter_w || /*Usuario que reprovou.*/
			'@itens = ' || wheb_mensagem_pck.get_Texto(314260) || ds_enter_w || /*Lista todos os itens nao padronizados que foram reprovados.*/
			'@motivo = ' || wheb_mensagem_pck.get_Texto(314258) || ds_enter_w || /*e a descricao do motivo da reprovacao.*/
			'@observacao = ' || wheb_mensagem_pck.get_Texto(314259); /*Observacao digitada no momento da reprovacao.*/
elsif (cd_funcao_w = 267) and (cd_evento_w = 6) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314241) || ds_enter_w || /*Numero do documento.*/
			'@nr_ordem_solic = ' || wheb_mensagem_pck.get_Texto(314265) || ds_enter_w || /*Numero da ordem ou solicitacao de compras.*/
			'@ds_documento = ' || wheb_mensagem_pck.get_Texto(314239) || ds_enter_w || /*Descricao do documento (Ordem, Solicitacao, Requisicao, Cotacao, Nota Fiscal)*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314266) || ds_enter_w || /*Usuario que solicitou o paracer.*/
			'@estabelecimento = ' || wheb_mensagem_pck.get_Texto(314268) || ds_enter_w || /*Estabelecimento do documento.*/
			'@observacao = ' || wheb_mensagem_pck.get_Texto(314269); /*Observacao digitada ao solicitar parecer.*/
elsif (cd_funcao_w = 267) and (cd_evento_w = 7) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314241) || ds_enter_w || /*Numero do documento.*/
			'@nr_ordem_solic = ' || wheb_mensagem_pck.get_Texto(314265) || ds_enter_w || /*Numero da ordem ou solicitacao de compras.*/
			'@ds_documento = ' || wheb_mensagem_pck.get_Texto(314239) || ds_enter_w || /*Descricao do documento (Ordem, Solicitacao, Requisicao, Cotacao, Nota Fiscal)*/
			'@estabelecimento = ' || wheb_mensagem_pck.get_Texto(314268) || ds_enter_w || /*Estabelecimento do documento.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314271) || ds_enter_w || /*Usuario que responde o paracer.*/
			'@parecer = ' || wheb_mensagem_pck.get_Texto(314272); /*Descricao da resposta do parecer.*/
elsif (cd_funcao_w = 915) and (cd_evento_w = 3) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314275) || ds_enter_w ||  /*Numero da cotacao de compra gerada.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314277) || ds_enter_w || /*Usuario que gerou a cotacao de compras.*/
			'@solicitacao = ' || wheb_mensagem_pck.get_Texto(314282); /*Solicitacoes de compra que fazem parte da cotacao.*/
elsif (cd_funcao_w = 915) and (cd_evento_w = 4) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314283) || ds_enter_w || /*Numero da cotacao de compra.*/
			'@ordem_compra = ' || wheb_mensagem_pck.get_Texto(314284) || ds_enter_w || /*Numero da ordem de compras gerada.*/
			'@ordem_fornec = ' || wheb_mensagem_pck.get_Texto(314285) || ds_enter_w || /*Numero da ordem + Fornecedor da ordem.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314286) || ds_enter_w || /*Usuario que gerou a ordem de compras.*/
			'@dt_retorno_prev = ' || wheb_mensagem_pck.get_Texto(314287) || ds_enter_w || /*Data de retorno prevista da cotacao de compras.*/
			'@dt_prev_entrega = ' || wheb_mensagem_pck.get_Texto(314288) || ds_enter_w || /*Data prevista de entrega da cotacao de compras.*/
			'@solicitacao = ' || wheb_mensagem_pck.get_Texto(314282) || ds_enter_w || /*Solicitacoes de compra que fazem parte da cotacao.*/
			'@solicitante = ' || wheb_mensagem_pck.get_Texto(314315) || ds_enter_w || /*Solicitante da solicitacao de compras que faz parte desta cotacao.*/
			'@vl_total_oc = ' || wheb_mensagem_pck.get_Texto(314317); /*Valor total da ordem de compra.*/
elsif (cd_funcao_w = 915) and (cd_evento_w = 17) then
	ds_retorno_w := '@comprador = ' || wheb_mensagem_pck.get_Texto(314318) || ds_enter_w || /*Nome do comprador da cotacao.*/
			'@lista_cotacao = ' || wheb_mensagem_pck.get_Texto(314320);	/*Lista das cotacoes atrasadas.*/
elsif (cd_funcao_w = 915) and (cd_evento_w in (63)) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314283) || ds_enter_w || /*Numero da cotacao de compra.*/
			'@comprador = ' || wheb_mensagem_pck.get_Texto(314318) || ds_enter_w || /*Nome do comprador da cotacao.*/
			'@itens_nao_cotados = ' || wheb_mensagem_pck.get_Texto(314322) || ds_enter_w || /*Lista dos itens que nao foram cotados.*/
			'@itens_est_nao_cotados = ' || wheb_mensagem_pck.get_Texto(314323) || ds_enter_w || /*Lista dos itens (com nome do material de estoque) que nao foram cotados.*/
			'@itens = ' || wheb_mensagem_pck.get_Texto(314326); /*Lista todos os itens da cotacao.*/
elsif (cd_funcao_w = 915) and (cd_evento_w in (20)) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314283) || ds_enter_w || /*Numero da cotacao de compra.*/
			'@comprador = ' || wheb_mensagem_pck.get_Texto(314318) || ds_enter_w || /*Nome do comprador da cotacao.*/
			'@itens_nao_cotados = ' || wheb_mensagem_pck.get_Texto(314322) || ds_enter_w || /*Lista dos itens que nao foram cotados.*/
			'@itens_est_nao_cotados = ' || wheb_mensagem_pck.get_Texto(314323); /*Lista dos itens (com nome do material de estoque) que nao foram cotados.*/
elsif (cd_funcao_w = 915) and (cd_evento_w in (76)) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314283) || ds_enter_w || /*Numero da cotacao de compra.*/
			'@solicitante  = ' || wheb_mensagem_pck.get_Texto(314327) || ds_enter_w || /*Nome do solicitante da cotacao.*/
			'@comprador = ' || wheb_mensagem_pck.get_Texto(314318) || ds_enter_w || /*Nome do comprador da cotacao.*/
			'@itens_nao_cotados = ' || wheb_mensagem_pck.get_Texto(314322) || ds_enter_w || /*Lista dos itens que nao foram cotados.*/
			'@itens_est_nao_cotados = ' || wheb_mensagem_pck.get_Texto(314323); /*Lista dos itens (com nome do material de estoque) que nao foram cotados.*/
elsif (cd_funcao_w = 917) and (cd_evento_w = 81) then
	ds_retorno_w := '@nr_ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@nr_adiant = ' || wheb_mensagem_pck.get_Texto(314370) || ds_enter_w || /*Lista dos adiantamentos.*/
			'@nr_valor_adiant = ' || wheb_mensagem_pck.get_Texto(314372) || ds_enter_w || /*Lista dos adiantamentos com o valor de cada adiantamento.*/
			'@nr_titulo = ' || wheb_mensagem_pck.get_Texto(314373) || ds_enter_w || /*Lista dos titulos*/
			'@cg_cnpj_fornecedor = ' || wheb_mensagem_pck.get_Texto(314250) || ds_enter_w || /*Codigo do fornecedor da ordem.*/
			'@ds_fornecedor = ' || wheb_mensagem_pck.get_Texto(314374) || ds_enter_w || /*Descricao da razao social do fornecedor*/
			'@vl_ordem = ' || wheb_mensagem_pck.get_Texto(314375) || ds_enter_w || /*Valor da ordem de compra*/
			'@vl_adiantamento = ' || wheb_mensagem_pck.get_Texto(314376) || ds_enter_w || /*Valor do adiantamento.*/
			'@ds_motivo_cancel = ' || wheb_mensagem_pck.get_Texto(314380) || ds_enter_w || /*Motivo do cancelamento*/
			'@nm_usuario = ' || wheb_mensagem_pck.get_Texto(314383) || ds_enter_w || /*Usuario que realizou o cancelamento*/
			'@dt_cancelamento = ' || wheb_mensagem_pck.get_Texto(314386) || ds_enter_w || /*Data e hora do cancelamento*/
			'@ds_observacao = ' || wheb_mensagem_pck.get_Texto(314387); /*Observacao digitada no momento do cancelamento*/
elsif (cd_funcao_w = 917) and (cd_evento_w = 25) then
	ds_retorno_w := '@nr_adiantamento = ' || wheb_mensagem_pck.get_Texto(314388) || ds_enter_w || /*Numero do adiantamento vinculado a ordem de compra*/
			'@nr_titulo = ' || wheb_mensagem_pck.get_Texto(314389) || ds_enter_w || /*Numero do titulo*/
			'@cnpj = ' || wheb_mensagem_pck.get_Texto(314250) || ds_enter_w || /*Codigo do fornecedor da ordem.*/
			'@razao = ' || wheb_mensagem_pck.get_Texto(314374) || ds_enter_w || /*Descricao da razao social do fornecedor*/
			'@valor_adiant = ' || wheb_mensagem_pck.get_Texto(314376) || ds_enter_w || /*Valor do adiantamento.*/
			'@valor_vinc = ' || wheb_mensagem_pck.get_Texto(314390) || ds_enter_w || /*Valor vinculado do adiantamento a ordem de compra*/
			'@data = ' || wheb_mensagem_pck.get_Texto(314391) || ds_enter_w || /*Data do adiantamento*/
			'@ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@comprador = ' || wheb_mensagem_pck.get_Texto(314394); /*Nome do comprador*/
elsif (cd_funcao_w = 917) and (cd_evento_w = 35) then
	ds_retorno_w := '@cd_material = ' || wheb_mensagem_pck.get_Texto(314395) || ds_enter_w || /*Codigo do material da ordem*/
			'@data_prevista = ' || wheb_mensagem_pck.get_Texto(314397) || ds_enter_w || /*Data prevista entrega*/
			'@data_realizada = ' || wheb_mensagem_pck.get_Texto(314400) || ds_enter_w || /*Data realizada entrega*/
			'@ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
			'@qt_prevista = ' || wheb_mensagem_pck.get_Texto(314405) || ds_enter_w || /*Quantidade prevista entrega*/
			'@qt_realizada = ' || wheb_mensagem_pck.get_Texto(314406) || ds_enter_w || /*Quantidade realizada entrega*/
			'@cd_cgc_fornec = ' || wheb_mensagem_pck.get_Texto(314413) || ds_enter_w || /*Codigo do fornecedor*/
			'@fonecedor = ' || wheb_mensagem_pck.get_Texto(314374) || ds_enter_w || /*Descricao da razao social do fornecedor*/
			'@e-mail =  ' || wheb_mensagem_pck.get_Texto(314414) || ds_enter_w || /*E-mail de contato do fornecedor'*/
			'@ddd = ' || wheb_mensagem_pck.get_Texto(314417) || ds_enter_w || /*Codigo de area do telefone*/

			'@fone = ' || wheb_mensagem_pck.get_Texto(314419) || ds_enter_w || /*Telefone de contato*/

			'@contato = ' || wheb_mensagem_pck.get_Texto(314421); /*Nome da pessoa para contato*/

elsif	(cd_funcao_w = 917) and (cd_evento_w = 37) then
	ds_retorno_w := '@nota = ' || wheb_mensagem_pck.get_Texto(314423) || ds_enter_w || /*Numero da nota fiscal*/

			'@ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/

			'@cd_cgc_fornec = ' || wheb_mensagem_pck.get_Texto(314413) || ds_enter_w || /*Codigo do fornecedor*/

			'@fonecedor = ' || wheb_mensagem_pck.get_Texto(314374) || ds_enter_w || /*Descricao da razao social do fornecedor*/

			'@lista_materiais = ' || wheb_mensagem_pck.get_Texto(314425) || ds_enter_w || /*Refere-se a lista dos materiais nao entregues e parcialmente entregues (mostra o codigo e a descricao do material, quantidade prevista, quantidade entregue, data de entrega e data prevista para entrega)*/

			'@e-mail = ' || wheb_mensagem_pck.get_Texto(314414) || ds_enter_w || /*E-mail de contato do fornecedor'*/
			'@ddd = ' || wheb_mensagem_pck.get_Texto(314417) || ds_enter_w || /*Codigo de area do telefone*/
			'@fone = ' || wheb_mensagem_pck.get_Texto(314419) || ds_enter_w || /*Telefone de contato*/
			'@contato = ' || wheb_mensagem_pck.get_Texto(314421); /*Nome da pessoa para contato*/
elsif (cd_funcao_w = 40) and (cd_evento_w = 5) then
	ds_retorno_w := '@local_ordem = ' || wheb_mensagem_pck.get_Texto(314429) || ds_enter_w || /*Local de estoque da ordem de compras.*/
			'@fornecedor = ' || wheb_mensagem_pck.get_Texto(314432) || ds_enter_w || /*Fornecedor da nota fiscal.*/
			'@solicitacao = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@material = ' || wheb_mensagem_pck.get_Texto(314444) || ds_enter_w || /*Codigo + Descricao do material.*/
			'@materiais = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
			'@mat_completa = ' || wheb_mensagem_pck.get_Texto(314452) || ds_enter_w || /*Codigo + Descricao + Descr. complementar.*/
			'@nota_fiscal = ' || wheb_mensagem_pck.get_Texto(314423) || ds_enter_w || /*Numero da nota fiscal*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314453) || ds_enter_w || /*Usuario solicitante.*/
			'@pessoa = ' || wheb_mensagem_pck.get_Texto(314454) || ds_enter_w || /*Nome da pessoa fisica solicitante.*/
			'@quantidade = '  || wheb_mensagem_pck.get_Texto(314456) || ds_enter_w || /*Quantidade entregue na NF.*/
			'@ordem = ' || wheb_mensagem_pck.get_Texto(314457); /*Numero da ordem de compra que deu origem a NF.*/
elsif (cd_funcao_w = 40) and (cd_evento_w = 82) then
	ds_retorno_w := '@local_ordem = ' || wheb_mensagem_pck.get_Texto(314429) || ds_enter_w || /*Local de estoque da ordem de compras.*/
			'@fornecedor = ' || wheb_mensagem_pck.get_Texto(314432) || ds_enter_w || /*Fornecedor da nota fiscal.*/
			'@material = ' || wheb_mensagem_pck.get_Texto(314444) || ds_enter_w || /*Codigo + Descricao do material.*/
			'@materiais = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
			'@mat_completa = ' || wheb_mensagem_pck.get_Texto(314452) || ds_enter_w || /*Codigo + Descricao + Descr. complementar.*/
			'@nota_fiscal = ' || wheb_mensagem_pck.get_Texto(314423) || ds_enter_w || /*Numero da nota fiscal*/
			'@ordem = ' || wheb_mensagem_pck.get_Texto(314457) || ds_enter_w || /*Numero da ordem de compra que deu origem a NF.*/
			'@solicitante = ' || wheb_mensagem_pck.get_Texto(314464) || ds_enter_w || /*Solicitante da ordem de compra.*/
			'@comprador = ' || wheb_mensagem_pck.get_Texto(314470) || ds_enter_w || /*Nome do comprador da ordem de compra*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314474) || ds_enter_w ||  /*Usuario que calculou a nota fiscal.*/
			'@quantidade = '  || wheb_mensagem_pck.get_Texto(314456); /*Quantidade entregue na NF.*/
elsif (cd_funcao_w = 40) and (cd_evento_w = 84) then
	ds_retorno_w := '@nota = ' || wheb_mensagem_pck.get_Texto(1191823) || ds_enter_w || /*Numero da nota fiscal*/
			'@contrato = ' || wheb_mensagem_pck.get_Texto(1191824) || ds_enter_w || /*Sequencia do contrato*/
			'@fornecedor = ' || wheb_mensagem_pck.get_Texto(1191834) || ds_enter_w || /*Nome do contratado*/
			'@valor_contrato = ' || wheb_mensagem_pck.get_Texto(1191835) || ds_enter_w || /*Valor restante do contrato atualizado*/
			'@data_fim_contrato = ' || wheb_mensagem_pck.get_Texto(1191826); /*Data de rescisao do contrato*/
elsif (cd_funcao_w = 40) and (cd_evento_w = 60) then
	ds_retorno_w := '@nr_nota_fiscal = ' || wheb_mensagem_pck.get_Texto(314423) || ds_enter_w || /*Numero da nota fiscal*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314476); /*Materiais da nota em questao.*/
elsif (cd_funcao_w = 40) and (cd_evento_w = 27) then
	ds_retorno_w := '@numero_nf = ' || wheb_mensagem_pck.get_Texto(314423) || ds_enter_w || /*Numero da nota fiscal*/
			'@nome_usuario = ' || wheb_mensagem_pck.get_Texto(314480) || ds_enter_w ||  /*Nome do usuario*/
			'@cod_material = ' || wheb_mensagem_pck.get_Texto(314449) || ds_enter_w ||  /*Codigo do material*/
			'@des_material = ' || wheb_mensagem_pck.get_Texto(314404); /*Descricao do material*/
elsif (cd_funcao_w = 143) and (cd_evento_w  = 36) then
	ds_retorno_w := '@nr_emprestimo = ' || wheb_mensagem_pck.get_Texto(314483) || ds_enter_w || /*Numero do emprestimo*/
			'@nome_usuario = ' || wheb_mensagem_pck.get_Texto(314480) || ds_enter_w ||  /*Nome do usuario*/
			'@cod_material = ' || wheb_mensagem_pck.get_Texto(314449) || ds_enter_w ||  /*Codigo do material*/
			'@des_material = ' || wheb_mensagem_pck.get_Texto(314404); /*Descricao do material*/
elsif (cd_funcao_w = 143) and (cd_evento_w  = 59) then
	ds_retorno_w := '@dt_mes = ' || wheb_mensagem_pck.get_Texto(314485) || ds_enter_w || /*Mes atual dos saldos.*/
			'@qt_registro = ' || wheb_mensagem_pck.get_Texto(314487) || ds_enter_w ||
			'@nm_usuario = ' || wheb_mensagem_pck.get_Texto(314489) || ds_enter_w ||  /*Usuario que realizou a virada.*/
			'@dt_atualizacao = ' || wheb_mensagem_pck.get_Texto(314491) || ds_enter_w ||
			'@ds_log = ' || wheb_mensagem_pck.get_Texto(314492); /*Log gravado pelo sistema no momento da geracao.*/
elsif (cd_funcao_w = 143) and (cd_evento_w = 38) then
	ds_retorno_w := '@nr_emprestimo = ' || wheb_mensagem_pck.get_Texto(314483) || ds_enter_w || /*Numero do emprestimo*/
			'@materiais = ' || wheb_mensagem_pck.get_Texto(314495) || ds_enter_w || /*Lista dos materiais do emprestimo*/
			'@tipo = ' || wheb_mensagem_pck.get_Texto(340160) /*Tipo emprestimo*/
;
elsif (cd_funcao_w = 143) and (cd_evento_w = 61) then
	ds_retorno_w := '@nr_lote_fornec = ' || wheb_mensagem_pck.get_Texto(314500) || ds_enter_w || /*Sequencia do lote fornecedor*/
			'@ds_lote_fornec = ' || wheb_mensagem_pck.get_Texto(314588) || ds_enter_w ||  /*Descricao do lote fornecedor*/
			'@dt_validade = ' || wheb_mensagem_pck.get_Texto(314590) || ds_enter_w ||  /*Validade do lote fornecedor*/
			'@cd_material = ' || wheb_mensagem_pck.get_Texto(314449) || ds_enter_w ||  /*Codigo do material*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
			'@qt_saldo = ' || wheb_mensagem_pck.get_Texto(314593) || ds_enter_w ||  /*Saldo do lote fornecedor*/
			'@qt_atendimento = ' || wheb_mensagem_pck.get_Texto(314595) || ds_enter_w || /*Quantidade atendida*/
			'@nr_documento = ' || wheb_mensagem_pck.get_Texto(314241) || ds_enter_w || /*Numero do documento.*/
			'@nm_usuario = ' || wheb_mensagem_pck.get_Texto(314480) || ds_enter_w ||  /*Nome do usuario*/
			'@nm_pessoa_usuario = ' || wheb_mensagem_pck.get_Texto(314597) || ds_enter_w || /*Pessoa fisica do usuario*/
			'@ds_local_estoque = ' || wheb_mensagem_pck.get_Texto(314599) || ds_enter_w || /*Local de estoque*/
			'@ds_setor_atendimento = ' || wheb_mensagem_pck.get_Texto(314601) || ds_enter_w || /*Setor de atendimento*/
			'@ds_perfil_ativo = ' || wheb_mensagem_pck.get_Texto(314603) || ds_enter_w ||
			'@ds_funcao_ativa = ' || wheb_mensagem_pck.get_Texto(314604) || ds_enter_w || /*Funcao ativa*/
			'@dt_atual = ' || wheb_mensagem_pck.get_Texto(314606) || ds_enter_w || /*Data atual*/
			'@ds_estacao = ' || wheb_mensagem_pck.get_Texto(314608); /*Estacao de trabalho.*/
elsif (cd_funcao_w = 143) and (cd_evento_w = 64) then
	ds_retorno_w := '@DS_ACAO_EXECUTADA = ' || wheb_mensagem_pck.get_Texto(314610) || ds_enter_w || /*Acao executada no kit ou seu componente (Inclusao, exclusao, alteracao).*/
			'@DS_CAMPOS_ALTERADOS = ' || wheb_mensagem_pck.get_Texto(314612) || ds_enter_w ||
			'@NM_USUARIO = ' || wheb_mensagem_pck.get_Texto(314613) || ds_enter_w || /*Usuario responsavel.*/
			'@DT_ALTERACAO = ' || wheb_mensagem_pck.get_Texto(314614) || ds_enter_w || /*Data da alteracao.*/
			'@DS_KIT_MATERIAL = ' || wheb_mensagem_pck.get_Texto(314616) || ds_enter_w ||  /*Descricao do kit material.*/
			'@DS_TIPO_KIT = ' || wheb_mensagem_pck.get_Texto(314622) || ds_enter_w || /*Tipo de kit material.*/
			'@CD_MATERIAL = ' || wheb_mensagem_pck.get_Texto(314624) || ds_enter_w ||
			'@DS_MATERIAL = ' || wheb_mensagem_pck.get_Texto(314625);
elsif (cd_funcao_w = 913) and (cd_evento_w = 8) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314628) || ds_enter_w || /*Usuario que baixou a solicitacao de compra.*/
			'@dt_baixa = ' || wheb_mensagem_pck.get_Texto(314641) || ds_enter_w || /*Data de baixa da solicitacao de compra.*/
			'@motivo = ' || wheb_mensagem_pck.get_Texto(314644) || ds_enter_w || /*Descricao do motivo da baixa.*/
			'@observacao = ' || wheb_mensagem_pck.get_Texto(314646); /*Observacao informada ao efetuar a baixa*/
elsif (cd_funcao_w = 913) and (cd_evento_w = 47) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314647) || ds_enter_w || /*Usuario que baixou o item.*/
			'@dt_baixa = ' || wheb_mensagem_pck.get_Texto(314648) || ds_enter_w || /*Data de baixa do item.*/
			'@motivo = ' || wheb_mensagem_pck.get_Texto(314644) || ds_enter_w || /*Descricao do motivo da baixa.*/
			'@observacao = ' || wheb_mensagem_pck.get_Texto(314646) || ds_enter_w || /*Observacao informada ao efetuar a baixa*/
			'@cd_material = ' || wheb_mensagem_pck.get_Texto(314651) || ds_enter_w || /*Codigo do material baixado*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314653); /*Descricao do material baixado*/
elsif (cd_funcao_w = 913) and (cd_evento_w = 28) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314656) || ds_enter_w || /*Usuario que cancelou a solicitacao de compra.*/
			'@dt_cancelamento = ' || wheb_mensagem_pck.get_Texto(314658) || ds_enter_w || /*Data de cancelamento da solic. de compra.*/
			'@motivo = ' || wheb_mensagem_pck.get_Texto(314380) || ds_enter_w || /*Motivo do cancelamento*/
			'@observacao = ' || wheb_mensagem_pck.get_Texto(314660); /*Observacao informada ao efetuar o cancelamento.*/
elsif (cd_funcao_w = 913) and (cd_evento_w = 10) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314664) || ds_enter_w || /*Usuario que liberou a solicitacao de compra.*/
			'@dt_liberacao = ' || wheb_mensagem_pck.get_Texto(314666) || ds_enter_w || /*Data de liberacao do historico.*/
			'@mat_complementar = '||wheb_mensagem_pck.get_texto(339610)|| ds_enter_w || /*--Lista de materiais solicitados + descricao complementar*/
			'@historico = ' || wheb_mensagem_pck.get_Texto(335057); /*Historico da solicitacao de compras.*/
elsif (cd_funcao_w = 913) and (cd_evento_w in (9,15)) then
	ds_retorno_w := '@nr_documento = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314664) || ds_enter_w || /*Usuario que liberou a solicitacao de compra.*/
			'@dt_liberacao = ' || wheb_mensagem_pck.get_Texto(314668) || ds_enter_w || /*Data de liberacao da solicitacao de compra.*/
			'@materiais = ' || wheb_mensagem_pck.get_Texto(314669) || ds_enter_w || /*Lista de materiais solicitados*/
			'@mat_estrutura = ' || wheb_mensagem_pck.get_Texto(314670) || ds_enter_w || /*Lista de materiais + Estrutura do material.*/
			'@mat_qtde = ' || wheb_mensagem_pck.get_Texto(314671) || ds_enter_w || /*Lista de materiais + Quantidade do material.*/
			'@data_entrega = ' || wheb_mensagem_pck.get_Texto(314672) || ds_enter_w || /*Lista de materiais solicitados com a data de entrega.*/
			'@pessoa_solicitante = ' || wheb_mensagem_pck.get_Texto(314674) || ds_enter_w || /*Nome do usuario solicitante da solicitacao.*/
			'@local_estoque = ' || wheb_mensagem_pck.get_Texto(314675); /*Descricao do local de estoque da solicitacao.*/
elsif (cd_funcao_w = 913) and (cd_evento_w = 16) then
	ds_retorno_w := '@nr_solic_compra = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@nm_solicitante = ' || wheb_mensagem_pck.get_Texto(314243) || ds_enter_w || /*Nome do solicitante do documento*/
			'@data = ' || wheb_mensagem_pck.get_Texto(314244) || ds_enter_w || /*Data da aprovacao.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314245) || ds_enter_w || /*Usuario que aprovou.*/
			'@itens = ' || wheb_mensagem_pck.get_Texto(314253); /*Lista todos os itens que foram aprovados.*/
elsif (cd_funcao_w = 913) and (cd_evento_w = 57)  then
	ds_retorno_w :=	'@nr_solic_compra = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
			'@nm_usuarios_aprov = ' || wheb_mensagem_pck.get_Texto(314676); /*Usuarios aprovadores*/
elsif (cd_funcao_w = 913) and (cd_evento_w = 72) then
	ds_retorno_w := '@nr_solic_compra = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@nm_solicitante = ' || wheb_mensagem_pck.get_Texto(314243) || ds_enter_w || /*Nome do solicitante do documento*/
			'@nm_comprador = ' || wheb_mensagem_pck.get_Texto(314677); /*Nome do comprador responsavel da solicitacao.*/
elsif (cd_funcao_w = 917) and (cd_evento_w = 21) then
	ds_retorno_w := '@nr_ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@item = ' || wheb_mensagem_pck.get_Texto(314678) || ds_enter_w || /*Numero do item*/
			'@cd_material = ' || wheb_mensagem_pck.get_Texto(314449) || ds_enter_w ||  /*Codigo do material*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
			'@solicitante = ' || wheb_mensagem_pck.get_Texto(314243) || ds_enter_w || /*Nome do solicitante do documento*/
			'@comprador = ' || wheb_mensagem_pck.get_Texto(314470) || ds_enter_w || /*Nome do comprador da ordem de compra*/
			'@entregas_originais = ' || wheb_mensagem_pck.get_Texto(314679) || ds_enter_w ||  /*Mostra como eram as entregas antes da alteracao*/
			'@entregas_atuais = ' || wheb_mensagem_pck.get_Texto(314680); /*Mostra como ficou as entregas depois da alteracao*/
elsif (cd_funcao_w = 917) and (cd_evento_w = 13) then
	ds_retorno_w := '@nr_ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314683) || ds_enter_w || /*Usuario que cancelou a ordem de compra.*/
			'@dt_cancelamento = ' || wheb_mensagem_pck.get_Texto(314684) || ds_enter_w || /*Data de cancelamento.*/
			'@motivo = ' || wheb_mensagem_pck.get_Texto(314380) || ds_enter_w || /*Motivo do cancelamento*/
			'@observacao = ' || wheb_mensagem_pck.get_Texto(314685) || ds_enter_w || /*Observacao informada no cancelamento.*/
			'@itens = ' || wheb_mensagem_pck.get_Texto(314686); /*Itens da ordem de compra.*/
elsif (cd_funcao_w = 917) and (cd_evento_w = 49) then
	ds_retorno_w := '@ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@nr_item = ' || wheb_mensagem_pck.get_Texto(314678) || ds_enter_w || /*Numero do item*/
			'@material = ' || wheb_mensagem_pck.get_Texto(314449) || ds_enter_w ||  /*Codigo do material*/
			'@descricao = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
			'@dt_prevista_entrega = ' || wheb_mensagem_pck.get_Texto(314397) || ds_enter_w || /*Data prevista entrega*/
			'@qt_prevista_entrega = ' || wheb_mensagem_pck.get_Texto(314405) || ds_enter_w || /*Quantidade prevista entrega*/
			'@motivo = ' || wheb_mensagem_pck.get_Texto(314380) || ds_enter_w || /*Motivo do cancelamento*/
			'@observacao = '||wheb_mensagem_pck.get_texto(319909);  --Observacao digitada no momento do cancelamento.'
elsif (cd_funcao_w = 917) and (cd_evento_w = 51) then
	ds_retorno_w := '@nr_ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314687) || ds_enter_w || /*Usuario que realizou baixa da ordem de compra.*/
			'@dt_baixa = '|| wheb_mensagem_pck.get_Texto(314688)  || ds_enter_w || /*Data da baixa.*/
			'@motivo = ' || wheb_mensagem_pck.get_Texto(314689) || ds_enter_w || /*Motivo da baixa*/
			'@itens = ';
elsif (cd_funcao_w = 917) and (cd_evento_w = 53) then
	ds_retorno_w := '@nr_ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@itens_ordem = ' || wheb_mensagem_pck.get_Texto(314686) || ds_enter_w || /*Itens da ordem de compra.*/
			'@dt_entrega_limite_oc = ' || wheb_mensagem_pck.get_Texto(314692) || ds_enter_w || /*Item + Descricao + Data limite de entrega.*/
			'@dt_entrega_solic = ' || wheb_mensagem_pck.get_Texto(314693) || ds_enter_w || /*Item + Descricao + Data de entrega solicitada.*/
			'@solicitacao = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
			'@comprador = ' || wheb_mensagem_pck.get_Texto(314470); /*Nome do comprador da ordem de compra*/
elsif (cd_funcao_w = 917) and (cd_evento_w = 22) then
	ds_retorno_w := '@nr_ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314694) || ds_enter_w || /*Usuario que liberou a ordem de compra.*/
			'@dt_liberacao = ' || wheb_mensagem_pck.get_Texto(314695) || ds_enter_w || /*Data de liberacao da ordem de compra.*/
			'@centro_custo = ' || wheb_mensagem_pck.get_Texto(314696); /*Descricao do centro de custo.*/
elsif (cd_funcao_w = 917) and (cd_evento_w = 58) then
	ds_retorno_w := '@nr_ordem = ' || wheb_mensagem_pck.get_Texto(314359) || ds_enter_w || /*Numero da ordem de compra.*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314697) || ds_enter_w || /*materiais da ordem*/
			'@nm_usuario_aprov = ' || wheb_mensagem_pck.get_Texto(314698); /*Usuarios aprovadores*/
elsif (cd_funcao_w = 915) and (cd_evento_w = 14) then
	ds_retorno_w := '@cotacao = ' || wheb_mensagem_pck.get_Texto(314283) || ds_enter_w || /*Numero da cotacao de compra.*/
			'@solicitacao = ' || wheb_mensagem_pck.get_Texto(314699) || ds_enter_w || /*Numero da solicitacao de compras que gerou a cotacao.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314700) || ds_enter_w || /*Usuario que alterou a quantidade.*/
			'@data = ' || wheb_mensagem_pck.get_Texto(314701) || ds_enter_w || /*Data da alteracao da quantidade.*/
			'@item = ' || wheb_mensagem_pck.get_Texto(314678) || ds_enter_w || /*Numero do item*/
			'@fornecedor = ' || wheb_mensagem_pck.get_Texto(314703) || ds_enter_w || /*Fornecedor que foi alterado a quantidade.*/
			'@material = ' || wheb_mensagem_pck.get_Texto(314704) || ds_enter_w || /*Descricao do material que foi alterado a quantidade.*/
			'@qt_anterior = ' || wheb_mensagem_pck.get_Texto(314706) || ds_enter_w || /*Quantidade que tinha antes de alterar.*/
			'@qt_alterada = ' || wheb_mensagem_pck.get_Texto(314707); /*Quantidade que foi alterada (nova quantidade).*/
elsif (cd_funcao_w = 6) and (cd_evento_w = 18) then
	ds_retorno_w := '@nm_responsavel = ' || wheb_mensagem_pck.get_Texto(314710) || ds_enter_w || /*Pessoa responsavel da avaliacao.*/
			'@tp_avaliacao = ' || wheb_mensagem_pck.get_Texto(314712) || ds_enter_w || /*Descricao do tipo da avaliacao.*/
			'@fornecedor = ' || wheb_mensagem_pck.get_Texto(314713) || ds_enter_w || /*Fornecedor referente a avaliacao.*/
			'@nr_avaliacao = ' || wheb_mensagem_pck.get_Texto(314714) || ds_enter_w || /*Numero da sequencia interna da avaliacao.*/
			'@nm_pessoa_aprov = ' || wheb_mensagem_pck.get_Texto(314716) || ds_enter_w || /*Nome da pessoa que aprovou a avaliacao.*/
			'@qt_pontuacao = ' || wheb_mensagem_pck.get_Texto(314718); /*Pontuacao atingida na avaliacao.*/
elsif (cd_funcao_w = 6) and (cd_evento_w = 19) then
	ds_retorno_w := '@tp_avaliacao = ' || wheb_mensagem_pck.get_Texto(314712) || ds_enter_w || /*Descricao do tipo da avaliacao.*/
			'@fornecedor = ' || wheb_mensagem_pck.get_Texto(314713) || ds_enter_w || /*Fornecedor referente a avaliacao.*/
			'@nr_avaliacao = ' || wheb_mensagem_pck.get_Texto(314714) || ds_enter_w || /*Numero da sequencia interna da avaliacao.*/
			'@cnpj = ' || wheb_mensagem_pck.get_Texto(314250); /*Codigo do fornecedor da ordem.*/
elsif (cd_funcao_w = 6) and (cd_evento_w = 23) then
	ds_retorno_w := '@nr_cot_compra = ' || wheb_mensagem_pck.get_Texto(314732) || ds_enter_w || /*Numero da cotacao que originou o cadastro da Pessoa juridica.*/
			'@cnpj = ' || wheb_mensagem_pck.get_Texto(314733) || ds_enter_w || /*Codigo do fornecedor cadastrado.*/
			'@razao_social = ' || wheb_mensagem_pck.get_Texto(314374); /*Descricao da razao social do fornecedor*/
elsif (cd_funcao_w = 953) and (cd_evento_w = 48) then
	ds_retorno_w := '@ds_pessoa_resp = ' || wheb_mensagem_pck.get_Texto(314734) || ds_enter_w || /*Nome da pessoa que ira receber a comunicacao interna.*/
			'@nr_licitacao = ' || wheb_mensagem_pck.get_Texto(314737) || ds_enter_w || /*e o Nr. licitacao que tem no Registro de preco (CD_REG_COMPRA).*/
			'@nr_seq_licitacao = ' || wheb_mensagem_pck.get_Texto(314739) || ds_enter_w || /*e a licitacao que originou o registro de preco (NR_SEQ_LICITACAO).*/
			'@nr_sequencia = ' || wheb_mensagem_pck.get_Texto(314740) || ds_enter_w || /*e o numero da sequencia do registro de preco (NR_SEQUENCIA).*/
			'@dt_inicio_vigencia = ' || wheb_mensagem_pck.get_Texto(314741) || ds_enter_w || /*e a data de inicio da vigencia.*/
			'@dt_fim_vigencia = ' || wheb_mensagem_pck.get_Texto(314742); /*e a data de fim da vigencia.*/
elsif (cd_funcao_w = 953) and (cd_evento_w = 74) then
	ds_retorno_w := '@ordem = ' || wheb_mensagem_pck.get_Texto(314746) || ds_enter_w || /*Numero da ordem de compra que foi liberada.*/
			'@nr_licitacao = ' || wheb_mensagem_pck.get_Texto(314737) || ds_enter_w || /*e o Nr. licitacao que tem no Registro de preco (CD_REG_COMPRA).*/
			'@nr_seq_licitacao = ' || wheb_mensagem_pck.get_Texto(314739) || ds_enter_w || /*e a licitacao que originou o registro de preco (NR_SEQ_LICITACAO).*/
			'@nr_sequencia = ' || wheb_mensagem_pck.get_Texto(314740) || ds_enter_w || /*e o numero da sequencia do registro de preco (NR_SEQUENCIA).*/
			'@mat_qt_saldo = ' || wheb_mensagem_pck.get_Texto(314748); /*e a descricao + Quantidade OC + Saldo dos materiais que atingiram a porcentagem minima.*/
elsif (cd_funcao_w = 919) and (cd_evento_w = 24) then
	ds_retorno_w := '@nr_requisicao = ' || wheb_mensagem_pck.get_Texto(314749); /*Numero da requisicao.*/
elsif (cd_funcao_w = 919) and (cd_evento_w = 70) then
	ds_retorno_w := '@nr_requisicao = ' || wheb_mensagem_pck.get_Texto(314749) || ds_enter_w || /*Numero da requisicao.*/
			'@dt_requisicao = ' || wheb_mensagem_pck.get_Texto(314751) || ds_enter_w || /*Data da requisicao.*/
			'@nm_solicitante = ' || wheb_mensagem_pck.get_Texto(314752) || ds_enter_w || /*Nome do solicitante.*/
			'@ds_centro_custo = ' || wheb_mensagem_pck.get_Texto(314753) || ds_enter_w || /*Descricao do centro de custo.*/
			'@ds_urgente = ' || wheb_mensagem_pck.get_Texto(314755); /*Urgente (Sim/Nao).*/
elsif (cd_funcao_w = 871) and (cd_evento_w in (26,40,41,42,43,44,45,46)) then
	ds_retorno_w := '@agendamento = ' || wheb_mensagem_pck.get_Texto(314756) || ds_enter_w || /*Numero do agendamento.*/
			'@paciente = ' || wheb_mensagem_pck.get_Texto(314760) || ds_enter_w || /*Nome do paciente.*/
			'@cirurgiao = ' || wheb_mensagem_pck.get_Texto(314762) || ds_enter_w || /*Nome do cirurgiao*/
			'@estabelecimento = ' || wheb_mensagem_pck.get_Texto(314765) || ds_enter_w || /*Nome do estabelecimento*/
			'@reserva = ' || wheb_mensagem_pck.get_Texto(314768) || ds_enter_w || /*Numero da reserva*/
			'@carater = ' || wheb_mensagem_pck.get_Texto(314769) || ds_enter_w || /*Carater da cirurgia*/
			'@hr_inicio = ' || wheb_mensagem_pck.get_Texto(314770) || ds_enter_w || /*Data e Hora do inicio da cirurgia.*/
			'@convenio = ' || wheb_mensagem_pck.get_Texto(314771) || ds_enter_w || /*Nome do convenio.*/
			'@categoria = ' || wheb_mensagem_pck.get_Texto(314772) || ds_enter_w || /*Categoria do convenio*/
			'@materiais_Agenda = ' || wheb_mensagem_pck.get_Texto(314773) || ds_enter_w || /*Material + Quantidade + Fornecedor*/
			'@materiais_Sem_Codigo = ' || wheb_mensagem_pck.get_Texto(314773) || ds_enter_w || /*Material + Quantidade + Fornecedor*/
			'@procedimento = ' || wheb_mensagem_pck.get_Texto(314774); /*Nome do procedimento da cirurgia.*/
elsif (cd_funcao_w = 871) and (cd_evento_w in (75)) then
	ds_retorno_w := '@agenda = ' || wheb_mensagem_pck.get_Texto(314776) || ds_enter_w || /*Numero da agenda.*/
			'@data = ' || wheb_mensagem_pck.get_Texto(314778) || ds_enter_w || /*Data.*/
			'@paciente = ' || wheb_mensagem_pck.get_Texto(314780) || ds_enter_w || /*Nome do paciente.*/
			'@convenio = ' || wheb_mensagem_pck.get_Texto(314781) || ds_enter_w || /*Convenio.*/
			'@procedimento = ' || wheb_mensagem_pck.get_Texto(314782) || ds_enter_w || /*Procedimento.*/
			'@cirurgiao = ' || wheb_mensagem_pck.get_Texto(314762) || ds_enter_w || /*Nome do cirurgiao*/
			'@materiais = ' || wheb_mensagem_pck.get_Texto(314784); /*Descricao dos materiais + Fornecedor + Quantidade, dos materiais transferidos*/
elsif (cd_funcao_w = -124) and (cd_evento_w = 29) then
	ds_retorno_w := '@nr_solicitacao = ' || wheb_mensagem_pck.get_Texto(314786) || ds_enter_w || /*Seq. da solicitacao de inclusao.*/
			'@material = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
			'@marca_sugerida = ' || wheb_mensagem_pck.get_Texto(314788) || ds_enter_w || /*Marca sugerida.*/
			'@indicacao = ' || wheb_mensagem_pck.get_Texto(314789) || ds_enter_w || /*Indicacao*/
			'@media_consumo = ' || wheb_mensagem_pck.get_Texto(314790) || ds_enter_w || /*Media de consumo*/
			'@justificativa = ' || wheb_mensagem_pck.get_Texto(314791); /*Justificativa*/
elsif (cd_funcao_w = -124) and (cd_evento_w = 50) then
	ds_retorno_w := '@nr_solicitacao = ' || wheb_mensagem_pck.get_Texto(314786) || ds_enter_w || /*Seq. da solicitacao de inclusao.*/
			'@nm_comercial = ' || wheb_mensagem_pck.get_Texto(314793) || ds_enter_w || /*Nome comercial.*/
			'@nm_generico = ' || wheb_mensagem_pck.get_Texto(314795) || ds_enter_w || /*Nome generico.*/
			'@concentracao = ' || wheb_mensagem_pck.get_Texto(314797); /*Concentracao.*/
elsif (cd_funcao_w = 913) and (cd_evento_w = 52) then
	ds_retorno_w :=	'@nm_solicitante = ' || wheb_mensagem_pck.get_Texto(314805) || ds_enter_w || /*Nome do solicitante da solicitacao que esta sendo devolvida*/
			'@nr_solic_compra = '  || wheb_mensagem_pck.get_Texto(314806) || wheb_mensagem_pck.get_Texto(314806) || ds_enter_w || /*Numero da solicitacao que esta sendo devolvida*/
			'@ds_observacao = ' || wheb_mensagem_pck.get_Texto(314807); /*Observacao digitada no momento da devolucao*/
elsif (cd_funcao_w = 270) then
	if (cd_evento_w in (54)) then
		ds_retorno_w :=	'@nr_registro = ' || wheb_mensagem_pck.get_Texto(314808) || ds_enter_w || /*e o numero do registro de recebimento*/
				'@lista_nr_ordem = ' || wheb_mensagem_pck.get_Texto(314809) || ds_enter_w || /*e a lista das ordens inspecionadas*/
				'@lista_materiais = ' || wheb_mensagem_pck.get_Texto(314810); /*e a lista dos materiais, apresentando os valores: Codigo do material - Descricao - Quantidade - Divergencia*/
	elsif (cd_evento_w in (73)) then
		ds_retorno_w :=	'@nr_registro = ' || wheb_mensagem_pck.get_Texto(314811) || ds_enter_w || /*e o numero do registro da inspecao*/
				'@nr_solic_compra = ' || wheb_mensagem_pck.get_Texto(314435) || ds_enter_w || /*Numero da solicitacao de compras.*/
				'@nm_solicitante = ' || wheb_mensagem_pck.get_Texto(314812) || ds_enter_w || /*Nome do solicitante da solicitacao.*/
				'@nm_pf_recebimento = ' || wheb_mensagem_pck.get_Texto(314813) || ds_enter_w || /*e nome da pessoa que realizou a inspecao de recebimento.*/
				'@dt_recebimento = ' || wheb_mensagem_pck.get_Texto(314814) || ds_enter_w || /*e a data da inspecao de recebimento.*/
				'@hr_recebimento = ' || wheb_mensagem_pck.get_Texto(314815) || ds_enter_w || /*e a hora da inspecao de recebimento.*/
				'@material = ' || wheb_mensagem_pck.get_Texto(314444) || ds_enter_w || /*Codigo + Descricao do material.*/
				'@materiais = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
				'@mat_completa = ' || wheb_mensagem_pck.get_Texto(314452);/*Codigo + Descricao + Descr. complementar.*/
	end if;
elsif (cd_funcao_w = 146) then
	begin
	if (cd_evento_w in (30,31)) then
		ds_retorno_w := '@nr_solic_transf = ' || wheb_mensagem_pck.get_Texto(314817) || ds_enter_w || /*Numero da solicitacao de transferencia.*/
				'@solicitante = ' || wheb_mensagem_pck.get_Texto(314818) || ds_enter_w || /*Nome da pessoa solicitante.*/
				'@estab_atende = ' || wheb_mensagem_pck.get_Texto(314820)  || ds_enter_w || /*Estabelecimento que ira atender a solicitacao de transferencia.*/
				'@estab_solic = ' || wheb_mensagem_pck.get_Texto(314822) || ds_enter_w || /*Estabelecimento solicitante.*/
				'@local_atende = ' || wheb_mensagem_pck.get_Texto(314824) || ds_enter_w || /*Local de estoque que ira atender a solicitacao.*/
				'@local_entrega = ' || wheb_mensagem_pck.get_Texto(314825) || ds_enter_w || /*Local de estoque para entrega da solicitacao.*/
				'@centro_custo = ' || wheb_mensagem_pck.get_Texto(314828) || ds_enter_w || /*Centro de custo da solicitacao.*/
				'@dt_ordem = ' || wheb_mensagem_pck.get_Texto(314829) || ds_enter_w || /*Data da solicitacao de transferencia.*/
				'@dt_liberacao = ' || wheb_mensagem_pck.get_Texto(314830) || ds_enter_w || /*Data da liberacao da solicitacao de transferencia.*/
				'@dt_aprovacao = ' || wheb_mensagem_pck.get_Texto(314831) || ds_enter_w || /*Data da aprovacao da solicitacao de transferencia.*/
				'@dt_baixa = ' || wheb_mensagem_pck.get_Texto(314832) || ds_enter_w || /*Data da baixa da solicitacao de transferencia.*/
				'@dt_entrega = ' || wheb_mensagem_pck.get_Texto(314833); /*Data da entrega da solicitacao de transferencia.*/
	elsif (cd_evento_w = 32) then
		ds_retorno_w := '@nr_solic_transf = ' || wheb_mensagem_pck.get_Texto(314817) || ds_enter_w || /*Numero da solicitacao de transferencia.*/
				'@solicitante = ' || wheb_mensagem_pck.get_Texto(314818) || ds_enter_w || /*Nome da pessoa solicitante.*/
				'@estab_atende = ' || wheb_mensagem_pck.get_Texto(314820)  || ds_enter_w || /*Estabelecimento que ira atender a solicitacao de transferencia.*/
				'@estab_solic = ' || wheb_mensagem_pck.get_Texto(314822) || ds_enter_w || /*Estabelecimento solicitante.*/
				'@local_atende = ' || wheb_mensagem_pck.get_Texto(314824) || ds_enter_w || /*Local de estoque que ira atender a solicitacao.*/
				'@local_entrega = ' || wheb_mensagem_pck.get_Texto(314825) || ds_enter_w || /*Local de estoque para entrega da solicitacao.*/
				'@centro_custo = ' || wheb_mensagem_pck.get_Texto(314828) || ds_enter_w || /*Centro de custo da solicitacao.*/
				'@dt_ordem = ' || wheb_mensagem_pck.get_Texto(314829) || ds_enter_w || /*Data da solicitacao de transferencia.*/
				'@dt_liberacao = ' || wheb_mensagem_pck.get_Texto(314830) || ds_enter_w || /*Data da liberacao da solicitacao de transferencia.*/
				'@dt_aprovacao = ' || wheb_mensagem_pck.get_Texto(314831) || ds_enter_w || /*Data da aprovacao da solicitacao de transferencia.*/
				'@dt_baixa = ' || wheb_mensagem_pck.get_Texto(314832) || ds_enter_w || /*Data da baixa da solicitacao de transferencia.*/
				'@dt_entrega = ' || wheb_mensagem_pck.get_Texto(314833) || ds_enter_w ||  /*Data da entrega da solicitacao de transferencia.*/
				'@cd_material = ' || wheb_mensagem_pck.get_Texto(314838) || ds_enter_w || /*Codigo do material solicitado.*/
				'@ds_material = ' || wheb_mensagem_pck.get_Texto(314840) || ds_enter_w || /*Descricao do material solicitado.*/
				'@qt_material = ' || wheb_mensagem_pck.get_Texto(314841) || ds_enter_w || /*Quantidade do material solicitado.*/
				'@qt_atendido = ' || wheb_mensagem_pck.get_Texto(314842) || ds_enter_w || /*Quantidade do material atendido.*/
				'@ds_status_item = ' || wheb_mensagem_pck.get_Texto(314843); /*Status do item na solicitacao de transferencia.*/
	elsif (cd_evento_w in (33,34)) then
		ds_retorno_w := '@nr_solic_transf = ' || wheb_mensagem_pck.get_Texto(314817) || ds_enter_w || /*Numero da solicitacao de transferencia.*/
				'@solicitante = ' || wheb_mensagem_pck.get_Texto(314818) || ds_enter_w || /*Nome da pessoa solicitante.*/
				'@estab_atende = ' || wheb_mensagem_pck.get_Texto(314820)  || ds_enter_w || /*Estabelecimento que ira atender a solicitacao de transferencia.*/
				'@estab_solic = ' || wheb_mensagem_pck.get_Texto(314822) || ds_enter_w || /*Estabelecimento solicitante.*/
				'@local_atende = ' || wheb_mensagem_pck.get_Texto(314824) || ds_enter_w || /*Local de estoque que ira atender a solicitacao.*/
				'@local_entrega = ' || wheb_mensagem_pck.get_Texto(314825) || ds_enter_w || /*Local de estoque para entrega da solicitacao.*/
				'@centro_custo = ' || wheb_mensagem_pck.get_Texto(314828) || ds_enter_w || /*Centro de custo da solicitacao.*/
				'@dt_ordem = ' || wheb_mensagem_pck.get_Texto(314829) || ds_enter_w || /*Data da solicitacao de transferencia.*/
				'@dt_liberacao = ' || wheb_mensagem_pck.get_Texto(314830) || ds_enter_w || /*Data da liberacao da solicitacao de transferencia.*/
				'@dt_aprovacao = ' || wheb_mensagem_pck.get_Texto(314831) || ds_enter_w || /*Data da aprovacao da solicitacao de transferencia.*/
				'@dt_baixa = ' || wheb_mensagem_pck.get_Texto(314832) || ds_enter_w || /*Data da baixa da solicitacao de transferencia.*/
				'@dt_entrega = ' || wheb_mensagem_pck.get_Texto(314833) || ds_enter_w ||  /*Data da entrega da solicitacao de transferencia.*/
				'@itens = ' || wheb_mensagem_pck.get_Texto(314844) || ds_enter_w || /*Codigo, descricao, quantidade e unidade de medida dos itens da nota fiscal*/
				'@nr_nota_fiscal = ' || wheb_mensagem_pck.get_Texto(314423) || ds_enter_w || /*Numero da nota fiscal*/
				'@cd_serie_nf = ' || wheb_mensagem_pck.get_Texto(314845); /*Serie da nota fiscal.*/
	end if;
	end;
elsif (cd_funcao_w = 869) and (cd_evento_w = 62) then
	ds_retorno_w := '@agendamento = ' || wheb_mensagem_pck.get_Texto(314756) || ds_enter_w || /*Numero do agendamento.*/
			'@reserva = ' || wheb_mensagem_pck.get_Texto(314768) || ds_enter_w || /*Numero da reserva*/
			'@paciente = ' || wheb_mensagem_pck.get_Texto(314760) || ds_enter_w || /*Nome do paciente.*/
			'@medico = ' || wheb_mensagem_pck.get_Texto(314846) || ds_enter_w || /*Nome do medico.*/
			'@estabelecimento = ' || wheb_mensagem_pck.get_Texto(314765) || ds_enter_w || /*Nome do estabelecimento*/
			'@hr_inicio = ' || wheb_mensagem_pck.get_Texto(314847) || ds_enter_w || /*Data e Hora do agendamento.*/
			'@convenio = ' || wheb_mensagem_pck.get_Texto(314771) || ds_enter_w || /*Nome do convenio.*/
			'@categoria = ' || wheb_mensagem_pck.get_Texto(314772) || ds_enter_w || /*Categoria do convenio*/
			'@materiais_Sem_Codigo = ' || wheb_mensagem_pck.get_Texto(314773); /*Material + Quantidade + Fornecedor*/
elsif (cd_funcao_w = 109) and (cd_evento_w = 65) then
	ds_retorno_w := '@nr_requisicao_w = ' || wheb_mensagem_pck.get_Texto(314749) || ds_enter_w || /*Numero da requisicao.*/
			'@ds_motivo_baixa_w = ' || wheb_mensagem_pck.get_Texto(314644) || ds_enter_w || /*Descricao do motivo da baixa.*/
			'@ds_lista_material_w = ' || wheb_mensagem_pck.get_Texto(314848); /*Lista material.*/
elsif (cd_funcao_w = 981) and (cd_evento_w = 67) then
	ds_retorno_w :=	'@nm_responsavel = ' || wheb_mensagem_pck.get_Texto(314849) || ds_enter_w || /*Responsavel pelo parecer (Pessoa ou Setor).*/
			'@ds_status = ' || wheb_mensagem_pck.get_Texto(314850) || ds_enter_w || /*Status do item da lista.*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314851); /*Material do item da lista.*/
elsif (cd_funcao_w = 981) and (cd_evento_w = 68) then
	ds_retorno_w :=	'@nm_responsavel = ' || wheb_mensagem_pck.get_Texto(314852) || ds_enter_w || /*Responsavel pela nao conformidade.*/
			'@ds_setor = ' || wheb_mensagem_pck.get_Texto(314853) || ds_enter_w || /*Setor responsavel pela nao conformidade.*/
			'@nr_nao_conf = ' || wheb_mensagem_pck.get_Texto(314854); /*Numero da nao conformidade.*/
elsif (cd_funcao_w = 267) and (cd_evento_w = 69) then
	ds_retorno_w :=	'@cd_material = ' || wheb_mensagem_pck.get_Texto(314449) || ds_enter_w ||  /*Codigo do material*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w || /*Descricao do material*/
			'@nr_documento = ' || wheb_mensagem_pck.get_Texto(314241) || ds_enter_w || /*Numero do documento.*/
			'@nr_item = ' || wheb_mensagem_pck.get_Texto(314678) || ds_enter_w || /*Numero do item*/
			'@ds_tipo_documento = ' || wheb_mensagem_pck.get_Texto(314239) || ds_enter_w || /*Descricao do documento (Ordem, Solicitacao, Requisicao, Cotacao, Nota Fiscal)*/
			'@nm_usuario_exc = ' || wheb_mensagem_pck.get_Texto(314878) || ds_enter_w || /*Usuario da exclusao.*/
			'@dt_exclusao = ' || wheb_mensagem_pck.get_Texto(314879) || ds_enter_w || /*Data/Hora da exclusao.*/
			'@justificativa = ' || wheb_mensagem_pck.get_Texto(314880); /*Justificativa da exclusao do item (depende do parametro [75]).*/
elsif (cd_funcao_w = 267) and (cd_evento_w = 71) then
	ds_retorno_w := '@nr_cot_compra = ' || wheb_mensagem_pck.get_Texto(314283) || ds_enter_w || /*Numero da cotacao de compra.*/
			'@ds_titulo = ' || wheb_mensagem_pck.get_Texto(314881) || ds_enter_w ||  /*Titulo da cotacao.*/
			'@data = ' || wheb_mensagem_pck.get_Texto(314244) || ds_enter_w || /*Data da aprovacao.*/
			'@usuario = ' || wheb_mensagem_pck.get_Texto(314245); /*Usuario que aprovou.*/
elsif (cd_funcao_w = 915) and (cd_evento_w in (78)) then
	ds_retorno_w := '@nr_atendimento = ' || wheb_mensagem_pck.get_Texto(314882) || ds_enter_w || /*Numero do atendimento.*/
			'@nr_seq_autorizacao = ' || wheb_mensagem_pck.get_Texto(314883) || ds_enter_w || /*Numero da autorizacao.*/
			'@nm_paciente = ' || wheb_mensagem_pck.get_Texto(314760) || ds_enter_w || /*Nome do paciente.*/
			'@cotacao = ' || wheb_mensagem_pck.get_Texto(314283) || ds_enter_w || /*Numero da cotacao de compra.*/
			'@cnpj = '|| wheb_mensagem_pck.get_texto(318639) || ds_enter_w || --CNPJ do fornecedor.
			'@razao_pj = ' || wheb_mensagem_pck.get_Texto(314374) || ds_enter_w || /*Descricao da razao social do fornecedor*/
			
			'@cd_material = ' || wheb_mensagem_pck.get_Texto(314449) || ds_enter_w ||  /*Codigo do material*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314404);/*Descricao do material*/
elsif (cd_funcao_w = 915) and (cd_evento_w in (77)) then
	ds_retorno_w := '@cd_material = ' || wheb_mensagem_pck.get_Texto(314449) || ds_enter_w ||  /*Codigo do material*/
			'@ds_material = ' || wheb_mensagem_pck.get_Texto(314404) || ds_enter_w ||/*Descricao do material*/
			'@fornecedor  = ' || wheb_mensagem_pck.get_Texto(392010); /*Fornecedor e razao social*/
elsif (cd_funcao_w = 3006) and (cd_evento_w in (79,80)) then
	ds_retorno_w := '@nr_cotacao = ' || wheb_mensagem_pck.get_Texto(314283) || ds_enter_w || /*Numero da cotacao de compra.*/
			'@nr_autorizacao = ' || wheb_mensagem_pck.get_Texto(314883) || ds_enter_w || /*Numero da autorizacao.*/
			'@ds_lista_materiais = ' || wheb_mensagem_pck.get_Texto(314884); /*Materiais.*/
elsif (cd_funcao_w = 982) and (cd_evento_w in (83)) then
	ds_retorno_w := '@nr_emprestimo = ' || wheb_mensagem_pck.get_Texto(314885) || ds_enter_w || /*Numero do emprestimo reprovado.*/
			'@materiais = ' || wheb_mensagem_pck.get_Texto(314886);	/*Materiais do emprestimo reprovado.*/
end if;

return ds_retorno_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_macro_comunic_compra ( nr_sequencia_p bigint, cd_funcao_p bigint, cd_evento_p bigint) FROM PUBLIC;

