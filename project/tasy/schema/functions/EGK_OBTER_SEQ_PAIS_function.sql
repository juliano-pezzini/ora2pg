-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION egk_obter_seq_pais (wohnsitzlaendercode_sa_p bigint) RETURNS PAIS.NR_SEQUENCIA%TYPE AS $body$
DECLARE


nr_seq_pais_w pais.nr_sequencia%type;
vl_seq_pais_w conversao_meio_externo.cd_interno%type;


BEGIN

select intpd_conv(  'PAIS',
                    'NR_SEQUENCIA',
                    wohnsitzlaendercode_sa_p, 
                    (   select	max(nr_seq_regra_conv)
                        from	regra_leitor_cartao_pac
                        where	nr_sequencia = obter_seq_regra_leitor_cartao(   wheb_usuario_pck.get_nm_usuario,
                                                                                wheb_usuario_pck.get_cd_perfil, 
                                                                                wheb_usuario_pck.get_cd_estabelecimento))
                    ,'I'
                    ,'I')
into STRICT vl_seq_pais_w
;

<<converter_tipo_atributo>>
begin
nr_seq_pais_w := (vl_seq_pais_w)::numeric;
exception
    when others then
    nr_seq_pais_w := 0;
end;

return nr_seq_pais_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION egk_obter_seq_pais (wohnsitzlaendercode_sa_p bigint) FROM PUBLIC;

