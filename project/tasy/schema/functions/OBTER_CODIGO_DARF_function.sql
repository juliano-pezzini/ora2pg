-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_codigo_darf (cd_tributo_p bigint, cd_estabelecimento_p bigint, cd_cgc_p text, cd_pessoa_fisica_p text) RETURNS varchar AS $body$
DECLARE



cd_beneficiario_w		varchar(20)	:= null;
pr_aliquota_w			double precision	:= null;
vl_minimo_base_w		double precision	:= 0;
vl_minimo_tributo_w		double precision	:= 0;
VL_TETO_BASE_w			double precision	:= 0;
vl_desc_dependente_w		double precision	:= 0;
cd_cond_pagto_w			bigint	:= null;
cd_conta_financ_w		bigint	:= null;
nr_seq_trans_reg_w		bigint	:= null;
nr_seq_trans_baixa_w		bigint	:= null;
ie_acumulativo_w		varchar(1);
cd_darf_w			varchar(20)	:= null;
dt_referencia_w			timestamp;
cd_variacao_w			varchar(2)	:= null;
ie_periodicidade_w		varchar(1)	:= null;
ds_irrelevante_w			varchar(4000);


BEGIN

SELECT * FROM obter_dados_trib_tit_pagar(cd_tributo_p, cd_estabelecimento_p, cd_cgc_p, cd_pessoa_fisica_p, cd_beneficiario_w, pr_aliquota_w, cd_cond_pagto_w, cd_conta_financ_w, nr_seq_trans_reg_w, nr_seq_trans_baixa_w, vl_minimo_base_w, vl_minimo_tributo_w, ie_acumulativo_w, vl_teto_base_w, vl_desc_dependente_w, cd_darf_w, dt_referencia_w, cd_variacao_w, ie_periodicidade_w, null, null, null, null, null, null, ds_irrelevante_w, null, 0, ds_irrelevante_w, ds_irrelevante_w, null, 'N', null, null, null, null) INTO STRICT cd_beneficiario_w, pr_aliquota_w, cd_cond_pagto_w, cd_conta_financ_w, nr_seq_trans_reg_w, nr_seq_trans_baixa_w, vl_minimo_base_w, vl_minimo_tributo_w, ie_acumulativo_w, vl_teto_base_w, vl_desc_dependente_w, cd_darf_w, cd_variacao_w, ie_periodicidade_w, ds_irrelevante_w, ds_irrelevante_w, ds_irrelevante_w;

return		cd_darf_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_codigo_darf (cd_tributo_p bigint, cd_estabelecimento_p bigint, cd_cgc_p text, cd_pessoa_fisica_p text) FROM PUBLIC;

