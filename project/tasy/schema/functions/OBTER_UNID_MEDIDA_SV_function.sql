-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_unid_medida_sv ( nm_atributo_w text, unidade_medida_peso_w text default null, unidade_medida_altura_w text default null, ie_unid_med_o2_suplem_w text default null) RETURNS varchar AS $body$
DECLARE

								
unidade_medida_retorno 	varchar(20);


BEGIN
	case 	nm_atributo_w
		when	'QT_PA_SISTOLICA' 	then unidade_medida_retorno := obter_desc_expressao(792358); --HHmg
		when	'QT_PA_DIASTOLICA'	then unidade_medida_retorno := obter_desc_expressao(792358);
		when	'QT_PAM'			then unidade_medida_retorno := obter_desc_expressao(792358);
		when	'QT_SEGMENTO_ST'	then unidade_medida_retorno := obter_desc_expressao(795729); -- mm
		when	'QT_FREQ_CARDIACA'	then unidade_medida_retorno := obter_desc_expressao(727864); -- bpm
		when	'QT_FREQ_RESP'		then unidade_medida_retorno := obter_desc_expressao(727866); -- mrm
		when   'QT_SUPERF_CORPORIA' then unidade_medida_retorno := obter_desc_expressao(935063); -- m²
		when	'QT_IMC'			then unidade_medida_retorno := obter_desc_expressao(935064); -- Kg/m²
		when	'QT_SATURACAO_O2'	then unidade_medida_retorno := obter_desc_expressao(309212); -- %
		when	'QT_SPO2R' 			then unidade_medida_retorno := obter_desc_expressao(727864);
		when  'QT_GLICEMIA_CAPILAR'	then unidade_medida_retorno := obter_desc_expressao(935051); -- mg/dl
		when	'QT_GLICOSE_ADM'	then unidade_medida_retorno := obter_desc_expressao(918967); -- g
		when	'QT_CETONA'			then unidade_medida_retorno := obter_desc_expressao(921458); -- mmol/L
		when	'QT_INSULINA'		then unidade_medida_retorno := obter_desc_expressao(657089); -- UI
		when  'QT_UI_INSULINA_INT'	then unidade_medida_retorno := obter_desc_expressao(657089);
		when   'QT_VARIACAO_GLIC' 	then unidade_medida_retorno := obter_desc_expressao(301556); -- VG;
		when	'QT_IMC'			then unidade_medida_retorno := obter_desc_expressao(935064);
		when	'QT_PVC_H2O'		then unidade_medida_retorno := obter_desc_expressao(285174); -- cmH²O
		when	'QT_PVC' 			then unidade_medida_retorno := obter_desc_expressao(792358);
		when	'QT_PAE'			then unidade_medida_retorno := obter_desc_expressao(792358);
		when    'QT_PRESSAO_INTRA_ABD_H2O' then unidade_medida_retorno := obter_desc_expressao(285174);
		when	'QT_PRESSAO_INTRA_ABD'	then unidade_medida_retorno := obter_desc_expressao(792358);
		when	'QT_PPA'			then unidade_medida_retorno := obter_desc_expressao(792358);
		when	'QT_PRESSAO_INTRA_CRANIO'		then unidade_medida_retorno := obter_desc_expressao(792358);
		when   'QT_PIC_TEMP' 		then unidade_medida_retorno := obter_desc_expressao(688837); -- °C
		when	'QT_PPC'			then unidade_medida_retorno := obter_desc_expressao(792358);
		when	'QT_MAEC'			then unidade_medida_retorno := obter_desc_expressao(292820); -- BIS
		when	'QT_TEMP_INCUBADORA' then unidade_medida_retorno := obter_desc_expressao(688837);
		when  'QT_TEMP_BERCO'		then unidade_medida_retorno := obter_desc_expressao(688837);
		when	'QT_UMID_INCUBADORA' then unidade_medida_retorno := obter_desc_expressao(309212);
		when	'QT_TOF_BLOQ_NEURO_MUSC' then unidade_medida_retorno := obter_desc_expressao(309212);
		when	'QT_PERIMETRO_CEFALICO'	 then unidade_medida_retorno := obter_desc_expressao(935050); -- cm
		when  'QT_PERIMETRO_TORACICO'	then unidade_medida_retorno := obter_desc_expressao(935050);
		when   'QT_PERIMITRO_ABDOMINAL' then unidade_medida_retorno := obter_desc_expressao(935050);
		when	'QT_PERIMETRO_QUADRIL'	then unidade_medida_retorno := obter_desc_expressao(935050);
		when	'QT_CIRCUNF_PANTURRILHA' then unidade_medida_retorno := obter_desc_expressao(935050);
		when	'QT_CIRCUNF_BRACO' 	then unidade_medida_retorno := obter_desc_expressao(935050);
		when	'QT_PREGA_CUTANEA_TRICEPS'	then unidade_medida_retorno := obter_desc_expressao(795729);
		when    'QT_BILIRRUBINA_TRONCO' then unidade_medida_retorno := obter_desc_expressao(935051);
		when	'QT_BILIRRUBINA_FRONTE'	then unidade_medida_retorno := obter_desc_expressao(935051);
		when	'QT_IRRADIANCIA'		then unidade_medida_retorno := obter_desc_expressao(935070); -- mW/cm²/nm
		when	'QT_PUPILA_TAMANHO'		then unidade_medida_retorno := obter_desc_expressao(795729);
		when   'QT_PUPILA_TAM_ESQ' 		then unidade_medida_retorno := obter_desc_expressao(795729);
		when	'QT_BCF'			then unidade_medida_retorno := obter_desc_expressao(727864);
		when	'QT_BCF_2'			then unidade_medida_retorno := obter_desc_expressao(727864);
		when	'QT_BCF_3'			then unidade_medida_retorno := obter_desc_expressao(727864);
		when	'QT_TEMP'			then unidade_medida_retorno := substr(Obter_Atrib_Unid_Med_Unica('ATENDIMENTO_SINAL_VITAL','QT_TEMP',clock_timestamp(), 1),1,30);
		when	'QT_PESO'			then unidade_medida_retorno := unidade_medida_peso_w;
		when	'QT_ALTURA_CM'		then unidade_medida_retorno := unidade_medida_altura_w;
		when	'QT_O2_SUPLEMENTAR'	then unidade_medida_retorno	:= ie_unid_med_o2_suplem_w;
		else	unidade_medida_retorno := null;
	end case;
	return 	unidade_medida_retorno;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_unid_medida_sv ( nm_atributo_w text, unidade_medida_peso_w text default null, unidade_medida_altura_w text default null, ie_unid_med_o2_suplem_w text default null) FROM PUBLIC;

