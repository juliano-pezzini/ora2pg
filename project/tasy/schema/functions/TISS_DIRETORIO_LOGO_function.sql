-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION tiss_diretorio_logo ( ds_dir_logo_comp_p text, ds_dir_padrao_p text ) RETURNS varchar AS $body$
DECLARE


ds_dir_logo_comp_w		varchar(255);
ds_dir_padrao_w			varchar(255);
ds_dir_com_w			varchar(255);
ds_dir_pad_w			varchar(255);
ds_posicao_w			bigint;


BEGIN

ds_dir_logo_comp_w 	:= ds_dir_logo_comp_p;
ds_dir_com_w		:= ds_dir_logo_comp_p;
ds_dir_padrao_w		:= ds_dir_padrao_p;
ds_dir_pad_w		:= ds_dir_padrao_p;

if (position(chr(92) in ds_dir_logo_comp_w) > 0) then
	ds_posicao_w := length(ds_dir_logo_comp_w);
	if (chr(92) <> substr(ds_dir_logo_comp_w,ds_posicao_w,ds_posicao_w)) then
		ds_dir_com_w := ds_dir_logo_comp_w || chr(92);
	end if;
elsif (position(chr(47) in ds_dir_logo_comp_w) > 0) then
	ds_posicao_w := length(ds_dir_logo_comp_w);
	if (chr(47) <> substr(ds_dir_logo_comp_w,ds_posicao_w,ds_posicao_w)) then
		ds_dir_com_w := ds_dir_logo_comp_w || chr(47);
	end if;
end if;

if (position(chr(92) in ds_dir_padrao_w) > 0) then
		ds_posicao_w := length(ds_dir_padrao_w);
	if (chr(92) <> substr(ds_dir_padrao_w,ds_posicao_w,ds_posicao_w)) then
		ds_dir_pad_w := ds_dir_padrao_w || chr(92);
	end if;
elsif (position(chr(47) in ds_dir_padrao_w) > 0) then
	ds_posicao_w := length(ds_dir_padrao_w);
	if (chr(47) <> substr(ds_dir_padrao_w,ds_posicao_w,ds_posicao_w)) then
		ds_dir_pad_w := ds_dir_padrao_w || chr(47);
	end if;
end if;

return coalesce(ds_dir_com_w,ds_dir_pad_w);

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION tiss_diretorio_logo ( ds_dir_logo_comp_p text, ds_dir_padrao_p text ) FROM PUBLIC;

