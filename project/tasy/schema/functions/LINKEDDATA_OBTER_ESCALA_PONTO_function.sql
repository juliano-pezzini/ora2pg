-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION linkeddata_obter_escala_ponto ( table_p text, atributo_p text, nr_seq_formulario_p bigint ) RETURNS varchar AS $body$
DECLARE


 vl_param_retorno_w  varchar(4000) := null;
 ds_comando_w		     varchar(400);
 ds_param_w		       varchar(400);


BEGIN
  
  if (coalesce(table_p::text, '') = '' or coalesce(atributo_p::text, '') = '' or coalesce(nr_seq_formulario_p::text, '') = '') then
    return vl_param_retorno_w;
  end if;


  ds_comando_w :=	' select	' || atributo_p || ' qtd ' ||
                  ' from   ' || table_p    || ' ' ||
                  ' where	nr_seq_formulario = :nr_seq_formulario_p and rownum = 1 ';
  ds_param_w := 'nr_seq_formulario_p= ' || nr_seq_formulario_p;


	select	obter_select_concatenado_bv(ds_comando_w, ds_param_w, ',')
	into STRICT	vl_param_retorno_w
	;

  return vl_param_retorno_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION linkeddata_obter_escala_ponto ( table_p text, atributo_p text, nr_seq_formulario_p bigint ) FROM PUBLIC;

