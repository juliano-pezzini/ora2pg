-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION get_description_ophthalmology ( ds_type_p text, macro_de_p bigint, macro_dc_p bigint, macro_ex_p bigint, macro_adic_p bigint default null) RETURNS varchar AS $body$
DECLARE


ds_text_w varchar(255) := '';

BEGIN
if (ds_type_p IS NOT NULL AND ds_type_p::text <> '') then
	begin
	if (ds_type_p = 'FAR_RE') or (ds_type_p = 'FAR_LE') then
		begin
		ds_text_w := substr(obter_texto_dic_objeto(1092831, obter_nr_seq_idioma(wheb_usuario_pck.get_nm_usuario),
			'MACRO_DE=' || coalesce(oft_obter_valor_com_sinal(macro_de_p), ' ') || 
			';MACRO_DC=' || coalesce(oft_obter_valor_com_sinal_neg(macro_dc_p), ' ') ||
			';MACRO_EX=' || coalesce(to_char(macro_ex_p), ' ') ||
			';MACRO_ADIC=' || coalesce(to_char(macro_adic_p), ' ')),1,255);
		end;
	else
		begin
		ds_text_w := substr(obter_texto_dic_objeto(1092834, obter_nr_seq_idioma(wheb_usuario_pck.get_nm_usuario),
			'MACRO_DE=' || coalesce(oft_obter_valor_com_sinal(macro_de_p), ' ') ||
			';MACRO_DC=' || coalesce(oft_obter_valor_com_sinal_neg(macro_dc_p), ' ') ||
			';MACRO_EX=' || coalesce(to_char(macro_ex_p), ' ')),1,255);
		end;
	end if;
	end;
end if;
return ds_text_w;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION get_description_ophthalmology ( ds_type_p text, macro_de_p bigint, macro_dc_p bigint, macro_ex_p bigint, macro_adic_p bigint default null) FROM PUBLIC;

