-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_score_nas_md ( ds_item_1a_p text, ds_item_1b_p text, ds_item_1c_p text, ds_item_2_p text, ds_item_3_p text, ds_item_4a_p text, ds_item_4b_p text, ds_item_4c_p text, ds_item_5_p text, ds_item_6a_p text, ds_item_6b_p text, ds_item_6c_p text, ds_item_7a_p text, ds_item_7b_p text, ds_item_8a_p text, ds_item_8b_p text, ds_item_8c_p text, ds_item_9_p text, ds_item_10_p text, ds_item_11_p text, ds_item_12_p text, ds_item_13_p text, ds_item_14_p text, ds_item_15_p text, ds_item_16_p text, ds_item_17_p text, ds_item_18_p text, ds_item_19_p text, ds_item_20_p text, ds_item_21_p text, ds_item_22_p text, ds_item_23_p text ) RETURNS bigint AS $body$
DECLARE

  qt_pontuacao_w  double precision;
  qt_item1_w	  double precision;
  qt_item4_w	  double precision;
  qt_item6_w	  double precision;
  qt_item7_w	  double precision;
  qt_item8_w	  double precision;

BEGIN

  qt_pontuacao_w := 0;

  if (ds_item_1a_p = 'S') then
	qt_item1_w := 4.5;
  elsif (ds_item_1b_p = 'S') then
	qt_item1_w := 12.1;
  elsif (ds_item_1c_p = 'S') then
	qt_item1_w := 19.6;
  end if;

  if (ds_item_2_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 4.3;
  end if;

  if (ds_item_3_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 5.6;
  end if;

  if (ds_item_4a_p = 'S') then
	qt_item4_w := 4.1;
  elsif (ds_item_4b_p = 'S') then
	qt_item4_w := 16.5;
  elsif (ds_item_4c_p = 'S') then
	qt_item4_w := 20;
  end if;

  if (ds_item_5_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 1.8;
  end if;

  if (ds_item_6a_p = 'S') then
	qt_item6_w := 5.5;
  elsif (ds_item_6b_p = 'S') then
	qt_item6_w := 12.4;
  elsif (ds_item_6c_p = 'S') then
	qt_item6_w := 17;
  end if;

  if (ds_item_7a_p = 'S') then
	qt_item7_w := 4;
  elsif (ds_item_7b_p = 'S') then
	qt_item7_w := 32;
  end if;

  if (ds_item_8a_p = 'S') then
	qt_item8_w := 4.2;
  elsif (ds_item_8b_p = 'S') then
	qt_item8_w := 23.2;
  elsif (ds_item_8c_p = 'S') then
	qt_item8_w := 30;
  end if;

  if (ds_item_9_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 1.4;
  end if;

  if (ds_item_10_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 1.8;
  end if;

  if (ds_item_11_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 4.4;
  end if;

  if (ds_item_12_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 1.2;
  end if;

  if (ds_item_13_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 2.5;
  end if;

  if (ds_item_14_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 1.7;
  end if;

  if (ds_item_15_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 7.1;
  end if;

  if (ds_item_16_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 7.7;
  end if;

  if (ds_item_17_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 7;
  end if;

  if (ds_item_18_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 1.6;
  end if;

  if (ds_item_19_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 1.3;
  end if;

  if (ds_item_20_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 2.8;
  end if;

  if (ds_item_21_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 1.3;
  end if;

  if (ds_item_22_p = 'S') then
	qt_pontuacao_w := qt_pontuacao_w + 2.8;
  end if;

  if (ds_item_23_p = 'S') then
    qt_pontuacao_w := qt_pontuacao_w + 1.9;
  end if;

  qt_pontuacao_w := coalesce(qt_pontuacao_w, 0) + coalesce(qt_item1_w, 0)	+ coalesce(qt_item4_w, 0) + coalesce(qt_item6_w, 0) +	coalesce(qt_item7_w, 0) + coalesce(qt_item8_w, 0);

  return qt_pontuacao_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_score_nas_md ( ds_item_1a_p text, ds_item_1b_p text, ds_item_1c_p text, ds_item_2_p text, ds_item_3_p text, ds_item_4a_p text, ds_item_4b_p text, ds_item_4c_p text, ds_item_5_p text, ds_item_6a_p text, ds_item_6b_p text, ds_item_6c_p text, ds_item_7a_p text, ds_item_7b_p text, ds_item_8a_p text, ds_item_8b_p text, ds_item_8c_p text, ds_item_9_p text, ds_item_10_p text, ds_item_11_p text, ds_item_12_p text, ds_item_13_p text, ds_item_14_p text, ds_item_15_p text, ds_item_16_p text, ds_item_17_p text, ds_item_18_p text, ds_item_19_p text, ds_item_20_p text, ds_item_21_p text, ds_item_22_p text, ds_item_23_p text ) FROM PUBLIC;

