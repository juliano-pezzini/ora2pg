-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION ptu_obter_comando_envio ( ds_caminho_p text, ie_tipo_p text) RETURNS varchar AS $body$
DECLARE


ds_retorno_w		varchar(20);
cd_transacao_w		varchar(20);
i			smallint;


BEGIN

i	:= position('_' in ds_caminho_p);

ds_retorno_w	:= substr(ds_caminho_p,1,i-1);

if (ie_tipo_p	= '1') then
	return ds_retorno_w;
elsif (ie_tipo_p	= '2') then
	cd_transacao_w	:= substr(ds_caminho_p,i+1,position('_' in ds_caminho_p));

	if (pls_obter_versao_scs	= '040') then
		if (cd_transacao_w	= '00500') then
			ds_retorno_w	:= '00600';
		elsif (cd_transacao_w	= '00505') then
			ds_retorno_w	:= '00605';
		elsif (cd_transacao_w	= '00506') then
			ds_retorno_w	:= '00606';
		elsif (cd_transacao_w	= '00507') then
			ds_retorno_w	:= '00607';
		elsif (cd_transacao_w	= '00401') then
			ds_retorno_w	:= '00501';
		elsif (cd_transacao_w	= '00304') then
			ds_retorno_w	:= '00404';
		elsif (cd_transacao_w	= '00312') then
			ds_retorno_w	:= '00412';
		elsif (cd_transacao_w	= '00313') then
			ds_retorno_w	:= '00413';
		elsif (cd_transacao_w	= '00318') then
			ds_retorno_w	:= '00418';
		elsif (cd_transacao_w	= '00319') then
			ds_retorno_w	:= '00419';
		elsif (cd_transacao_w	= '00202') then
			ds_retorno_w	:= '00302';
		elsif (cd_transacao_w	= '00209') then
			ds_retorno_w	:= '00309';
		elsif (cd_transacao_w	= '00210') then
			ds_retorno_w	:= '00310';
		elsif (cd_transacao_w	= '00211') then
			ds_retorno_w	:= '00311';
		else
			ds_retorno_w	:= cd_transacao_w;
		end if;
	else
		ds_retorno_w	:= cd_transacao_w;
	end if;

	return ds_retorno_w;
end if;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION ptu_obter_comando_envio ( ds_caminho_p text, ie_tipo_p text) FROM PUBLIC;

