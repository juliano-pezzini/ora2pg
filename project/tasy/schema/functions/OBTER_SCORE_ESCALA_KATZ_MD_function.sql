-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_score_escala_katz_md ( ie_banho_p text, ie_vestir_p text, ie_higiene_pessoal_p text, ie_transferencia_p text, ie_continencia_p text, ie_alimentacao_p text ) RETURNS bigint AS $body$
DECLARE

    qt_pontuacao_w bigint := 6;

BEGIN
    IF ( coalesce(ie_banho_p, '0') IN ( '1', '2' ) ) THEN
        qt_pontuacao_w := qt_pontuacao_w - 1;
    END IF;

   IF ( coalesce(ie_vestir_p, '0') IN ( '1', '2' ) ) THEN
        qt_pontuacao_w := qt_pontuacao_w - 1;
    END IF;

     IF ( coalesce(ie_higiene_pessoal_p, '0') IN ( '1', '2' ) ) THEN
        qt_pontuacao_w := qt_pontuacao_w - 1;
    END IF;

    IF ( coalesce(ie_transferencia_p, '0') IN ( '1', '2' ) ) THEN
        qt_pontuacao_w := qt_pontuacao_w - 1;
    END IF;

    IF ( coalesce(ie_continencia_p, '0') IN ( '1', '2' ) ) THEN
        qt_pontuacao_w := qt_pontuacao_w - 1;
    END IF;

    IF ( coalesce(ie_alimentacao_p, '0') IN ( '1', '2' ) ) THEN
        qt_pontuacao_w := qt_pontuacao_w - 1;
    END IF;

    RETURN qt_pontuacao_w;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_score_escala_katz_md ( ie_banho_p text, ie_vestir_p text, ie_higiene_pessoal_p text, ie_transferencia_p text, ie_continencia_p text, ie_alimentacao_p text ) FROM PUBLIC;

