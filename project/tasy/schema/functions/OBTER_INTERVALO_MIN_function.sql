-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_intervalo_min ( qt_minuto_p bigint) RETURNS varchar AS $body$
DECLARE


ds_retorno_w	varchar(100);


BEGIN

if (qt_minuto_p > 0) and (qt_minuto_p <= 60) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308369, 'HR=' || '01'); -- Até 01 hora
elsif (qt_minuto_p > 60) and (qt_minuto_p <= 120) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '02'); -- Até 02 horas
elsif (qt_minuto_p > 120) and (qt_minuto_p <= 180) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '03'); -- Até 03 horas
elsif (qt_minuto_p > 180) and (qt_minuto_p <= 240) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '04'); -- Até 04 horas
elsif (qt_minuto_p > 240) and (qt_minuto_p <= 300) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '05'); -- Até 05 horas
elsif (qt_minuto_p > 300) and (qt_minuto_p <= 360) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '06'); -- Até 06 horas
elsif (qt_minuto_p > 360) and (qt_minuto_p <= 420) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '07'); -- Até 07 horas
elsif (qt_minuto_p > 420) and (qt_minuto_p <= 480) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '08'); -- Até 08 horas
elsif (qt_minuto_p > 480) and (qt_minuto_p <= 540) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '09'); -- Até 09 horas
elsif (qt_minuto_p > 540) and (qt_minuto_p <= 600) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '10'); -- Até 10 horas
elsif (qt_minuto_p > 600) and (qt_minuto_p <= 660) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '11'); -- Até 11 horas
elsif (qt_minuto_p > 660) and (qt_minuto_p <= 720) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '12'); -- Até 12 horas
elsif (qt_minuto_p > 720) and (qt_minuto_p <= 780) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '13'); -- Até 13 horas
elsif (qt_minuto_p > 780) and (qt_minuto_p <= 840) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '14'); -- Até 14 horas
elsif (qt_minuto_p > 840) and (qt_minuto_p <= 900) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '15'); -- Até 15 horas
elsif (qt_minuto_p > 900) and (qt_minuto_p <= 960) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '16'); -- Até 16 horas
elsif (qt_minuto_p > 960) and (qt_minuto_p <= 1020) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '17'); -- Até 17 horas
elsif (qt_minuto_p > 1020) and (qt_minuto_p <= 1080) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '18'); -- Até 18 horas
elsif (qt_minuto_p > 1080) and (qt_minuto_p <= 1140) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '19'); -- Até 19 horas
elsif (qt_minuto_p > 1140) and (qt_minuto_p <= 1200) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '20'); -- Até 20 horas
elsif (qt_minuto_p > 1200) and (qt_minuto_p <= 1260) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '21'); -- Até 21 horas
elsif (qt_minuto_p > 1260) and (qt_minuto_p <= 1320) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '22'); -- Até 22 horas
elsif (qt_minuto_p > 1320) and (qt_minuto_p <= 1380) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '23'); -- Até 23 horas
elsif (qt_minuto_p > 1380) and (qt_minuto_p <= 1440) then
	ds_retorno_w	:= wheb_mensagem_pck.get_texto(308366, 'HR=' || '24'); -- Até 24 horas
elsif (qt_minuto_p = 0) then
	ds_retorno_w	:= '0';
end if;

/* Até 1 hora, até 2 horas, até 3 horas, até 4 h, até 5 h, até 6 horas e acima de 6 horas. */

return	ds_retorno_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_intervalo_min ( qt_minuto_p bigint) FROM PUBLIC;

