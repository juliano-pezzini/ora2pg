-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION get_mipres_item_type (ie_item_type_p prescr_mipres.ie_tipo_item_presc%type) RETURNS varchar AS $body$
DECLARE

  ds_result_w	varchar(255);

BEGIN
  <<case_type>>
  case
    --Medicine
    when ie_item_type_p = 'M' then
      ds_result_w := obter_desc_expressao(311600);
    --Material
    when ie_item_type_p = 'MAT' then
      ds_result_w := obter_desc_expressao(874197);
    --Solution
    when ie_item_type_p = 'SOL' then
      ds_result_w := obter_desc_expressao(298683);
	--Item associated with the procedure
    when ie_item_type_p = 'ASS' then
      ds_result_w := obter_desc_expressao(300768);
    --Procedure
    when ie_item_type_p = 'P' then
      ds_result_w := obter_desc_expressao(884230);
    --Nutrition
    when ie_item_type_p = 'D' then
      ds_result_w := obter_desc_expressao(929253);
    --Material associado gasoterapia
    when ie_item_type_p = 'MAG' then
      ds_result_w := obter_desc_expressao(492475);
	----Milk/Infantil formula
    when ie_item_type_p = 'MAD' then
      ds_result_w := obter_desc_expressao(929253);
	--Recommendation
    when ie_item_type_p = 'R' then
      ds_result_w := obter_desc_expressao(297348);
	--Anatomic pathology exams
	when ie_item_type_p = 'AP' then
      ds_result_w := obter_desc_expressao(314898);
    --Material associated with Recommendation
    when ie_item_type_p = 'MREC' then
      ds_result_w := obter_desc_expressao(333241);
    --Blood and Blood Products
    when ie_item_type_p in ('PH', 'PRH') then
      ds_result_w := obter_desc_expressao(955702);
    --Material associated with Blood and Blood Products
    when ie_item_type_p = 'MAH' then
      ds_result_w := obter_desc_expressao(1081667);
    else
      ds_result_w := null;
  end case case_type;
  return ds_result_w;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION get_mipres_item_type (ie_item_type_p prescr_mipres.ie_tipo_item_presc%type) FROM PUBLIC;

