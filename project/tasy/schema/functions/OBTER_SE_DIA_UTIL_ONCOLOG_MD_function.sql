-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_se_dia_util_oncolog_md (ie_param_usuario_p text, ie_regra_dia_gera_ciclo_p text, ie_dia_semana_p text, ie_feriado_p text ) RETURNS varchar AS $body$
DECLARE


    ie_dia_util_w	  varchar(01)	:= 'N';

BEGIN
    if (coalesce(ie_regra_dia_gera_ciclo_p,ie_param_usuario_p) = 'TD') then
      ie_dia_util_w		:= 'S';
    elsif (coalesce(ie_regra_dia_gera_ciclo_p,ie_param_usuario_p)	= 'SU') and (ie_dia_semana_p	in ('2', '3', '4', '5', '6')) and (ie_feriado_p		= 'N') then
      ie_dia_util_w		:= 'S';
    elsif (coalesce(ie_regra_dia_gera_ciclo_p,ie_param_usuario_p)	= 'DUS') and (ie_dia_semana_p	in ('2', '3', '4', '5', '6', '7')) and (ie_feriado_p		= 'N') then
      ie_dia_util_w		:= 'S';
    elsif (coalesce(ie_regra_dia_gera_ciclo_p,ie_param_usuario_p)	= 'MF') and (ie_feriado_p		= 'N') then
      ie_dia_util_w		:= 'S';
    elsif (coalesce(ie_regra_dia_gera_ciclo_p,ie_param_usuario_p)	= 'DUF') and (ie_dia_semana_p	in ('2', '3', '4', '5', '6')) then
      ie_dia_util_w		:= 'S';
    end if;

    return ie_dia_util_w;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_se_dia_util_oncolog_md (ie_param_usuario_p text, ie_regra_dia_gera_ciclo_p text, ie_dia_semana_p text, ie_feriado_p text ) FROM PUBLIC;

