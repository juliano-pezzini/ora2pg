-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


 /*(nm_usuario_p varchar2)*/
 


CREATE OR REPLACE FUNCTION is_care_plan_flow () RETURNS bigint AS $body$
DECLARE


qtd	bigint;
rs	smallint;


BEGIN
    select (
        (select count(*) from CARE_PLAN) +
        (select count(*) from CP_PROBLEM) +
        (select count(*) from CP_GOAL) +
        (select count(*) from CP_INDICATOR) +
        (select count(*) from CP_INTERVENTION) +
        (select count(*) from CP_INTERVENTION_ITEM) +
        (select count(*) from CP_GUIDANCE) +
        (select count(*) from CP_MEASURE_TYPE) +
        (select count(*) from CP_MEASURE) +
        (select count(*) from CP_CLINICAL_TERM)
       )
    into STRICT qtd 
;

	if ((qtd IS NOT NULL AND qtd::text <> '') and qtd <> 0) then
		rs := 1;
	else
		rs := 0;
	end if;

	return rs;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION is_care_plan_flow () FROM PUBLIC;

