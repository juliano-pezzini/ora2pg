-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_desc_etapa_ck (nm_usuario_p text) RETURNS varchar AS $body$
DECLARE

ds_coluna_w 	varchar(20000);
ds_nr_w		varchar(3);
ds_nome_w	varchar(255);
ds_result1_w	varchar(255);
ds_result2_w	varchar(255);
ds_result3_w	varchar(255);
ds_result4_w	varchar(255);
ds_result5_w	varchar(255);
ds_result6_w	varchar(255);
ds_result7_w	varchar(255);
ds_result8_w	varchar(255);
ds_result9_w	varchar(255);
ds_result10_w	varchar(255);
ds_result11_w	varchar(255);
ds_result12_w	varchar(255);
ds_result13_w	varchar(255);
ds_result14_w	varchar(255);
ds_result15_w	varchar(255);
ds_result16_w	varchar(255);
ds_result17_w	varchar(255);
ds_result18_w	varchar(255);
ds_result19_w	varchar(255);
ds_result20_w	varchar(255);
ds_result21_w	varchar(255);
ds_result22_w	varchar(255);
ds_result23_w	varchar(255);
ds_result24_w	varchar(255);
ds_result25_w	varchar(255);
ds_result26_w	varchar(255);
ds_result27_w	varchar(255);
ds_result28_w	varchar(255);
ds_result29_w	varchar(255);
ds_result30_w	varchar(255);
ds_result31_w	varchar(255);
ds_result32_w	varchar(255);
ds_result33_w	varchar(255);
ds_result34_w	varchar(255);
ds_result35_w	varchar(255);
ds_result36_w	varchar(255);
ds_result37_w	varchar(255);
ds_result38_w	varchar(255);
ds_result39_w	varchar(255);
ds_result40_w	varchar(255);
ds_result41_w	varchar(255);
ds_result42_w	varchar(255);
ds_result43_w	varchar(255);
ds_result44_w	varchar(255);
ds_result45_w	varchar(255);
ds_result46_w	varchar(255);
ds_result47_w	varchar(255);
ds_result48_w	varchar(255);
ds_result49_w	varchar(255);
ds_result50_w	varchar(255);


BEGIN

select 	substr(a.ds_result1,1,55) ds_result1,
	substr(a.ds_result2,1,55) ds_result2,
	substr(a.ds_result3,1,55) ds_result3,
	substr(a.ds_result4,1,55) ds_result4,
	substr(a.ds_result5,1,55) ds_result5,
	substr(a.ds_result6,1,55) ds_result6,
	substr(a.ds_result7,1,55) ds_result7,
	substr(a.ds_result8,1,55) ds_result8,
	substr(a.ds_result9,1,55) ds_result9,
	substr(a.ds_result10,1,55) ds_result10,
	substr(a.ds_result11,1,55) ds_result11,
	substr(a.ds_result12,1,55) ds_result12,
	substr(a.ds_result13,1,55) ds_result13,
	substr(a.ds_result14,1,55) ds_result14,
	substr(a.ds_result15,1,55) ds_result15,
	substr(a.ds_result16,1,55) ds_result16,
	substr(a.ds_result17,1,55) ds_result17,
	substr(a.ds_result18,1,55) ds_result18,
	substr(a.ds_result19,1,55) ds_result19,
	substr(a.ds_result20,1,55) ds_result20,
	substr(a.ds_result21,1,55) ds_result21,
	substr(a.ds_result22,1,55) ds_result22,
	substr(a.ds_result23,1,55) ds_result23,
	substr(a.ds_result24,1,55) ds_result24,
	substr(a.ds_result25,1,55) ds_result25,
	substr(a.ds_result26,1,55) ds_result26,
	substr(a.ds_result27,1,55) ds_result27,
	substr(a.ds_result28,1,55) ds_result28,
	substr(a.ds_result29,1,55) ds_result29,
	substr(a.ds_result30,1,55) ds_result30,
	substr(a.ds_result31,1,55) ds_result31,
	substr(a.ds_result32,1,55) ds_result32,
	substr(a.ds_result33,1,55) ds_result33,
	substr(a.ds_result34,1,55) ds_result34,
	substr(a.ds_result35,1,55) ds_result35,
	substr(a.ds_result36,1,55) ds_result36,
	substr(a.ds_result37,1,55) ds_result37,
	substr(a.ds_result38,1,55) ds_result38,
	substr(a.ds_result39,1,55) ds_result39,
	substr(a.ds_result40,1,55) ds_result40,
	substr(a.ds_result41,1,55) ds_result41,
	substr(a.ds_result42,1,55) ds_result42,
	substr(a.ds_result43,1,55) ds_result43,
	substr(a.ds_result44,1,55) ds_result44,
	substr(a.ds_result45,1,55) ds_result45,
	substr(a.ds_result46,1,55) ds_result46,
	substr(a.ds_result47,1,55) ds_result47,
	substr(a.ds_result48,1,55) ds_result48,
	substr(a.ds_result49,1,55) ds_result49,
	substr(a.ds_result50,1,55) ds_result50
into STRICT	ds_result1_w,
	ds_result2_w,
	ds_result3_w,
	ds_result4_w,
	ds_result5_w,
	ds_result6_w,
	ds_result7_w,
	ds_result8_w,
	ds_result9_w,
	ds_result10_w,
	ds_result11_w,
	ds_result12_w,
	ds_result13_w,
	ds_result14_w,
	ds_result15_w,
	ds_result16_w,
	ds_result17_w,
	ds_result18_w,
	ds_result19_w,
	ds_result20_w,
	ds_result21_w,
	ds_result22_w,
	ds_result23_w,
	ds_result24_w,
	ds_result25_w,
	ds_result26_w,
	ds_result27_w,
	ds_result28_w,
	ds_result29_w,
	ds_result30_w,
	ds_result31_w,
	ds_result32_w,
	ds_result33_w,
	ds_result34_w,
	ds_result35_w,
	ds_result36_w,
	ds_result37_w,
	ds_result38_w,
	ds_result39_w,
	ds_result40_w,
	ds_result41_w,
	ds_result42_w,
	ds_result43_w,
	ds_result44_w,
	ds_result45_w,
	ds_result46_w,
	ds_result47_w,
	ds_result48_w,
	ds_result49_w,
	ds_result50_w
from    w_result_check_etapa a
where   a.nm_usuario  = nm_usuario_p
and     trunc(a.dt_atualizacao) between trunc(clock_timestamp()) and fim_dia(clock_timestamp())
and  	a.ie_ordem = -3;

ds_coluna_w := 	ds_result1_w || ',' ||
		ds_result2_w || ',' ||
		ds_result3_w || ',' ||
		ds_result4_w || ',' ||
		ds_result5_w || ',' ||
		ds_result6_w || ',' ||
		ds_result7_w || ',' ||
		ds_result8_w || ',' ||
		ds_result9_w || ',' ||
		ds_result10_w || ',' ||
		ds_result11_w || ',' ||
		ds_result12_w || ',' ||
		ds_result13_w || ',' ||
		ds_result14_w || ',' ||
		ds_result15_w || ',' ||
		ds_result16_w || ',' ||
		ds_result17_w || ',' ||
		ds_result18_w || ',' ||
		ds_result19_w || ',' ||
		ds_result20_w || ',' ||
		ds_result21_w || ',' ||
		ds_result22_w || ',' ||
		ds_result23_w || ',' ||
		ds_result24_w || ',' ||
		ds_result25_w || ',' ||
		ds_result26_w || ',' ||
		ds_result27_w || ',' ||
		ds_result28_w || ',' ||
		ds_result29_w || ',' ||
		ds_result30_w || ',' ||
		ds_result31_w || ',' ||
		ds_result32_w || ',' ||
		ds_result33_w || ',' ||
		ds_result34_w || ',' ||
		ds_result35_w || ',' ||
		ds_result36_w || ',' ||
		ds_result37_w || ',' ||
		ds_result38_w || ',' ||
		ds_result39_w || ',' ||
		ds_result40_w || ',' ||
		ds_result41_w || ',' ||
		ds_result42_w || ',' ||
		ds_result43_w || ',' ||
		ds_result44_w || ',' ||
		ds_result45_w || ',' ||
		ds_result46_w || ',' ||
		ds_result47_w || ',' ||
		ds_result48_w || ',' ||
		ds_result49_w || ',' ||
		ds_result50_w;

return	ds_coluna_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_desc_etapa_ck (nm_usuario_p text) FROM PUBLIC;

