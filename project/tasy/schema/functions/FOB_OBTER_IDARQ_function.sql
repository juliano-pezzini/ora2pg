-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION fob_obter_idarq (cd_tipo_lote_contabil_p bigint) RETURNS varchar AS $body$
DECLARE


/*
3   Consumo de Materiais e Medicamentos       FOB_SUPRIR
7   Contas a Pagar                            FOB_CTPAG
5   Contas a Receber                          FOB_CTREC
18  Controle bancário                         FOB_CTPAG
9   Controle de Terceiros                     FOB_CTPAG
30  Encontro de contas                        FOB_CTPAG
19  Financiamento                             FOB_CTREC
25  Lote produção                             FOB_SUPRIR
2   Notas Fiscais                             FOB_SUPRIR
29  Notas fiscal (Provisão Água/luz/telefone  FOB_SUPRIR
26  Ordem consignado pendente                 FOB_SUPRIR
17  Patrimônio                                FOB_SUPRIR
31  Perda do pré-faturamento                  FOB_CTREC
20  Perdas de receita                         FOB_CTREC
8   Pré-faturamento                           FOB_CTREC
11  Recebimento do Convênio                   FOB_CTREC
6   Receitas                                  FOB_CTREC
14  Repasse a terceiros                       FOB_CTPAG
10  Tesouraria                                FOB_CTREC
16  Titulo a pagar de repasse a terceiros     FOB_CTPAG
46  Notas Fiscais Emitidas - Impostos         FOB_CTPAG
*/
ds_idarq_w varchar(2) := '';


BEGIN
if (cd_tipo_lote_contabil_p in (3, 25, 2, 26, 29, 17)) then
begin
ds_idarq_w := '02';
end;
elsif (cd_tipo_lote_contabil_p in (5, 19, 31, 20, 8, 11, 6, 10)) then
begin
ds_idarq_w := '03';
end;
elsif (cd_tipo_lote_contabil_p in (7, 18, 9, 30, 14, 16,46)) then
begin
ds_idarq_w := '04';
end;
end if;

return substr(ds_idarq_w,1,2);

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION fob_obter_idarq (cd_tipo_lote_contabil_p bigint) FROM PUBLIC;

