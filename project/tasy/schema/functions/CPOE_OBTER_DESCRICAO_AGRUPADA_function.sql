-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION cpoe_obter_descricao_agrupada ( cd_material_p bigint, cd_mat_comp1_p bigint, qt_dose_comp1_p bigint, cd_unid_med_dose_comp1_p text, cd_mat_comp2_p bigint, qt_dose_comp2_p bigint, cd_unid_med_dose_comp2_p text, cd_mat_comp3_p bigint, qt_dose_comp3_p bigint, cd_unid_med_dose_comp3_p text, cd_mat_dil_p bigint, qt_dose_dil_p bigint, cd_unid_med_dose_dil_p text, cd_mat_red_p bigint, qt_dose_red_p bigint, cd_unid_med_dose_red_p text, dt_liberacao_p timestamp default null, qt_dose_p bigint default null, cd_unidade_medida_p text default null, ie_via_aplicacao_p text default null, cd_intervalo_p text default null, dt_lib_suspensao_p timestamp default null, dt_suspensao_p timestamp default null, ie_administracao_p text default null, nr_seq_ataque_p cpoe_material.nr_seq_ataque%type default null, nr_seq_procedimento_p cpoe_material.nr_seq_procedimento%type default null, nr_seq_adicional_p cpoe_material.nr_seq_adicional%type default null, nr_seq_hemotherapy_p cpoe_material.nr_seq_hemoterapia%type default null, ds_dose_diferenciada_p text default null, ds_dose_diferenciada_dil_p text default null, ds_dose_diferenciada_red_p text default null, ds_dose_diferenciada_comp1_p text default null, ds_dose_diferenciada_comp2_p text default null, ds_dose_diferenciada_comp3_p text default null, cd_mat_comp4_p bigint default null, qt_dose_comp4_p bigint default null, cd_unid_med_dose_comp4_p text default null, ds_dose_diferenciada_comp4_p text default null, cd_mat_comp5_p bigint default null, qt_dose_comp5_p bigint default null, cd_unid_med_dose_comp5_p text default null, ds_dose_diferenciada_comp5_p text default null, cd_mat_comp6_p bigint default null, qt_dose_comp6_p bigint default null, cd_unid_med_dose_comp6_p text default null, ds_dose_diferenciada_comp6_p text default null, dt_inicio_p timestamp default null, dt_fim_p timestamp default null, dt_fim_cih_p timestamp default null, nr_dia_util_p bigint default null, ie_antibiotico_p text default null, ie_tipo_solucao_p text default null, cd_mat_comp7_p bigint default null, qt_dose_comp7_p bigint default null, cd_unid_med_dose_comp7_p text default null, ds_dose_diferenciada_comp7_p text default null, cd_mat_recons_p bigint default null, qt_dose_recons_p bigint default null, cd_unid_med_dose_recons_p text default null, ds_dose_diferenciada_rec_p text default null, ds_titulo_p text default null, ie_duracao_p text default null, ie_ref_calculo_p cpoe_material.ie_ref_calculo%type default null, nr_etapas_p cpoe_material.nr_etapas%type default null, ie_controle_tempo_p text default null, qt_dias_solicitado_p bigint default null, qt_dias_liberado_p bigint default null, nr_atendimento_p bigint default null, ie_baixado_por_alta_p cpoe_material.ie_baixado_por_alta%type default null, dt_alta_medico_p cpoe_material.dt_alta_medico%type default null, ie_exibe_dil_p text default 'S', ie_adep_p text default 'N', nr_seq_cpoe_p bigint default null, ds_horarios_p text default null, ie_tipo_item_p text default null, ie_reset_atb_p text default null, nr_seq_cpoe_anterior_p bigint default null, ds_calc_therap_dose_p text default null, qt_final_concentration_p text default null, ie_um_final_conc_pca_p text default null, qt_dose_range_min_p bigint default null, qt_dose_range_max_p bigint default null, ie_dose_range_p text default 'N', ds_medic_nao_padrao_p cpoe_material.ds_medic_nao_padrao%type default null, ie_medicacao_paciente_p cpoe_material.ie_medicacao_paciente%type default null, qt_dose_dia_p bigint default null, dt_reference_p timestamp default null, qt_dose_maxima_p bigint default null, dt_fim_grid_p timestamp default null) RETURNS varchar AS $body$
DECLARE

					
					
ds_material_w			varchar(100);
ds_mat_comp1_w			varchar(100);
ds_mat_comp2_w			varchar(100);
ds_mat_comp3_w			varchar(100);
ds_mat_red_w			varchar(100);
ds_mat_dil_w			varchar(100);
ds_retorno_w			varchar(2000);
ds_param17_w			varchar(1);
ds_param19_w			varchar(1);
ds_param567_w			varchar(1);
cd_intervalo_w  	intervalo_prescricao.cd_intervalo%type;
ds_indentific_mat_w	varchar(30);-- NAO REMOVER - Verfificar OS: 979988
ds_vol_etapa_w		varchar(255);
nr_seq_sol_w		prescr_material.nr_sequencia_solucao%type;
ie_exibe_dil_medic_w	varchar(1);
nr_prescricao_w			prescr_medica.nr_prescricao%type;
dt_fim_w		timestamp;
ds_exp_termino_w	varchar(100);
ds_date_mask_w  	varchar(30);
ds_termina_em_w 	varchar(50);
dt_start_w		timestamp;
dt_end_w		timestamp;
ds_withheld_w		varchar(255);
ds_start_w		varchar(255);
ds_end_w		varchar(255);
ds_totalDose_w               varchar(100);
IE_VIA_APLICACAO_W          varchar(100);
IE_FORMATO_ADMINISTRACAO_w via_aplicacao.IE_FORMATO_ADMINISTRACAO%type;
ds_tempo_adm_grid_w			varchar(100);
ds_solucao_w	varchar(255);
ds_material_presc_w	varchar(255);

	function get_UoM( ds_valor_p text) return text is
	;
BEGIN
		if (ds_valor_p = 'ml') and (pkg_i18n.get_user_locale() = 'en_AU') then
			return 'mL';
		else
			return ds_valor_p;
		end if;
	end;

	function bold( ds_valor_p varchar2) return varchar2 is
	begin
		return '<strong '||ds_indentific_mat_w||' >' ||ds_valor_p||'</strong>';
	end;

    function get_dose_description(
        ds_dose_diferenciada_p varchar2,
        ie_display_p           varchar2,
        ie_tipo_item_p         varchar2 )
      return varchar2
    is
      ds_returno_desc varchar2(100);
    begin
      if (ds_dose_diferenciada_p IS NOT NULL AND ds_dose_diferenciada_p::text <> '') then
        if (ie_tipo_item_p IS NOT NULL AND ie_tipo_item_p::text <> '')then
          if (ie_tipo_item_p      ='SOL' and ie_display_p ='N') then
            ds_returno_desc     :='['||trim(both obter_desc_expressao_idioma(288235,null,wheb_usuario_pck.get_nr_seq_idioma))||']';
          elsif (ie_tipo_item_p   ='SOL' and ie_display_p ='S') then
            ds_returno_desc     := '';
          else
            ds_returno_desc :='['||trim(both obter_desc_expressao_idioma(288235,null,wheb_usuario_pck.get_nr_seq_idioma))||']';
          end if;
        elsif (ie_display_p ='N') then
          ds_returno_desc :='['||trim(both obter_desc_expressao_idioma(288235,null,wheb_usuario_pck.get_nr_seq_idioma))||']';
        else
          ds_returno_desc := '';
        end if;
      else
        ds_returno_desc := '';
      end if;
      return ds_returno_desc;
    end;

	function dose_unidade_medida(qt_dose_p				number,
								 ds_dose_diferenciada_p	varchar2,
								 cd_unidade_medida_p	varchar2) return varchar2 is
		qt_dose_w		   varchar2(50);
	begin
		if (coalesce(ds_dose_diferenciada_p::text, '') = '') then
			qt_dose_w := cpoe_dose_formatada(qt_dose_p);

			if (substr(replace(qt_dose_w,',','.'),1,1) = '.') then
				qt_dose_w	:= '0' || qt_dose_w;
			end if;

			return ' ' || qt_dose_w || ' ' || get_UoM(cd_unidade_medida_p) || ' ';
		else
			--Colocar '0' antes da virgula
			qt_dose_w := cpoe_get_differential_dose(ds_dose_diferenciada_p);

			if (substr(ds_dose_diferenciada_p,1,1) = ',') then
				qt_dose_w	:= '0' || ds_dose_diferenciada_p;

			qt_dose_w	:= replace(qt_dose_w,'.',',');
			end if;

			if (substr(ds_dose_diferenciada_p,1,1) = '.') then
				qt_dose_w	:= '0' || ds_dose_diferenciada_p;
			end if;

			return ' ' || qt_dose_w || ' ' || get_UoM(cd_unidade_medida_p) || ' ';
		end if;
	end;	

	function cpoe_add_dose(	qt_dose_p		number,
				ds_dose_diferenciada_p	varchar2,
				cd_unidade_medida_p	varchar2,
				ie_subitem_p		varchar2 default 'N') return varchar2 is
		ds_dose_w		varchar2(2000);
		qt_dose_w 		number;
	begin
		if (pkg_i18n.get_user_locale() = 'en_AU') then

			select 	count(1)
			into STRICT	qt_dose_w
			from 	cpoe_variable_dose
			where 	nr_seq_mat_cpoe = nr_seq_cpoe_p;

			if (ie_subitem_p = 'N') then
				return ds_dose_w || cpoe_add_span(obter_desc_expressao(317230));
			else
				return ds_dose_w;
			end if;
		else
			return cpoe_add_span(dose_unidade_medida(qt_dose_p, ds_dose_diferenciada_p, cd_unidade_medida_p));
		end if;
	end;

	function adep_dose_unidade_medida(	qt_dose_p				number,
										ds_dose_diferenciada_p	varchar2,
										cd_unidade_medida_p		varchar2) return varchar2 is
		qt_dose_w		varchar2(50 char);
	begin
		if (coalesce(ds_dose_diferenciada_p::text, '') = '') then
			qt_dose_w := cpoe_dose_formatada(qt_dose_p);

			if (substr(qt_dose_w,1,1) = '.') then
				qt_dose_w	:= '0' || qt_dose_w;
			end if;

			return ' ' || qt_dose_w || ' ' || Obter_Desc_Unid_Med(cd_unidade_medida_p) || ' ';
		else
			--Colocar '0' antes da virgula
			qt_dose_w := cpoe_get_differential_dose(ds_dose_diferenciada_p);

			if (substr(ds_dose_diferenciada_p,1,1) = ',') then
				qt_dose_w	:= '0' || ds_dose_diferenciada_p;
				qt_dose_w	:= replace(qt_dose_w,'.',',');
			end if;

			if (substr(ds_dose_diferenciada_p,1,1) = '.') then
				qt_dose_w	:= '0' || ds_dose_diferenciada_p;
			end if;

			return ' ' || qt_dose_w || ' ' || Obter_Desc_Unid_Med(cd_unidade_medida_p) || ' ';
		end if;
	end;

	function add_div_item(ds_conteudo_p varchar2) return varchar2 is
		start_html varchar2(100);
		end_html varchar2(50);
	begin
		start_html := '<br> ';
		end_html := '';

		return start_html || ds_conteudo_p || end_html;
	end;

	function obter_descricao_subitem(	cd_material_p			number,
										qt_dose_p				number,
										cd_unidade_medida_p		varchar2,
										ds_dose_diferenciada_p	varchar2 )
	 				return varchar2 is
	begin
		return cpoe_add_span_mat_comp( substr(obter_desc_material(cd_material_p),1,80) ) ||
				cpoe_add_dose(qt_dose_p, ds_dose_diferenciada_p, cd_unidade_medida_p, 'S');
	end;

	function adep_obter_descricao_subitem(	cd_material_p			number,
											qt_dose_p				number,
											cd_unidade_medida_p		varchar2,
											ds_dose_diferenciada_p	varchar2 )
	 				return varchar2 is
	begin
		return 	 substr(obter_desc_material(cd_material_p),1,80) ||
				 adep_dose_unidade_medida(qt_dose_p, ds_dose_diferenciada_p, cd_unidade_medida_p);
	end;

	function cpoe_add_desc_item_comp(nr_seq_cpoe_p cpoe_material.nr_sequencia%type,ds_param19_w varchar2,ie_tipo_item_p varchar2, ie_adep_jp_p varchar2) return varchar2 is

	ds_return_jp_w 			varchar2(1900) := '';
	cd_material_jp_w		cpoe_material.cd_material%type;
	cd_unidade_medida_jp_w	cpoe_material.cd_unidade_medida%type;
	qt_dose_jp_w			cpoe_material.qt_dose%type;

	c_add_comp CURSOR FOR
		SELECT	cd_material,
			cd_unidade_medida, 
			qt_dose		
		from	cpoe_material_add_comp 
		where	nr_seq_cpoe_material = nr_seq_cpoe_p
		order by	nr_additional;

	begin

		if (ie_adep_jp_p = 'N') then
			for cap_w in c_add_comp loop
				ds_return_jp_w	:= substr(ds_return_jp_w || add_div_item(obter_descricao_subitem( cap_w.cd_material, cap_w.qt_dose, cap_w.cd_unidade_medida, null) || 
                 cpoe_add_span(get_dose_description(null,ds_param19_w,ie_tipo_item_p))),1,1900);		
			end loop;
		else
			for cap_w in c_add_comp loop
				ds_return_jp_w := substr(ds_return_jp_w || adep_obter_descricao_subitem( cap_w.cd_material, cap_w.qt_dose, cap_w.cd_unidade_medida, null),1,1900);	
			end loop;
		end if;		
		return ds_return_jp_w;
	end;

begin

ds_param17_w := obter_param_usuario(2314, 17, obter_perfil_ativo, wheb_usuario_pck.get_nm_usuario, wheb_usuario_pck.get_cd_estabelecimento, ds_param17_w);
ds_param19_w := obter_param_usuario(2314, 19, obter_perfil_ativo, wheb_usuario_pck.get_nm_usuario, wheb_usuario_pck.get_cd_estabelecimento, ds_param19_w);
ds_param567_w := obter_param_usuario(1113, 567, obter_perfil_ativo, wheb_usuario_pck.get_nm_usuario, wheb_usuario_pck.get_cd_estabelecimento, ds_param567_w);
ds_indentific_mat_w := 'class='''||'DS_MAT_IDENTIFIC'||'''';
cd_intervalo_w := cd_intervalo_p;
if (ds_medic_nao_padrao_p IS NOT NULL AND ds_medic_nao_padrao_p::text <> '') then
	ds_material_w := substr(ds_medic_nao_padrao_p, 1, 80);
elsif ((cd_material_p IS NOT NULL AND cd_material_p::text <> '') and ds_param17_w = 'S') then
	ds_material_w := coalesce(Obter_Desc_Redu_Material(cd_material_p), substr(obter_desc_material(cd_material_p),1,80));
else
	ds_material_w := substr(obter_desc_material(cd_material_p),1,80);
end if;

if (nr_seq_ataque_p IS NOT NULL AND nr_seq_ataque_p::text <> '') or (nr_seq_adicional_p IS NOT NULL AND nr_seq_adicional_p::text <> '') then
	cd_intervalo_w := null;
end if;

--verifica quais valores serem apresentados para o usuario
if (coalesce(ie_adep_p, 'N') = 'S' and (ds_material_w IS NOT NULL AND ds_material_w::text <> '')) then
	begin
	if ((ds_titulo_p IS NOT NULL AND ds_titulo_p::text <> '') and ds_param567_w = 'S') then
		ds_material_w := ds_titulo_p;
	end if;

	if (nr_seq_cpoe_p IS NOT NULL AND nr_seq_cpoe_p::text <> '') then
		begin
			select	x.nr_sequencia_solucao,
				x.nr_prescricao
			into STRICT	nr_seq_sol_w,
				nr_prescricao_w
			from (
				SELECT	a.nr_sequencia_solucao,
					a.nr_prescricao
				from	prescr_material	a
				where	a.nr_seq_mat_cpoe = nr_seq_cpoe_p
				order by nr_prescricao desc)	x LIMIT 1;

		exception
		when others then
			nr_prescricao_w	:= null;
			nr_seq_sol_w	:= null;
		end;

		if (nr_seq_sol_w IS NOT NULL AND nr_seq_sol_w::text <> '' AND nr_prescricao_w IS NOT NULL AND nr_prescricao_w::text <> '') then
			select	obter_desc_vol_etapa_adep2(nr_prescricao,nr_sequencia_solucao,ie_acm,ie_se_necessario)
			into STRICT	ds_vol_etapa_w
			from	prescr_material	a
			where	a.nr_seq_mat_cpoe 		= nr_seq_cpoe_p
			and	a.nr_prescricao			= nr_prescricao_w
			and	a.nr_sequencia_solucao	= nr_seq_sol_w  LIMIT 1;

			if (ds_vol_etapa_w IS NOT NULL AND ds_vol_etapa_w::text <> '') then
                ds_retorno_w := bold(ds_material_w);
			end if;
		end if;
	end if;

	end;

end if;

	select	max(a.ds_material)
	into STRICT	ds_material_presc_w
	from	material a,
		prescr_material b
	where	b.nr_prescricao		= nr_prescricao_w
	and	a.cd_material		= b.cd_material
	and	b.nr_sequencia_solucao	= nr_seq_sol_w
	and	a.ie_ancora_solucao	= 'S';

	select	trim(both ds_solucao)
	into STRICT	ds_solucao_w
	from	prescr_solucao
	where	nr_prescricao	= nr_prescricao_w
	and	nr_seq_solucao	= nr_seq_sol_w;

	ie_exibe_dil_medic_w := Obter_Param_Usuario(1113, 41, Obter_perfil_ativo, wheb_usuario_pck.get_nm_usuario, wheb_usuario_pck.get_cd_estabelecimento, ie_exibe_dil_medic_w);

	if (ie_exibe_dil_p = 'S' and (coalesce(ie_exibe_dil_medic_w,'N') = 'S' or ie_tipo_item_p <> 'M')) then
		if (cd_mat_dil_p IS NOT NULL AND cd_mat_dil_p::text <> '') then
			ds_retorno_w := substr(ds_retorno_w || ' + ' ||  adep_obter_descricao_subitem( cd_mat_dil_p, qt_dose_dil_p, cd_unid_med_dose_dil_p, ds_dose_diferenciada_dil_p),1,1900);
		end if;
		if (cd_mat_red_p IS NOT NULL AND cd_mat_red_p::text <> '') then
			ds_retorno_w := substr(ds_retorno_w || ' + ' ||  adep_obter_descricao_subitem( cd_mat_red_p, qt_dose_red_p, cd_unid_med_dose_red_p, ds_dose_diferenciada_red_p),1,1900);
		end if;

		if (cd_mat_recons_p IS NOT NULL AND cd_mat_recons_p::text <> '') then
			ds_retorno_w := substr(ds_retorno_w || ' + ' || adep_obter_descricao_subitem( cd_mat_recons_p, qt_dose_recons_p, cd_unid_med_dose_recons_p, ds_dose_diferenciada_rec_p),1,1900);
		end if;
	end if;

	if (cd_mat_comp1_p IS NOT NULL AND cd_mat_comp1_p::text <> '') then
		ds_retorno_w := substr(ds_retorno_w || ' + ' ||  adep_obter_descricao_subitem( cd_mat_comp1_p, qt_dose_comp1_p, cd_unid_med_dose_comp1_p, ds_dose_diferenciada_comp1_p),1,1900);
	end if;

	if (cd_mat_comp2_p IS NOT NULL AND cd_mat_comp2_p::text <> '') then
		ds_retorno_w := substr(ds_retorno_w || ' + ' ||  adep_obter_descricao_subitem( cd_mat_comp2_p, qt_dose_comp2_p, cd_unid_med_dose_comp2_p, ds_dose_diferenciada_comp2_p),1,1900);
	end if;

	if (cd_mat_comp3_p IS NOT NULL AND cd_mat_comp3_p::text <> '') then
		ds_retorno_w := substr(ds_retorno_w || ' + ' ||  adep_obter_descricao_subitem( cd_mat_comp3_p, qt_dose_comp3_p, cd_unid_med_dose_comp3_p, ds_dose_diferenciada_comp3_p),1,1900);
	end if;

	if (cd_mat_comp4_p IS NOT NULL AND cd_mat_comp4_p::text <> '') then
		ds_retorno_w := substr(ds_retorno_w || ' + ' ||  adep_obter_descricao_subitem( cd_mat_comp4_p, qt_dose_comp4_p, cd_unid_med_dose_comp4_p, ds_dose_diferenciada_comp4_p),1,1900);
	end if;

	if (cd_mat_comp5_p IS NOT NULL AND cd_mat_comp5_p::text <> '') then
		ds_retorno_w := substr(ds_retorno_w || ' + ' ||  adep_obter_descricao_subitem( cd_mat_comp5_p, qt_dose_comp5_p, cd_unid_med_dose_comp5_p, ds_dose_diferenciada_comp5_p),1,1900);
	end if;

	if (cd_mat_comp6_p IS NOT NULL AND cd_mat_comp6_p::text <> '') then
		ds_retorno_w := substr(ds_retorno_w || ' + ' ||  adep_obter_descricao_subitem( cd_mat_comp6_p, qt_dose_comp6_p, cd_unid_med_dose_comp6_p, ds_dose_diferenciada_comp6_p),1,1900);
	end if;

	if (cd_mat_comp7_p IS NOT NULL AND cd_mat_comp7_p::text <> '') then
		ds_retorno_w := substr(ds_retorno_w || ' + ' ||  adep_obter_descricao_subitem( cd_mat_comp7_p, qt_dose_comp7_p, cd_unid_med_dose_comp7_p, ds_dose_diferenciada_comp7_p),1,1900);
	end if;

	ds_retorno_w := substr(ds_retorno_w ||  cpoe_add_desc_item_comp(nr_seq_cpoe_p,ds_param19_w,ie_tipo_item_p,'S'),1,1900);		

begin
    select b.IE_FORMATO_ADMINISTRACAO into STRICT IE_FORMATO_ADMINISTRACAO_w from cpoe_material a, via_aplicacao b
        where a.IE_VIA_APLICACAO = b.IE_VIA_APLICACAO and a.nr_sequencia = nr_seq_cpoe_p;
    exception
        when no_data_found then
        return ds_retorno_w;
end;
    if (coalesce(pkg_i18n.get_user_locale, 'pt_BR') = 'ja_JP') then
        if (IE_FORMATO_ADMINISTRACAO_w = 'TD') then
        ds_retorno_w :=ds_retorno_w|| '(' || WHEB_MENSAGEM_PCK.get_texto(1153579) || ')';
        end if;
    end if;

    if ((ds_solucao_w IS NOT NULL AND ds_solucao_w::text <> '') and ds_param567_w = 'S') then
		ds_retorno_w	:= bold(substr(ds_solucao_w,1,240));
	end if;

return	ds_retorno_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION cpoe_obter_descricao_agrupada ( cd_material_p bigint, cd_mat_comp1_p bigint, qt_dose_comp1_p bigint, cd_unid_med_dose_comp1_p text, cd_mat_comp2_p bigint, qt_dose_comp2_p bigint, cd_unid_med_dose_comp2_p text, cd_mat_comp3_p bigint, qt_dose_comp3_p bigint, cd_unid_med_dose_comp3_p text, cd_mat_dil_p bigint, qt_dose_dil_p bigint, cd_unid_med_dose_dil_p text, cd_mat_red_p bigint, qt_dose_red_p bigint, cd_unid_med_dose_red_p text, dt_liberacao_p timestamp default null, qt_dose_p bigint default null, cd_unidade_medida_p text default null, ie_via_aplicacao_p text default null, cd_intervalo_p text default null, dt_lib_suspensao_p timestamp default null, dt_suspensao_p timestamp default null, ie_administracao_p text default null, nr_seq_ataque_p cpoe_material.nr_seq_ataque%type default null, nr_seq_procedimento_p cpoe_material.nr_seq_procedimento%type default null, nr_seq_adicional_p cpoe_material.nr_seq_adicional%type default null, nr_seq_hemotherapy_p cpoe_material.nr_seq_hemoterapia%type default null, ds_dose_diferenciada_p text default null, ds_dose_diferenciada_dil_p text default null, ds_dose_diferenciada_red_p text default null, ds_dose_diferenciada_comp1_p text default null, ds_dose_diferenciada_comp2_p text default null, ds_dose_diferenciada_comp3_p text default null, cd_mat_comp4_p bigint default null, qt_dose_comp4_p bigint default null, cd_unid_med_dose_comp4_p text default null, ds_dose_diferenciada_comp4_p text default null, cd_mat_comp5_p bigint default null, qt_dose_comp5_p bigint default null, cd_unid_med_dose_comp5_p text default null, ds_dose_diferenciada_comp5_p text default null, cd_mat_comp6_p bigint default null, qt_dose_comp6_p bigint default null, cd_unid_med_dose_comp6_p text default null, ds_dose_diferenciada_comp6_p text default null, dt_inicio_p timestamp default null, dt_fim_p timestamp default null, dt_fim_cih_p timestamp default null, nr_dia_util_p bigint default null, ie_antibiotico_p text default null, ie_tipo_solucao_p text default null, cd_mat_comp7_p bigint default null, qt_dose_comp7_p bigint default null, cd_unid_med_dose_comp7_p text default null, ds_dose_diferenciada_comp7_p text default null, cd_mat_recons_p bigint default null, qt_dose_recons_p bigint default null, cd_unid_med_dose_recons_p text default null, ds_dose_diferenciada_rec_p text default null, ds_titulo_p text default null, ie_duracao_p text default null, ie_ref_calculo_p cpoe_material.ie_ref_calculo%type default null, nr_etapas_p cpoe_material.nr_etapas%type default null, ie_controle_tempo_p text default null, qt_dias_solicitado_p bigint default null, qt_dias_liberado_p bigint default null, nr_atendimento_p bigint default null, ie_baixado_por_alta_p cpoe_material.ie_baixado_por_alta%type default null, dt_alta_medico_p cpoe_material.dt_alta_medico%type default null, ie_exibe_dil_p text default 'S', ie_adep_p text default 'N', nr_seq_cpoe_p bigint default null, ds_horarios_p text default null, ie_tipo_item_p text default null, ie_reset_atb_p text default null, nr_seq_cpoe_anterior_p bigint default null, ds_calc_therap_dose_p text default null, qt_final_concentration_p text default null, ie_um_final_conc_pca_p text default null, qt_dose_range_min_p bigint default null, qt_dose_range_max_p bigint default null, ie_dose_range_p text default 'N', ds_medic_nao_padrao_p cpoe_material.ds_medic_nao_padrao%type default null, ie_medicacao_paciente_p cpoe_material.ie_medicacao_paciente%type default null, qt_dose_dia_p bigint default null, dt_reference_p timestamp default null, qt_dose_maxima_p bigint default null, dt_fim_grid_p timestamp default null) FROM PUBLIC;

