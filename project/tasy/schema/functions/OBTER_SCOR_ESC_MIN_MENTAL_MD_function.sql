-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_scor_esc_min_mental_md ( ie_dia_semana_p text, ie_dia_mes_p text, ie_mes_p text, ie_ano_p text, ie_hora_aproximada_p text, ie_local_espec_p text, ie_instituicao_p text, ie_bairro_p text, ie_cidade_p text, ie_estado_p text, qt_palavra_p bigint, qt_calculo_p bigint, qt_evocacao_p bigint, ie_nomear_p text, ie_repetir_p text, ie_comando_p text, ie_comando_dobre_p text, ie_comando_coloque_p text, ie_ler_obedecer_p text, ie_copiar_desenho_p text, ie_escrever_p text ) RETURNS bigint AS $body$
DECLARE

  qt_pontuacao_total_w	bigint := 0;

BEGIN
  if (ie_dia_semana_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_dia_mes_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_mes_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_ano_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_hora_aproximada_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_local_espec_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_instituicao_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_bairro_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_cidade_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_estado_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  qt_pontuacao_total_w := qt_pontuacao_total_w + coalesce(qt_palavra_p,0);

  qt_pontuacao_total_w := qt_pontuacao_total_w + coalesce(qt_calculo_p,0);

  qt_pontuacao_total_w := qt_pontuacao_total_w + coalesce(qt_evocacao_p,0);

  if (ie_nomear_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 2;
  end if;

  if (ie_repetir_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_comando_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_comando_dobre_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_comando_coloque_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_ler_obedecer_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_copiar_desenho_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  if (ie_escrever_p = 'S') then
    qt_pontuacao_total_w := qt_pontuacao_total_w + 1;
  end if;

  return coalesce(qt_pontuacao_total_w,0);

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_scor_esc_min_mental_md ( ie_dia_semana_p text, ie_dia_mes_p text, ie_mes_p text, ie_ano_p text, ie_hora_aproximada_p text, ie_local_espec_p text, ie_instituicao_p text, ie_bairro_p text, ie_cidade_p text, ie_estado_p text, qt_palavra_p bigint, qt_calculo_p bigint, qt_evocacao_p bigint, ie_nomear_p text, ie_repetir_p text, ie_comando_p text, ie_comando_dobre_p text, ie_comando_coloque_p text, ie_ler_obedecer_p text, ie_copiar_desenho_p text, ie_escrever_p text ) FROM PUBLIC;

