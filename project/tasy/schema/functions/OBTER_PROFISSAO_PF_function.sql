-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_profissao_pf (CD_PESSOA_FISICA_P text) RETURNS varchar AS $body$
DECLARE


DS_PROFISSAO_W pessoa_fisica.DS_PROFISSAO%type;

BEGIN
IF (CD_PESSOA_FISICA_P IS NOT NULL AND CD_PESSOA_FISICA_P::text <> '') THEN
    SELECT COALESCE(DS_PROFISSAO,Obter_Desc_profissao(CD_PROFISSAO))
    INTO STRICT  DS_PROFISSAO_W 
    FROM   pessoa_fisica_empregador 
    WHERE cd_pessoa_fisica = CD_PESSOA_FISICA_P;
END IF;

RETURN	DS_PROFISSAO_W;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_profissao_pf (CD_PESSOA_FISICA_P text) FROM PUBLIC;

