-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION lab_obter_equip_cih_medic ( CD_MEDICAMENTO_P bigint, DS_SIGLA_EQUIP_P text ) RETURNS varchar AS $body$
DECLARE



cd_medicamento_w bigint;


BEGIN
select	MAX(a.CD_MEDICAMENTO_INTEGRACAO)
into STRICT 	cd_medicamento_w
from 	CIH_MEDICAMENTO_INT a,
	equipamento_lab b
where 	a.cd_equipamento = b.cd_equipamento
and 	b.ds_sigla = DS_SIGLA_EQUIP_P
and 	a.cd_medicamento = CD_MEDICAMENTO_P;

RETURN cd_medicamento_w;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION lab_obter_equip_cih_medic ( CD_MEDICAMENTO_P bigint, DS_SIGLA_EQUIP_P text ) FROM PUBLIC;

