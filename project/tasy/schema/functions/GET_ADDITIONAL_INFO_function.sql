-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION get_additional_info ( additional_info_p text, info_required_p text, delimeter_p text ) RETURNS varchar AS $body$
DECLARE
 info_w varchar(200);

        size_w                  bigint;
        index_w                 bigint;
        delimeter_index_w       bigint;
        start_substr_w          bigint;
        size_substr_w           bigint;


BEGIN

        select position(info_required_p in additional_info_p)
        into STRICT index_w
;

        select instr(additional_info_p, delimeter_p, index_w)
        into STRICT delimeter_index_w
;

        select length(info_required_p)
        into STRICT size_w
;

        start_substr_w  := index_w + size_w;
        size_substr_w   := delimeter_index_w - start_substr_w;

        info_w := substr(additional_info_p, start_substr_w,  size_substr_w);

        return trim(both info_w);

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION get_additional_info ( additional_info_p text, info_required_p text, delimeter_p text ) FROM PUBLIC;

