-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_score_escala_minds_md ( ie_orientacao_new_p bigint, ie_orientacao_old_p bigint, ie_pulso_p bigint, ie_pressao_p bigint, ie_tremores_p bigint, ie_suor_p bigint, ie_alucinacoes_p bigint, ie_agitacao_p bigint, ie_delirios_p bigint, ie_convulsao_p bigint ) RETURNS bigint AS $body$
DECLARE

  qt_score_w bigint := 0;

BEGIN

	if coalesce(ie_orientacao_new_p, ie_orientacao_old_p) = 8 then
	  qt_score_w := 0;
	else
	  qt_score_w := ie_orientacao_new_p;
	end if;

	return qt_score_w +
	       coalesce(ie_pulso_p, 0) +
		   coalesce(ie_pressao_p, 0) +
		   coalesce(ie_tremores_p, 0) +
		   coalesce(ie_suor_p, 0) +
		   coalesce(ie_alucinacoes_p, 0) +
		   coalesce(ie_agitacao_p, 0) +
		   coalesce(ie_delirios_p, 0) +
		   coalesce(ie_convulsao_p, 0);

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_score_escala_minds_md ( ie_orientacao_new_p bigint, ie_orientacao_old_p bigint, ie_pulso_p bigint, ie_pressao_p bigint, ie_tremores_p bigint, ie_suor_p bigint, ie_alucinacoes_p bigint, ie_agitacao_p bigint, ie_delirios_p bigint, ie_convulsao_p bigint ) FROM PUBLIC;

