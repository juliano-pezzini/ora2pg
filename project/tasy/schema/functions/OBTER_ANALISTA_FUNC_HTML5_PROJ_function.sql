-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_analista_func_html5_proj ( DS_FUNCAO_P text) RETURNS varchar AS $body$
DECLARE

 PR_RETORNO_W varchar(100) := '';

BEGIN
 BEGIN 
  SELECT OBTER_NOME_SOBRENOME_PESSOA(FH.CD_PESSOA_FISICA, 'P') || ' ' || OBTER_NOME_SOBRENOME_PESSOA(FH.CD_PESSOA_FISICA, 'S') 
   INTO STRICT PR_RETORNO_W 
   FROM FUNCOES_HTML5 FH, 
      FUNCAO F 
   WHERE FH.CD_FUNCAO    = F.CD_FUNCAO 
    AND trim(both UPPER(OBTER_DESC_EXPRESSAO_IDIOMA(CD_EXP_FUNCAO, DS_FUNCAO, 5))) = trim(both UPPER(DS_FUNCAO_P)) 
    AND (FH.CD_PESSOA_FISICA IS NOT NULL AND FH.CD_PESSOA_FISICA::text <> '')  LIMIT 1;
 EXCEPTION 
  WHEN no_data_found THEN 
   PR_RETORNO_W := '';
  WHEN OTHERS THEN 
   PR_RETORNO_W := '';
 END;
 
 RETURN PR_RETORNO_W;
 
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_analista_func_html5_proj ( DS_FUNCAO_P text) FROM PUBLIC;

