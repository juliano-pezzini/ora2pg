-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_desc_antibiogram_result ( IE_RESULTADO_P text) RETURNS varchar AS $body$
DECLARE

  IE_RESULTADO_W varchar(254);
  ds_reterno     varchar(254);
  CD_DOMINIO_W   bigint;

BEGIN
  CD_DOMINIO_W        := 0;
  IF IE_RESULTADO_P    = 'R' OR IE_RESULTADO_P = 'S' OR IE_RESULTADO_P = 'I' THEN
    CD_DOMINIO_W      := 8899;
    IE_RESULTADO_W    := IE_RESULTADO_P;
  ELSIF IE_RESULTADO_P = 'N' THEN
    SELECT SUBSTR(obter_desc_expressao_idioma(311500,NULL,wheb_usuario_pck.get_nr_seq_idioma),1,255)
    INTO STRICT ds_reterno
;
  ELSIF IE_RESULTADO_P = '+' OR IE_RESULTADO_P = '-' THEN
    CD_DOMINIO_W      := 1891;
    SELECT CASE WHEN IE_RESULTADO_P ='+' THEN  'P'  ELSE 'N' END  INTO STRICT IE_RESULTADO_W;
  ELSIF IE_RESULTADO_P = 'D' THEN
    SELECT SUBSTR(obter_desc_expressao_idioma(344985,NULL,wheb_usuario_pck.get_nr_seq_idioma),1,255)
    INTO STRICT ds_reterno
;
  ELSE
    ds_reterno := IE_RESULTADO_P;
  END IF;
IF CD_DOMINIO_W <>0 THEN
  BEGIN
    SELECT SUBSTR(obter_desc_expressao_idioma(CD_EXP_VALOR_DOMINIO,NULL,wheb_usuario_pck.get_nr_seq_idioma),1,255)
    INTO STRICT ds_reterno
    FROM VALOR_DOMINIO_V
    WHERE cd_dominio = CD_DOMINIO_W
    AND vl_dominio   = IE_RESULTADO_W;
  EXCEPTION
  WHEN OTHERS THEN
    ds_reterno := NULL;
  END;
END IF;
RETURN ds_reterno;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_desc_antibiogram_result ( IE_RESULTADO_P text) FROM PUBLIC;

