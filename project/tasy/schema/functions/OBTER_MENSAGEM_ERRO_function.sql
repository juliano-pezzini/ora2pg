-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_mensagem_erro (cd_erro_p bigint) RETURNS varchar AS $body$
DECLARE

  nl  varchar(6)   := Chr(13) || Chr(10);
  p   varchar(100) := wheb_mensagem_pck.get_texto(308639, 'DS_ERRO_P=') || nl;
					/*
						Ocorreu um erro no banco de dados, favor contactar o DBA e apresentar a seguinte mensagem.
						#@DS_ERRO_P#@
					*/
  msg varchar(1000);
/*
    Ao alterar a mensagem padrão favor verificar o tamanho para consistir com o tamanho
    criado, caso contrário VOCÊ terá muita dor de cabeça
*/
BEGIN
  case cd_erro_p
       when 00001 then msg :=	wheb_mensagem_pck.get_texto(308640) || nl || wheb_mensagem_pck.get_texto(308641);
								-- Não foi possível salvar o registro.						-- Número máximo de registros permitido igual a 1.
       when 00018 then msg :=	wheb_mensagem_pck.get_texto(308642);
								-- Foi excedido o número máximo de sessões.
       when 00028 then msg :=	wheb_mensagem_pck.get_texto(308643);
								-- Sua sessão foi finalizada.
       when 00054 then msg :=	wheb_mensagem_pck.get_texto(308644);
								-- Recurso ocupado, aguardando commit
       when 00060 then msg :=	wheb_mensagem_pck.get_texto(308645);
								-- DeadLock detectado enquando aguardava sua solicitação
       when 01400 then msg :=	wheb_mensagem_pck.get_texto(308640) || nl || wheb_mensagem_pck.get_texto(308646);
								-- Não foi possível salvar o registro.						-- Falta informar algum campo obrigatório.
       when 09475 then msg :=	wheb_mensagem_pck.get_texto(308647);
								-- BDE: Espaço insuficiente em disco
       when 09429 then msg :=	wheb_mensagem_pck.get_texto(308647);
								-- BDE: Espaço insuficiente em disco
       when 12537 then msg :=	wheb_mensagem_pck.get_texto(308648);
								-- Conexão fechada.
       when 12538 then msg :=	wheb_mensagem_pck.get_texto(308649);
								-- Tempo da operação excedido.
       when 12541 then msg :=	wheb_mensagem_pck.get_texto(308650);
								-- Sem Listner para conectar
       when 12546 then msg :=	wheb_mensagem_pck.get_texto(308651);
								-- Acesso Negado, sem permissão para executar este comando.
       when 12550 then msg :=	wheb_mensagem_pck.get_texto(308652);
								-- Erro na sintaxe do comando.
       when 12555 then msg := 	wheb_mensagem_pck.get_texto(308651);
								-- Acesso Negado, sem permissão para executar este comando.
       when 25153 then msg :=	wheb_mensagem_pck.get_texto(308654);
								-- Tablespace temporária está vazio.
  else
       msg := p || nl || nl || 'ERRO-ORA:' || to_char(cd_erro_p) || ' ' || wheb_mensagem_pck.get_texto(308655) || '!'; -- não Tratado
  end case;

  return msg;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_mensagem_erro (cd_erro_p bigint) FROM PUBLIC;

