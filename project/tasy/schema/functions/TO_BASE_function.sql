-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION to_base ( p_dec bigint, p_base bigint ) RETURNS varchar AS $body$
DECLARE

	l_str	varchar(255) := NULL;
	l_num	bigint	:= p_dec;
	l_hex	varchar(16) := '0123456789ABCDEF';

BEGIN
	if ( coalesce(p_dec::text, '') = '' or coalesce(p_base::text, '') = '' )
	then
		return null;
	end if;
	if ( trunc(p_dec) <> p_dec OR p_dec < 0 ) then
		raise PROGRAM_ERROR;
	end if;
	loop
		l_str := substr( l_hex, mod(l_num,p_base)+1, 1 ) || l_str;
		l_num := trunc( l_num/p_base );
		exit when( l_num = 0 );
	end loop;
	return l_str;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION to_base ( p_dec bigint, p_base bigint ) FROM PUBLIC;

