-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_dados_cat_clues ( cd_cat_clues_p text, ie_tipo_inf_p text) RETURNS varchar AS $body$
DECLARE


ds_retorno_w		varchar(255);
cd_clues_w		cat_clues.cd_clues%type;
cd_estado_w		cat_clues.cd_estado%type;
cd_jurisdicao_w		cat_clues.cd_jurisdicao%type;
cd_municipio_w		cat_clues.cd_municipio%type;
cd_localidade_w		cat_clues.cd_localidade%type;
ie_tipo_unidade_w	cat_clues.ie_tipo_unidade%type;
ds_estab_saude_w	cat_clues.ds_estab_saude%type;
ds_dom_saude_w		cat_clues.ds_dom_saude%type;
cd_postal_w		cat_clues.cd_postal%type;


BEGIN
if (cd_cat_clues_p IS NOT NULL AND cd_cat_clues_p::text <> '') then
	select	cd_clues,
		cd_estado,
		cd_jurisdicao,
		cd_municipio,
		cd_localidade,
		ie_tipo_unidade,
		ds_estab_saude,
		ds_dom_saude,
		cd_postal
	into STRICT	cd_clues_w,
		cd_estado_w,
		cd_jurisdicao_w,
		cd_municipio_w,
		cd_localidade_w,
		ie_tipo_unidade_w,
		ds_estab_saude_w,
		ds_dom_saude_w,
		cd_postal_w
	from	cat_clues
	where	cd_clues	= cd_cat_clues_p;

	if (ie_tipo_inf_p = 'CD_CLUES') then
		ds_retorno_w 	:= cd_clues_w;

	elsif (ie_tipo_inf_p = 'CD_ESTADO') then
		ds_retorno_w 	:= cd_estado_w;

	elsif (ie_tipo_inf_p = 'CD_JURISDICAO') then
		ds_retorno_w 	:= cd_jurisdicao_w;

	elsif (ie_tipo_inf_p = 'CD_MUNICIPIO') then
		ds_retorno_w 	:= cd_municipio_w;

	elsif (ie_tipo_inf_p = 'CD_LOCALIDADE') then
		ds_retorno_w 	:= cd_localidade_w;

	elsif (ie_tipo_inf_p = 'IE_TIPO_UNIDADE') then
		ds_retorno_w 	:= ie_tipo_unidade_w;

	elsif (ie_tipo_inf_p = 'DS_ESTAB_SAUDE') then
		ds_retorno_w 	:= ds_estab_saude_w;

	elsif (ie_tipo_inf_p = 'DS_DOM_SAUDE') then
		ds_retorno_w 	:= ds_dom_saude_w;

	elsif (ie_tipo_inf_p = 'CD_POSTAL') then
		ds_retorno_w 	:= ds_dom_saude_w;
	end if;
end if;

return	ds_retorno_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_dados_cat_clues ( cd_cat_clues_p text, ie_tipo_inf_p text) FROM PUBLIC;

