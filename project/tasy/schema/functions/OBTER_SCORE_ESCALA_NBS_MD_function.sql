-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_score_escala_nbs_md ( qt_postura_p bigint, qt_angulo_punho_p bigint, qt_retracao_braco_p bigint, qt_popliteo_p bigint, qt_sinal_xale_p bigint, qt_calcanhar_orelha_p bigint, qt_olhos_orelhas_p bigint, qt_pele_p bigint, qt_lanugo_p bigint, qt_superficie_planar_p bigint, qt_glandula_mamaria_p bigint, qt_genital_masculino_p bigint, qt_genital_feminino_p bigint ) RETURNS bigint AS $body$
DECLARE

  qt_ponto_w bigint := 0;

BEGIN
	if (qt_postura_p IS NOT NULL AND qt_postura_p::text <> '') then
	  qt_ponto_w := qt_ponto_w + coalesce(qt_postura_p, 0);
	end if;

	if (qt_angulo_punho_p IS NOT NULL AND qt_angulo_punho_p::text <> '') then
	  qt_ponto_w := qt_ponto_w + coalesce(qt_angulo_punho_p, 0);
	end if;

	if (qt_retracao_braco_p IS NOT NULL AND qt_retracao_braco_p::text <> '') then
	  qt_ponto_w := qt_ponto_w + coalesce(qt_retracao_braco_p, 0);
	end if;

	if (qt_popliteo_p IS NOT NULL AND qt_popliteo_p::text <> '') then
	  qt_ponto_w := qt_ponto_w + coalesce(qt_popliteo_p,0);
	end if;

	if (qt_sinal_xale_p IS NOT NULL AND qt_sinal_xale_p::text <> '') then
	  qt_ponto_w := qt_ponto_w + coalesce(qt_sinal_xale_p, 0);
	end if;

	if (qt_calcanhar_orelha_p IS NOT NULL AND qt_calcanhar_orelha_p::text <> '') then
	  qt_ponto_w := qt_ponto_w + coalesce(qt_calcanhar_orelha_p, 0);
	end if;

	if (qt_olhos_orelhas_p IS NOT NULL AND qt_olhos_orelhas_p::text <> '') then
	  qt_ponto_w := qt_ponto_w + coalesce(qt_olhos_orelhas_p, 0);
	end if;

	qt_ponto_w := qt_ponto_w + coalesce(qt_pele_p,0)   +
                             coalesce(qt_lanugo_p,0) + 
                             coalesce(qt_superficie_planar_p,0) + 
                             coalesce(qt_glandula_mamaria_p,0) +
                             coalesce(qt_genital_masculino_p,0) + 
                             coalesce(qt_genital_feminino_p,0);

    return qt_ponto_w;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_score_escala_nbs_md ( qt_postura_p bigint, qt_angulo_punho_p bigint, qt_retracao_braco_p bigint, qt_popliteo_p bigint, qt_sinal_xale_p bigint, qt_calcanhar_orelha_p bigint, qt_olhos_orelhas_p bigint, qt_pele_p bigint, qt_lanugo_p bigint, qt_superficie_planar_p bigint, qt_glandula_mamaria_p bigint, qt_genital_masculino_p bigint, qt_genital_feminino_p bigint ) FROM PUBLIC;

