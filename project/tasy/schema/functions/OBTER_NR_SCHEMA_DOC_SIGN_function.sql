-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_nr_schema_doc_sign (NM_TABELA_P text, NR_FUNCAO_ATIVA_P bigint, IE_TIPO_DADO_P text) RETURNS bigint AS $body$
DECLARE

RET_N bigint;


BEGIN
    IF NR_FUNCAO_ATIVA_P = 872 THEN -- PEPO
        IF IE_TIPO_DADO_P = 'TN' THEN -- TREE NODE
            CASE NM_TABELA_P
                WHEN 'CIRURGIA_DESCRICAO' THEN
                    RET_N := 122286;
                WHEN 'CIRURGIA_TEC_ANESTESICA' THEN
                    RET_N := 301183;
                WHEN 'AVAL_PRE_ANESTESICA' THEN
                    RET_N := 122276;
                WHEN 'MED_AVALIACAO_PACIENTE' THEN
                    RET_N := 122285;
                WHEN 'CIRURGIA' THEN
                    RET_N := 122272;
                WHEN 'EVOLUCAO_PACIENTE' THEN
                    RET_N := 122294;
                ELSE
                    RET_N := 0;
             END CASE;
        ELSIF IE_TIPO_DADO_P = 'TG' THEN -- TAB GROUP
          CASE NM_TABELA_P
                WHEN 'CIRURGIA_DESCRICAO' THEN
                    RET_N := 130065;
                WHEN 'CIRURGIA_TEC_ANESTESICA' THEN
                    RET_N := 339801;
                WHEN 'AVAL_PRE_ANESTESICA' THEN
                    RET_N := 393709;
                WHEN 'MED_AVALIACAO_PACIENTE' THEN
                    RET_N := 120847;
                WHEN 'EVOLUCAO_PACIENTE' THEN
                    RET_N := 121071;
                ELSE
                    RET_N := 0;
             END CASE;
        
        ELSIF IE_TIPO_DADO_P = 'WP' THEN -- WPANEL
          CASE NM_TABELA_P
                WHEN 'CIRURGIA_DESCRICAO' THEN
                    RET_N := 120885;
                WHEN 'CIRURGIA_TEC_ANESTESICA' THEN
                    RET_N := 339807;
                WHEN 'AVAL_PRE_ANESTESICA' THEN
                    RET_N := 120757;
                WHEN 'MED_AVALIACAO_PACIENTE' THEN
                    RET_N := 120851;
                WHEN 'CIRURGIA' THEN
                    RET_N := 121025;
                WHEN 'EVOLUCAO_PACIENTE' THEN
                    RET_N := 121075;
             END CASE;
        ELSE -- TAB
          CASE NM_TABELA_P
                WHEN 'CIRURGIA_DESCRICAO' THEN
                    RET_N := 130085;
                WHEN 'CIRURGIA_TEC_ANESTESICA' THEN
                    RET_N := 339802;
                WHEN 'AVAL_PRE_ANESTESICA' THEN
                    RET_N := 393710;
                WHEN 'MED_AVALIACAO_PACIENTE' THEN
                    RET_N := 120848;
                WHEN 'EVOLUCAO_PACIENTE' THEN
                    RET_N := 121072;
                ELSE
                    RET_N := 0;
             END CASE;
        END IF;

    ELSIF NR_FUNCAO_ATIVA_P = 281 THEN -- PEP
        IF IE_TIPO_DADO_P = 'TN' THEN -- TREE NODE
            CASE NM_TABELA_P
                WHEN 'MED_AVALIACAO_PACIENTE' THEN
                    RET_N := 37868;
                WHEN 'MED_RECEITA' THEN
                    RET_N := 37840;
                WHEN 'ATEND_SUMARIO_ALTA' THEN
                    RET_N := 37862;
                WHEN 'EVOLUCAO_PACIENTE' THEN
                    RET_N := 37838;
                WHEN 'EHR_REGISTRO' THEN
                    RET_N := -99;
                WHEN 'DIAGNOSTICO_DOENCA' THEN
                    RET_N := 37836;
                ELSE
                    RET_N := 0;
            END CASE;
            
        ELSIF IE_TIPO_DADO_P = 'TG' THEN -- TAB GROUP
            CASE NM_TABELA_P
                WHEN 'MED_AVALIACAO_PACIENTE' THEN
                    RET_N := 685785;
                WHEN 'MED_RECEITA' THEN
                    RET_N := 40801;
                WHEN 'ATEND_SUMARIO_ALTA' THEN
                    RET_N := 45460;
                WHEN 'EVOLUCAO_PACIENTE' THEN
                    RET_N := 40784;
                WHEN 'EHR_REGISTRO' THEN
                    RET_N := -99;
                WHEN 'DIAGNOSTICO_DOENCA' THEN
                    RET_N := 39405;
                ELSE
                    RET_N := 0;
            END CASE;
        
        ELSIF IE_TIPO_DADO_P = 'WP' THEN -- WPANEL
            CASE NM_TABELA_P
                WHEN 'MED_AVALIACAO_PACIENTE' THEN
                    RET_N := 46148;
                WHEN 'MED_RECEITA' THEN
                    RET_N := 40807;
                WHEN 'ATEND_SUMARIO_ALTA' THEN
                    RET_N := 45466;
                WHEN 'EVOLUCAO_PACIENTE' THEN
                    RET_N := 40791;
                WHEN 'EHR_REGISTRO' THEN
                    RET_N := 685877;
                WHEN 'DIAGNOSTICO_DOENCA' THEN
                    RET_N := 39411;
                ELSE
                    RET_N := 0;
            END CASE;
        ELSE -- TAB
            CASE NM_TABELA_P
                WHEN 'MED_AVALIACAO_PACIENTE' THEN
                    RET_N := 685786;
                WHEN 'MED_RECEITA' THEN
                    RET_N := 40802;
                WHEN 'ATEND_SUMARIO_ALTA' THEN
                    RET_N := 45461;
                 WHEN 'EVOLUCAO_PACIENTE' THEN
                    RET_N := 40785;
                WHEN 'EHR_REGISTRO' THEN
                    RET_N := -99;
                WHEN 'DIAGNOSTICO_DOENCA' THEN
                    RET_N := 343633;
                ELSE
                    RET_N := 0;
            END CASE;
        END IF;
    ELSE
        IF IE_TIPO_DADO_P = 'TN' THEN -- TREE NODE
            RET_N := 0;
        ELSIF IE_TIPO_DADO_P = 'WP' THEN -- WPANEL
            RET_N := 108040;
        ELSIF IE_TIPO_DADO_P = 'TG' THEN -- TAB GROUP
            RET_N := 108132;
        ELSE -- TAB
            RET_N := 108133;
        END IF;
    END IF;
  RETURN RET_N;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_nr_schema_doc_sign (NM_TABELA_P text, NR_FUNCAO_ATIVA_P bigint, IE_TIPO_DADO_P text) FROM PUBLIC;

