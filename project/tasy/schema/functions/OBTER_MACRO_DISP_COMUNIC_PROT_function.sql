-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_macro_disp_comunic_prot ( ie_tipo_p text) RETURNS varchar AS $body$
DECLARE


ds_retorno_w		varchar(2000);
ds_enter_w		varchar(10) := chr(13) || chr(10);


BEGIN



ds_retorno_w :=	substr(	'@nr_protocolo = ' || wheb_mensagem_pck.get_texto(301286,null)		|| ds_enter_w || -- Número do protocolo
			'@ds_tipo = ' || wheb_mensagem_pck.get_texto(301288,null)			|| ds_enter_w || -- Tipo do protocolo
			'@nm_pessoa_envio = ' || wheb_mensagem_pck.get_texto(301289,null)	|| ds_enter_w || -- Pessoa de origem do protocolo
			'@nm_pessoa_destino = ' || wheb_mensagem_pck.get_texto(301291,null)	|| ds_enter_w || -- Pessoa de destino do protocolo
			'@ds_usuario_envio = ' || wheb_mensagem_pck.get_texto(301294,null)		|| ds_enter_w || -- Usuário que registrou o envio
			'@ds_usuario_receb = ' || wheb_mensagem_pck.get_texto(301296,null)	|| ds_enter_w || -- Usuário que registrou o recebimento
			'@dt_envio = ' || wheb_mensagem_pck.get_texto(301297,null)		|| ds_enter_w || -- Data de envio do protocolo
			'@dt_recebimento = ' || wheb_mensagem_pck.get_texto(301299,null)		|| ds_enter_w || -- Data de recebimento do protocolo
			'@ds_setor_origem = ' || wheb_mensagem_pck.get_texto(301300,null)		|| ds_enter_w || -- Setor de origem do protocolo
			'@ds_setor_destino = ' || wheb_mensagem_pck.get_texto(301301,null)		|| ds_enter_w || -- Setor de destino do protocolo
			'@ds_estabelecimento = ' || wheb_mensagem_pck.get_texto(301302,null)	|| ds_enter_w || -- Estabelecimento do protocolo
			'@ds_status = ' || wheb_mensagem_pck.get_texto(301303,null)		|| ds_enter_w || -- Status do protocolo
			'@ds_observacao = ' || wheb_mensagem_pck.get_texto(301304,null),1,2000);		        -- Observação do protocolo
if (coalesce(ie_tipo_p,'0') = '3') then
	begin
	ds_retorno_w := substr(	ds_retorno_w						|| ds_enter_w ||
				'@nr_documento = ' || wheb_mensagem_pck.get_texto(301306,null)	|| ds_enter_w || -- Número do documento
				'@nr_seq_item = ' || wheb_mensagem_pck.get_texto(301308,null),1,2000);	        -- Número do item do protocolo
	end;
elsif (coalesce(ie_tipo_p,'0') = '4') then
	ds_retorno_w := substr(	ds_retorno_w	|| ds_enter_w ||
				'@ds_motivo_dev = ' || wheb_mensagem_pck.get_texto(301310,null),1,2000);	        -- Motivo devolução item
end if;

return	ds_retorno_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_macro_disp_comunic_prot ( ie_tipo_p text) FROM PUBLIC;

