-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_config_avaliacao ( nr_seq_avaliacao_p bigint) RETURNS varchar AS $body$
DECLARE


cd_item_w	varchar(50);
vl_item_w	varchar(50);
vl_config_w	varchar(4000);


C01 CURSOR FOR
	SELECT	CD_ITEM,
		VL_ITEM
	FROM	Med_aval_config
	WHERE	NR_SEQ_TIPO_AVAL  = nr_seq_avaliacao_p;

BEGIN
	OPEN C01;
	LOOP
	FETCH C01 INTO
		cd_item_w,
		vl_item_w;
	EXIT WHEN NOT FOUND; /* apply on C01 */
		BEGIN
		vl_config_w := vl_config_w || cd_item_w ||'='|| vl_item_w|| ';';
		END;
	END LOOP;
	CLOSE C01;

return vl_config_w;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_config_avaliacao ( nr_seq_avaliacao_p bigint) FROM PUBLIC;

