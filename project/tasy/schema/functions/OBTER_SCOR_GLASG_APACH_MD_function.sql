-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_scor_glasg_apach_md (ie_glasgow_ocular_p bigint, ie_glasgow_motora_p bigint, ie_glasgow_verbal_p bigint ) RETURNS bigint AS $body$
DECLARE


   qt_pt_glasgow_w	smallint := 0;

BEGIN
	--- Inicio MD18
	-- Glasgow 
	if (ie_glasgow_ocular_p in (4,3,2)) then
		if (ie_glasgow_motora_p = 6) then
			if (ie_glasgow_verbal_p = 4) then
				qt_pt_glasgow_w	:=	3;
			elsif (ie_glasgow_verbal_p = 3) then
				qt_pt_glasgow_w	:=	10;
			elsif (ie_glasgow_verbal_p = 2) then
				qt_pt_glasgow_w	:=	10;
			elsif (ie_glasgow_verbal_p = 1) then
				qt_pt_glasgow_w	:=	15;
			else
				qt_pt_glasgow_w	:=	0;		
			end if;
		elsif (ie_glasgow_motora_p = 5) then
			if (ie_glasgow_verbal_p = 4) then
				qt_pt_glasgow_w	:=	8;
			elsif (ie_glasgow_verbal_p = 3) then
				qt_pt_glasgow_w	:=	13;
			elsif (ie_glasgow_verbal_p = 2) then
				qt_pt_glasgow_w	:=	13;
			elsif (ie_glasgow_verbal_p = 1) then
				qt_pt_glasgow_w	:=	15;
			else
				qt_pt_glasgow_w	:=	3;		
			end if;
		elsif (ie_glasgow_motora_p in (4,3)) then
			if (ie_glasgow_verbal_p = 4) then
				qt_pt_glasgow_w	:=	13;
			elsif (ie_glasgow_verbal_p = 3) then
				qt_pt_glasgow_w	:=	24;
			elsif (ie_glasgow_verbal_p = 2) then
				qt_pt_glasgow_w	:=	24;
			elsif (ie_glasgow_verbal_p = 1) then
				qt_pt_glasgow_w	:=	24;
			else
				qt_pt_glasgow_w	:=	3;		
			end if;
		elsif (ie_glasgow_motora_p in (2,1)) then
			if (ie_glasgow_verbal_p = 4) then
				qt_pt_glasgow_w	:=	13;
			elsif (ie_glasgow_verbal_p = 3) then
				qt_pt_glasgow_w	:=	29;
			elsif (ie_glasgow_verbal_p = 2) then
				qt_pt_glasgow_w	:=	29;
			elsif (ie_glasgow_verbal_p = 1) then
				qt_pt_glasgow_w	:=	29;
			else
				qt_pt_glasgow_w	:=	3;		
			end if;
		end if;
	elsif (ie_glasgow_ocular_p = 1) then
		if (ie_glasgow_motora_p in (6,5)) then
			if (ie_glasgow_verbal_p in (5,4,3,2)) then
				qt_pt_glasgow_w	:=	0;
			else
				qt_pt_glasgow_w	:=	16;		
			end if;
		elsif (ie_glasgow_motora_p in (4,3)) then
			if (ie_glasgow_verbal_p in (5,4,3)) then
				qt_pt_glasgow_w	:=	0;
			elsif (ie_glasgow_verbal_p = 2) then
				qt_pt_glasgow_w	:=	24;
			else
				qt_pt_glasgow_w	:=	33;		
			end if;
		elsif (ie_glasgow_motora_p in (2,1)) then
			if (ie_glasgow_verbal_p in (5,4,3)) then
				qt_pt_glasgow_w	:=	0;
			elsif (ie_glasgow_verbal_p = 2) then
				qt_pt_glasgow_w	:=	29;
			else
				qt_pt_glasgow_w	:=	48;		
			end if;
		end if;	
	end if;
	--- Fim MD18
    RETURN qt_pt_glasgow_w;
   
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_scor_glasg_apach_md (ie_glasgow_ocular_p bigint, ie_glasgow_motora_p bigint, ie_glasgow_verbal_p bigint ) FROM PUBLIC;

