-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_desc_propaci (NR_SEQ_PROCEDIMENTO_P bigint) RETURNS varchar AS $body$
DECLARE


CD_PROCEDIMENTO_W		varchar(15);
DS_PROCEDIMENTO_W		PROCEDIMENTO.DS_PROCEDIMENTO%type;
IE_ORIGEM_PROCED_W		bigint;


BEGIN
SELECT	A.CD_PROCEDIMENTO,
	A.IE_ORIGEM_PROCED
INTO STRICT	CD_PROCEDIMENTO_W,
	IE_ORIGEM_PROCED_W
FROM	PROCEDIMENTO_PACIENTE A
WHERE	A.NR_SEQUENCIA = NR_SEQ_PROCEDIMENTO_P;

SELECT	DS_PROCEDIMENTO
INTO STRICT	DS_PROCEDIMENTO_W
FROM	PROCEDIMENTO
WHERE	CD_PROCEDIMENTO		= CD_PROCEDIMENTO_W
AND	IE_ORIGEM_PROCED	= IE_ORIGEM_PROCED_w;

return	DS_PROCEDIMENTO_W;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_desc_propaci (NR_SEQ_PROCEDIMENTO_P bigint) FROM PUBLIC;

