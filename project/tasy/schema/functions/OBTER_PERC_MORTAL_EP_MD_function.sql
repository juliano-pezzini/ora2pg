-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_perc_mortal_ep_md (qt_pontos_operativos_p bigint, qt_pontos_fisio_p bigint ) RETURNS bigint AS $body$
DECLARE


   pr_mortalidade_w real := 0;

BEGIN
	--- Inicio MD18
	pr_mortalidade_w		:=	(100 * dividir_md(1,(1 + Exp(-((qt_pontos_operativos_p*0.155) + ((0.1692*qt_pontos_fisio_p)-9.065))))));

	if (pr_mortalidade_w >= 0) then
		pr_mortalidade_w	:=	round((pr_mortalidade_w + 0.05)::numeric, 2);
	else
		pr_mortalidade_w	:=	round((pr_mortalidade_w - 0.05)::numeric, 2);
	end if;
	--- Fim
    RETURN coalesce(pr_mortalidade_w,0);
   
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_perc_mortal_ep_md (qt_pontos_operativos_p bigint, qt_pontos_fisio_p bigint ) FROM PUBLIC;

