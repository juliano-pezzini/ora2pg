-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION qua_obter_macro_ata (cd_tipo_p bigint) RETURNS varchar AS $body$
DECLARE


ds_retorno_w		varchar(2000);
ds_enter_w		varchar(10) := chr(13) || chr(10);

/*
Tipo diferente de 24
Número de sequência da ata
Descrição da ata
Data de reunião da ata
Responsável pela ata
Classificação da ata
Data de liberação da ata

Tipo igual a 24
Número de sequência da pendência da ata
Descrição da pendência da ata
Pessoa responsável pela pendência da ata
Observação da pendência da ata
Data prevista para a solução da pendência da ata
Data em que a pendência foi solucionada
*/
BEGIN
ds_retorno_w	:= 	'@nr_seq_ata = ' || wheb_mensagem_pck.get_texto(300659) || ds_enter_w ||
			'@ds_ata = ' || wheb_mensagem_pck.get_texto(300660) || ds_enter_w ||
			'@dt_reuniao_ata = ' || wheb_mensagem_pck.get_texto(300662) || ds_enter_w ||
			'@nm_responsavel_ata = ' || wheb_mensagem_pck.get_texto(300663) || ds_enter_w ||
			'@ds_classif_ata = ' || wheb_mensagem_pck.get_texto(300664) || ds_enter_w ||
			'@dt_liberacao_ata = ' || wheb_mensagem_pck.get_texto(300665);

if (cd_tipo_p in ('24'))  then
	begin
	ds_retorno_w :=	ds_retorno_w || ds_enter_w ||
			'@nr_seq_pend_ata = ' || wheb_mensagem_pck.get_texto(300673) || ds_enter_w ||
			'@ds_pendencia_ata = ' || wheb_mensagem_pck.get_texto(300675) || ds_enter_w ||
			'@nm_resp_pend_ata = ' || wheb_mensagem_pck.get_texto(300676) || ds_enter_w ||
			'@ds_obs_pend_ata = ' || wheb_mensagem_pck.get_texto(300677) || ds_enter_w ||
			'@dt_prev_soluc_pend_ata = ' || wheb_mensagem_pck.get_texto(300678) || ds_enter_w ||
			'@dt_conclusao_pend_ata = ' || wheb_mensagem_pck.get_texto(300679);
	end;
end if;

return ds_retorno_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION qua_obter_macro_ata (cd_tipo_p bigint) FROM PUBLIC;

