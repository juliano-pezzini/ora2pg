-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_tamanho_card_suep ( ie_tipo_item_p text) RETURNS varchar AS $body$
DECLARE

			
ie_tamanho_card_w			varchar(1) := 'P';


/*
Pequenos:

Dispositivos = DI
Sinais vitais = SV
Exames laboratoriais = EX
Programas de saúde = PS
Agendamentos = AG
Lista de pendencias = LP
Controle de glicemia = CG
Avaliação nutricinal = AN
Loco regional = LR
Escalas e índices = EI
Escalas de risco = ES


Horizontais:

Diagnósticos = CD
Lista de problemas = LI
Partograma = PA
Exames não laboratoriais = EN
Metas de cuidado = MC
Eventos = ET
Medicamentos em uso = MU
Ganhos e perdas = PG
Saude da mulher = SM
CPOE = CP

Verticais:

Notas clínicas = EV
Historia do parto = HP
Nascimento = NS
Pré-natal = PN
Amamentação = AM
Vacinas = VA
Receita ambulatorial = RA
Solicitações de exames e procedimentos = SE

Grandes:
Tratamento oncologico = TO
Lista problema (Árvore) = LA
*/
BEGIN


If (ie_tipo_item_p in ('DI','SV','EX','PS','AG','LP','CG','AN','LR','EI','ES')) then

	ie_tamanho_card_w := 'P';

elsif (ie_tipo_item_p in ('CD','LI','PA','EN','MC','ET','MU','PG','SM', 'AT')) then

	ie_tamanho_card_w := 'H';
	
elsif (ie_tipo_item_p in ('HP','NS','PN','AM','VA','RA','SE','LA', 'CP')) then

	ie_tamanho_card_w := 'V';

elsif (ie_tipo_item_p in ('EV','TO')) then

	ie_tamanho_card_w := 'G';		

end if;
/*

Retirado pois o componente somente deve buscar do cadastro

Select  nvl(max(c.VL_PROPERTY),'P')
into	ie_tamanho_card_w
from	objeto_schematic a,
		objeto_schematic b,
		dic_objeto_property c
where	a.nr_sequencia = 985039
and		b.NR_SEQ_OBJ_SUP = a.nr_Sequencia
and		c.nr_seq_obj_schematic = b.nr_sequencia
and		b.VL_ATRIBUTO_CHAVE = ie_tipo_item_p
and		obter_desc_component_property(c.nr_seq_property) = 'cardSize';*/
return	ie_tamanho_card_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_tamanho_card_suep ( ie_tipo_item_p text) FROM PUBLIC;

