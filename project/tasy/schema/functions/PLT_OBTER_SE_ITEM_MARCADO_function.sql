-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION plt_obter_se_item_marcado ( ie_tipo_item_p text, nr_seq_regra_p bigint) RETURNS varchar AS $body$
DECLARE


ie_marcado_w		varchar(1) := 'N';
ie_tipo_item_w		varchar(15);


BEGIN

select	case	ie_tipo_item_p
	when 'DI'  then '1'
	when 'D'   then '2'
	when 'O'   then '3'
	when 'HM'  then '4'
	when 'J'   then '5'
	when 'MAT' then '6'
	when 'M'   then '7'
	when 'NAN' then '8'
	when 'NPN' then '9'
	when 'NPP' then '10'
	when 'P'   then '12'
	when 'R'   then '13'
	when 'SNE' then '14'
	when 'S'   then '15'
	when 'SOL' then '16'
	when 'G'   then '18'
	when 'C'   then '18'
	when 'I'   then '19'
	when 'L'   then '20'
	when 'LD'  then '21' else ''
	end
into STRICT	ie_tipo_item_w
;

if (ie_tipo_item_w IS NOT NULL AND ie_tipo_item_w::text <> '') then
	select	coalesce(max(ie_marcado_alteracao),'N')
	into STRICT	ie_marcado_w
	from	plt_regra_ordem_item
	where	ie_tipo_item = ie_tipo_item_w
	and	nr_seq_grupo = nr_seq_regra_p;
end if;

return	ie_marcado_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION plt_obter_se_item_marcado ( ie_tipo_item_p text, nr_seq_regra_p bigint) FROM PUBLIC;

