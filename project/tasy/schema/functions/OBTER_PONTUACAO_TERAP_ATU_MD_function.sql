-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_pontuacao_terap_atu_md ( ie_ventilacao_p text, ie_catecolaminas_p text, ie_fluidos_p text, ie_cateter_p text, ie_pulmonar_cateter_p text, ie_dialise_p text, ie_pressao_intr_p text, ie_tratamento_p text, ie_especial_int_p text, ie_acao_p text ) RETURNS bigint AS $body$
DECLARE


    qt_ventilacao_w        smallint := 0;
    qt_catecolaminas_w     smallint := 0;
    qt_fluidos_w           smallint := 0;
    qt_cateter_w           smallint := 0;
    qt_pulmonar_cateter_w  smallint := 0;
    qt_dialise_w           smallint := 0;
    qt_pressao_intr_w      smallint := 0;
    qt_tratamento_w        smallint := 0;
    qt_especial_int_w      smallint := 0;
    qt_acao_w              smallint := 0;

BEGIN
    IF ( ie_ventilacao_p = 'S' ) THEN
        qt_ventilacao_w := 5;
    END IF;
    IF ( ie_catecolaminas_p = 'S' ) THEN
        qt_catecolaminas_w := 4;
    END IF;
    IF ( ie_fluidos_p = 'S' ) THEN
        qt_fluidos_w := 4;
    END IF;
    IF ( ie_cateter_p = 'S' ) THEN
        qt_cateter_w := 5;
    END IF;
    IF ( ie_pulmonar_cateter_p = 'S' ) THEN
        qt_pulmonar_cateter_w := 8;
    END IF;
    IF ( ie_dialise_p = 'S' ) THEN
        qt_dialise_w := 3;
    END IF;
    IF ( ie_pressao_intr_p = 'S' ) THEN
        qt_pressao_intr_w := 4;
    END IF;
    IF ( ie_tratamento_p = 'S' ) THEN
        qt_tratamento_w := 4;
    END IF;
    IF ( ie_especial_int_p = 'S' ) THEN
        qt_especial_int_w := 5;
    END IF;
    IF ( ie_acao_p = 'S' ) THEN
        qt_acao_w := 5;
    END IF;
    RETURN qt_ventilacao_w + qt_catecolaminas_w + qt_fluidos_w + qt_cateter_w + qt_pulmonar_cateter_w + qt_dialise_w + qt_pressao_intr_w +
           qt_tratamento_w + qt_especial_int_w + qt_acao_w;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_pontuacao_terap_atu_md ( ie_ventilacao_p text, ie_catecolaminas_p text, ie_fluidos_p text, ie_cateter_p text, ie_pulmonar_cateter_p text, ie_dialise_p text, ie_pressao_intr_p text, ie_tratamento_p text, ie_especial_int_p text, ie_acao_p text ) FROM PUBLIC;

