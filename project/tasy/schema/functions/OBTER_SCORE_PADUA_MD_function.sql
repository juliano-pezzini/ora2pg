-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE FUNCTION obter_score_padua_md ( ie_cancer_ativo_p text, ie_tev_previo_p text, ie_mobilidade_reduzida_p text, ie_condicao_trombofilia_p text, ie_trauma_cirurgia_recente_p text, ie_idade_avancada_p text, ie_parada_card_resp_p text, ie_infarto_avc_p text, ie_infeccao_reumato_p text, ie_obesidade_p text, ie_tratamento_hormonal_p text ) RETURNS bigint AS $body$
DECLARE

qt_score_w smallint;

BEGIN
qt_score_w := 0;

if (ie_cancer_ativo_p = 'S') then
  qt_score_w := qt_score_w + 3;
end if;

if (ie_tev_previo_p = 'S') then
  qt_score_w := qt_score_w + 3;
end if;

if (ie_mobilidade_reduzida_p = 'S') then
  qt_score_w := qt_score_w + 3;
end if;

if (ie_condicao_trombofilia_p = 'S') then
  qt_score_w := qt_score_w + 3;
end if;

if (ie_trauma_cirurgia_recente_p = 'S') then
  qt_score_w := qt_score_w + 2;
end if;

if (ie_idade_avancada_p = 'S') then
  qt_score_w := qt_score_w + 1;
end if;

if (ie_parada_card_resp_p = 'S') then
  qt_score_w := qt_score_w + 1;
end if;

if (ie_infarto_avc_p = 'S') then
  qt_score_w := qt_score_w + 1;
end if;

if (ie_infeccao_reumato_p = 'S') then
  qt_score_w := qt_score_w + 1;
end if;

if (ie_obesidade_p = 'S') then
  qt_score_w := qt_score_w + 1;
end if;

if (ie_tratamento_hormonal_p = 'S') then
  qt_score_w := qt_score_w + 1;
end if;
    return qt_score_w;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION obter_score_padua_md ( ie_cancer_ativo_p text, ie_tev_previo_p text, ie_mobilidade_reduzida_p text, ie_condicao_trombofilia_p text, ie_trauma_cirurgia_recente_p text, ie_idade_avancada_p text, ie_parada_card_resp_p text, ie_infarto_avc_p text, ie_infeccao_reumato_p text, ie_obesidade_p text, ie_tratamento_hormonal_p text ) FROM PUBLIC;

