-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


CREATE OR REPLACE FUNCTION ora2pg_upd_autoincrement_seq (tbname text, colname text) RETURNS VOID AS $body$
DECLARE
        query text;
        maxval bigint;
        seqname text;
BEGIN
        query := 'SELECT max(' || colname || ')+1 FROM ' || tbname || '';
        EXECUTE query INTO maxval;
        IF (maxval IS NOT NULL) THEN

		query := $$SELECT pg_get_serial_sequence ('$$|| tbname || $$', '$$ || colname || $$');$$;

                EXECUTE query INTO seqname;
                IF (seqname IS NOT NULL) THEN
                        query := 'ALTER SEQUENCE ' || seqname || ' RESTART WITH ' || maxval;
                        EXECUTE query;
                END IF;
        ELSE
                RAISE NOTICE 'Table % is empty, you must load the AUTOINCREMENT file after data import.', tbname;
        END IF;
END;
$body$
LANGUAGE PLPGSQL;

SELECT ora2pg_upd_autoincrement_seq('DF_AGENDA_INTEGRADA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_AGENTE_ANEST_MATERIAL','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATENDIMENTO_ALTA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATENDIMENTO_ANOT_ENF','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATENDIMENTO_PACIENTE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATENDIMENTO_PERDA_GANHO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATENDIMENTO_PRECAUCAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATENDIMENTO_SINAL_VITAL','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATEND_CATEGORIA_CONVENIO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATEND_ESCALA_INDICE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATEND_PACIENTE_UNIDADE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATEND_PREVISAO_ALTA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATEND_SUMARIO_ALTA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATEND_SUMARIO_ALTA_RESUMO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ATESTADO_PACIENTE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_AVAL_NUTRICAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_AVAL_PRE_ANESTESICA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_CID_CATEGORIA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_CIRURGIA_AGENTE_ANESTESICO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_CLASSIF_ESPECIAL_PAC_ESTAB','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_CM_CONJUNTO_CONT','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_CPOE_COMMENT_LINKAGE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_CUR_CURATIVO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_CUR_FERIDA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_DIAGNOSTICO_DOENCA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_DIETA_PERFIL_CALORICO_NUT','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_DIRETRIZ_ATENDIMENTO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_DISPOSITIVO_PROC_INTERNO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_EHR_REGISTRO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_EQUIPAMENTO_CIRURGIA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ESCALA_CHUNG','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_ESCALA_EIF_II','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_EVOLUCAO_PACIENTE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_EXAME_LAB_RESULTADO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_EXAME_LAB_RESULT_ITEM','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_FAR_ETAPA_PRODUCAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_FA_RECEITA_FARMACIA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_FA_RECEITA_FARMACIA_ITEM','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_FUNCAO_PARAM_PERFIL','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_FUNCAO_PARAM_USUARIO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_GER_CARGA_INICIAL','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_GRUPO_ESCALA_INDICE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_HISTORICO_SAUDE_CIRURGIA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_HISTORICO_SAUDE_INTERNACAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_LAB_REGRA_ACESSO_PROT_EXT','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_MED_AVALIACAO_PACIENTE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_MED_AVALIACAO_PAC_ANEXO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_MED_PERMISSAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_MED_RECEITA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_MED_TIPO_AVALIACAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_NUT_ATEND_SERV_DIA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_OBJ_SCHEM_ESTAB','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_OBJ_SCHEM_USUARIO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PACIENTE_ALERGIA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PACIENTE_AMPUTACAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PACIENTE_ANTEC_CLINICO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PACIENTE_HABITO_VICIO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PACIENTE_MEDIC_USO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PARAMETROS_EPISODIO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PARAMETRO_DRG','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PARECER_MEDICO_REQ','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PEPO_PELE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PEP_PAC_CI','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PERFIL','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PERFIL_ITEM_PRONT','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PESSOA_CLASSIF','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PE_DIAGNOSTICO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PE_PRESCRICAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PE_PRESCR_PROC','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PF_TIPO_DEFICIENCIA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_POSICAO_CIRURGIA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PRESCR_MATERIAL','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PRESCR_MEDICA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PROC_PAC_DESCRICAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PROFISSIONAL_ESPECIALIDADE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_PROTOCOLO_INTEGRADO_VARIAN','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_QUA_EVENTO_PACIENTE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_QUA_REGRA_TEXT_PAD_EVENTO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_REGRA_PRESCR_PROCEDIMENTO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_RELATORIO_PERFIL','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_SETOR_TIPO_ACOMODACAO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_SUBTIPO_EPISODIO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_TABELA_ATRIB_REGRA','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_TABELA_CRUD_PARAM','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_TIPO_ADMISSAO_FAT_ESTAB','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_TIPO_EPISODIO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_TIPO_EPISODIO_ESTAB','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_TIPO_SIST_CORPO_HUMANO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_USER_LOCALE','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_USUARIO_ESTABELECIMENTO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_USUARIO_PERFIL','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_USUARIO_RELATORIO','NR_SEQ_DIALECT_FIELD');
SELECT ora2pg_upd_autoincrement_seq('DF_WL_PERFIL','NR_SEQ_DIALECT_FIELD');
DROP FUNCTION ora2pg_upd_autoincrement_seq(text, text);
