-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';


procedure tasy_dtr_tables is
  


CREATE OR REPLACE PROCEDURE exec_cmd (p_cmd text) AS $body$
BEGIN
    EXECUTE p_cmd;
  exception
    when others then
      null;
  end;
begin
  CALL exec_cmd('drop table atualiza_versao_cmd');
  CALL exec_cmd('create table atualiza_versao_cmd
(
  nr_seq            number,
  ds_comando        clob,
  nr_fase           number,
  fl_execucao       varchar2(50),
  ds_erro           varchar2(4000),
  ds_operacao       varchar2(128),
  nm_tablespace     varchar2(128),
  nm_objeto         varchar2(128),
  tipo_objeto       varchar2(128),
  dt_ini            date,
  dt_fim            date,
  parallel_degree   number(10),
  exported_table    varchar2(10),
  nr_execucao       number,
  ds_fase           varchar2(100),
  nm_job            varchar2(256),
  ds_log            clob,
  qt_reg_exp_table  number,
  cd_versao_origem  varchar2(50),
  cd_versao_destino varchar2(50),
  nr_service_pack   number,
  nr_ordem_sp       number,
  nr_fase_sp        number,
  nr_release_sp     number,
  nr_sequencia_sp   number,
  nm_tabela         varchar2(200),
  ds_comando_exec   clob,
  nr_sp_informado   number,
  fl_ready_to_upg varchar2(1),
  fl_update_running varchar2(1),
  fl_send_traceability varchar2(1)
)');

  CALL exec_cmd('drop table objeto_sistema_dtr');
  CALL exec_cmd('create table objeto_sistema_dtr(nm_objeto varchar2(50), dt_atualizacao date, nr_sequencia number(10), ie_tipo_objeto varchar2(15), ds_script_criacao clob, ds_aplicacao varchar2(15), cd_cnpj varchar2(30), nm_produto varchar2(100))');
  CALL exec_cmd('create index idx_objsisdtr_03 on objeto_sistema_dtr(dt_atualizacao)');
end;
$body$
LANGUAGE PLPGSQL
;
-- REVOKE ALL ON PROCEDURE exec_cmd (p_cmd text) FROM PUBLIC;

