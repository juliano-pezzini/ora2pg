-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pls_oc_cta_aplica_validacao ( dados_regra_p pls_tipos_ocor_pck.dados_regra, nr_id_transacao_p pls_selecao_ocor_cta.nr_id_transacao%type, dados_forma_geracao_ocor_p pls_tipos_ocor_pck.dados_forma_geracao_ocor, cd_estabelecimento_p estabelecimento.cd_estabelecimento%type, nm_usuario_p usuario.nm_usuario%type) AS $body$
DECLARE



/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade:   Ir? realizar a chamada para a rotina de valida??o conforme a valida??o selecionada na regra.
-------------------------------------------------------------------------------------------------------------------

Locais de chamada direta: 
[ X]  Objetos do dicion?rio [ ] Tasy (Delphi/Java) [  ] Portal [  ]  Relat?rios [ ] Outros:
 ------------------------------------------------------------------------------------------------------------------

Pontos de aten??o:

Tomar cuidado ao criar uma nova rotina para que sejam verificados todos os registros da tabela 
PLS_SELECAO_OCOR_CTA.
Tomar cuidado com a manuten??o dos registros na tabela PLS_SELECAO_OCOR_CTA, utilizar sempre a 
rotina PLS_TIPOS_OCOR_PCK.GERENCIA_REGISTRO_SELECAO;
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
BEGIN
-- Deve ter informa??o da regra para executar algo
if (dados_regra_p.nr_sequencia IS NOT NULL AND dados_regra_p.nr_sequencia::text <> '') then

	-- jjung - 16/09/2013 - Alterado para case pois o c?digo fica mais leg?vel.
	case(dados_regra_p.ie_validacao) 
		/* Somente filtros
		se for somente filtros n?o ? realizado manuten??o em lugar algum e apenas gerado a ocorr?ncia para todos os itens da tabela de sele??o */
		when 1 then 
			null;
		-- Valida carteira do benefici?rio
		when 2 then
			pls_oc_cta_tratar_val_2(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Valida sexo exclusivo do procedimento
		when 3 then
			pls_oc_cta_tratar_val_3(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar exig?ncia de procedimento
		when 5 then
			pls_oc_cta_tratar_val_5(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar item no per?odo de interna??o
		when 6 then
			pls_oc_cta_tratar_val_6(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar itens autorizados por?m n?o utilizados
		when 7 then
			pls_oc_cta_tratar_val_7(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar exig?ncia de senha externa
		when 8 then
			pls_oc_cta_tratar_val_8(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar prestador inativo
		when 9 then
			pls_oc_cta_tratar_val_9(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar benefici?rio da autoriza??o
		when 10 then
			pls_oc_cta_tratar_val_10(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar exig?ncia de hora do item
		when 11 then
			pls_oc_cta_tratar_val_11(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar restri??es do material
		when 12 then
			pls_oc_cta_tratar_val_12(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar informa??es nascimento vs declara??es
		when 13 then
			pls_oc_cta_tratar_val_13(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar se existem itens na conta que fazem parte da composi??o do pacote lan?ado
		when 14 then
			pls_oc_cta_tratar_val_14(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar coparticipa??o dos itens
		when 15 then
			pls_oc_cta_tratar_val_15(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar quantidade fracionada do item
		when 16 then
			pls_oc_cta_tratar_val_16(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar regra de valor de custo operacional
		when 17 then
			pls_oc_cta_tratar_val_17(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar valores A500
		when 18 then
			pls_oc_cta_tratar_val_18(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar caracter?sticas do profissional
		when 19 then 
			pls_oc_cta_tratar_val_19(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar caracter?sticas do CBO
		when 20 then
			pls_oc_cta_tratar_val_20(dados_regra_p,  nr_id_transacao_p, nm_usuario_p);
		--Validar prazo de envio da conta
		when 21 then
			pls_oc_cta_tratar_val_21(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar n?mero da senha informado diferente do liberado
		when 22 then
			pls_oc_cta_tratar_val_22(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar utiliza??o de itens
		when 23 then
			pls_oc_cta_tratar_val_23(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
			/* Se houver algum problema com alguma das rotinas chamadas pela rotina acima (PLS_OC_CTA_TRATAR_VAL_23), favor utilizar a rotina abaixo (PLS_OC_CTA_TRATAR_VAL_23_ANT). 
			A rotina acima foi criada para que o DBMS_SQL fosse substitu?do pelo SQL_PCK. (Ajustes realizados em maio de 2014 - OS 729767)*/

			--pls_oc_cta_tratar_val_23_ant(dados_regra_p, nr_id_transacao_p, nm_usuario_p);      

		--Validar valoriza??o do item apresentado, glosa 9919
		when 24 then
			pls_oc_cta_tratar_val_24(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar profissional solicitante n?o informado
		when 25 then
			pls_oc_cta_tratar_val_25(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar prazo para a cobran?a da taxa de interc?mbio
		when 26 then
			pls_oc_cta_tratar_val_26(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar limita??es contratuais
		when 27 then
			pls_oc_cta_tratar_val_27(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar valor apresentado a maior
		when 28 then
			pls_oc_cta_tratar_val_28(dados_regra_p, nr_id_transacao_p, dados_forma_geracao_ocor_p, cd_estabelecimento_p, nm_usuario_p);
		--Validar valor apresentado a menor
		when 29 then
			pls_oc_cta_tratar_val_29(dados_regra_p, nr_id_transacao_p, dados_forma_geracao_ocor_p, nm_usuario_p);
		--Validar libera??o do material pelo prestador
		when 30 then
			pls_oc_cta_tratar_val_30(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar se existe informa??o sobre a tabela que ser? utilizada na valora??o
		when 31 then
			pls_oc_cta_tratar_val_31(dados_regra_p, nr_id_transacao_p, cd_estabelecimento_p, nm_usuario_p);
		-- Validar itens simultaneos e concorrentes
		when 32 then
			pls_oc_cta_tratar_val_32(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar situa??o do m?dico executor
		when 34 then
			pls_oc_cta_tratar_val_34(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar datas da conta
		when 35 then
			pls_oc_cta_tratar_val_35(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		when 36 then
			pls_oc_cta_tratar_val_36(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar exig?ncia de prestador fornecedor
		when 38 then
			pls_oc_cta_tratar_val_38(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar a quantidade de auxiliares
		when 39 then
			pls_oc_cta_tratar_val_39(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar procedimento x especialidade
		when 40 then
			pls_oc_cta_tratar_val_40(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar datas do item
		when 41 then
			pls_oc_cta_tratar_val_41(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar regra atributo conta
		when 42 then
			pls_oc_cta_tratar_val_42(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar se existe informa??o sobre a tabela que ser? utilizada na valora??o
		when 43 then
			pls_oc_cta_tratar_val_43(dados_regra_p, nr_id_transacao_p, cd_estabelecimento_p, nm_usuario_p);
		-- Validar regra de participantes
		when 45 then
			pls_oc_cta_tratar_val_45(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar quantidade de itens
		when 46 then
			pls_oc_cta_tratar_val_46(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar procedimento x grau de participa??o
		when 47 then
			pls_oc_cta_tratar_val_47(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar apresenta??o do documento f?sico
		when 48 then
			pls_oc_cta_tratar_val_48(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar quantidade de itens
		when 49 then
			pls_oc_cta_tratar_val_49(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar solicita??o de libera??o de mat/med
		when 50 then
			pls_oc_cta_tratar_val_50(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar se a guia possui liminar judicial
		when 51 then
			pls_oc_cta_tratar_val_51(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar se procedimento est? habilitado para o prestador
		when 52 then
			pls_oc_cta_tratar_val_52(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar duplicidade de itens
		when 53 then
			pls_oc_cta_tratar_val_53(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar car?ncia de servi?o
		when 54 then
			pls_oc_cta_tratar_val_54(dados_regra_p, nr_id_transacao_p, cd_estabelecimento_p, nm_usuario_p);
		-- Validar libera??o do item por caracter?sticas da conta
		when 55 then
			pls_oc_cta_tratar_val_55(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar prestador solicitante n?o informado
		when 56 then
			pls_oc_cta_tratar_val_56(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar regra de correla??o de itens
		when 57 then
			pls_oc_cta_tratar_val_57(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar guia autorizada
		when 58 then
			pls_oc_cta_tratar_val_58(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar regra datas do protocolo
		when 60 then
			pls_oc_cta_tratar_val_60(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar se prestador solicitante ? igual ao da requisi??o
		when 61 then
			pls_oc_cta_tratar_val_61(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Valida guia refer?ncia conforme TISS
		when 62 then
			pls_oc_cta_tratar_val_62(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar apresenta??o de contas enquanto benefici?rio internado
		when 63 then
			pls_oc_cta_tratar_val_63(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar CBO do participante
		when 65 then
			pls_oc_cta_tratar_val_65(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar data faturamento guia de honor?rio individual
		when 66 then
			pls_oc_cta_tratar_val_66(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar regra de atributo do item
		when 67 then
			pls_oc_cta_tratar_val_67(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Valida vig?ncia itens
		when 68 then
			pls_oc_cta_tratar_val_68(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar itens da conta m?dica
		when 69 then
			pls_oc_cta_tratar_val_69(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar via de acesso obrigat?ria
		when 70 then
			pls_oc_cta_tratar_val_70(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar a??es sobre os itens na an?lise
		when 71 then
			pls_oc_cta_tratar_val_71(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar guias para controle da produ??o m?dica
		when 72 then
			pls_oc_cta_tratar_val_72(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar unidade de medida materiais
		when 73 then
			pls_oc_cta_tratar_val_73(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar valores limite do atendimento 
		when 74 then
			pls_oc_cta_tratar_val_74(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar exig?ncia de auditoria
		when 75 then
			pls_oc_cta_tratar_val_75(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar se o profissional executante est? vinculado ao prestador executor
		when 76 then
			pls_oc_cta_tratar_val_76(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar classifica??o do porte do item
		when 78 then
			pls_oc_cta_tratar_val_78(dados_regra_p, nr_id_transacao_p, nm_usuario_p, cd_estabelecimento_p);
		--Validar senha de itens		
		when 79 then
			pls_oc_cta_tratar_val_79(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar a suspens?o de atendimento da operadora
		when 80 then
			pls_oc_cta_tratar_val_80(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar se o profissional executante est? vinculado ao prestador participante
		when 81 then
			pls_oc_cta_tratar_val_81(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar rescis?o do benefici?rio conforme item da conta
		when 82 then
			pls_oc_cta_tratar_val_82(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar rescis?o do benefici?rio conforme item da conta
		when 83 then
			pls_oc_cta_tratar_val_83(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		when 84 then
			pls_oc_cta_tratar_val_84(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar valores do itens
		when 85 then
			pls_oc_cta_tratar_val_85(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar CNES do prestador
		when 86 then
			pls_oc_cta_tratar_val_86(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar libera??o usu?rio prestador web
		when 87 then
			pls_oc_cta_tratar_val_87(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Regra de refer?ncia de itens
		when 88 then
			pls_oc_cta_tratar_val_88(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar regime de interna??o
		when 89 then
			pls_oc_cta_tratar_val_89(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar n?mero da guia
		when 90 then
			pls_oc_cta_tratar_val_90(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar n?mero da guia
		when 91 then
			pls_oc_cta_tratar_val_91(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar notas fiscais duplicadas	
		when 92 then
			pls_oc_cta_tratar_val_92(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Valida per?odo idade benefici?rio
		when 93 then
			pls_oc_cta_tratar_val_93(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--V?lidar duplicidade de cobran?a	
		when 94 then
			pls_oc_cta_tratar_val_94(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar dados de Obito na conta
		when 95 then
			pls_oc_cta_tratar_val_95(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Valida conta principal x guia na autoriza??o	
		when 96	then
			pls_oc_cta_tratar_val_96(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Valida prestador x prestador 
		when 97 then
			pls_oc_cta_tratar_val_97(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Valida guia vinculada
		when 98 then
			pls_oc_cta_tratar_val_98(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Valida itens grupo procedimento incidente
		when 99 then
			pls_oc_cta_tratar_val_99(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Valida tempo de execu??o do item
		when 100 then
			pls_oc_cta_tratar_val_100(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Valida tipo de tabela do material
		when 101 then
			pls_oc_cta_tratar_val_101(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Valida semelhan?a do item na autoriza??o
		when 102 then
			pls_oc_cta_tratar_val_102(dados_regra_p, nr_id_transacao_p, cd_estabelecimento_p, nm_usuario_p);
		-- Valida os documentos vencidos do prestador		
		when 103 then
			pls_oc_cta_tratar_val_103(dados_regra_p, nr_id_transacao_p, cd_estabelecimento_p, nm_usuario_p);
		-- Validar informa??es do interc?mbio
		when 104 then
			pls_oc_cta_tratar_val_104(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar utiliza??o de itens no per?odo de interna??o
		when 105 then
			pls_oc_cta_tratar_val_105(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Valida afastamento cooperado
		when 106 then
			pls_oc_cta_tratar_val_106(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		-- Validar n?mero da senha
		when 107 then
			pls_oc_cta_tratar_val_107(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar a empresa do benefici?rio suspensa
		when 108 then
			pls_oc_cta_tratar_val_108(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Operadora inv?lida
		when 109 then
			pls_oc_cta_tratar_val_109(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar dados benefici?rio
		when 110 then
			pls_oc_cta_tratar_val_110(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar quantidade de di?ria X perman?ncia hospitalar
		when 111 then
			pls_oc_cta_tratar_val_111(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar cobertura procedimento
		when 112 then
			pls_oc_cta_tratar_val_112(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		when 113 then
			pls_oc_cta_tratar_val_113(dados_regra_p, nr_id_transacao_p, nm_usuario_p);
		--Validar dados da autorizacao
		when 114 then
			pls_oc_cta_tratar_val_114(dados_regra_p, nr_id_transacao_p,cd_estabelecimento_p, nm_usuario_p);
		--Validar CID
		when 115 then
			pls_oc_cta_tratar_val_115(dados_regra_p, nr_id_transacao_p,cd_estabelecimento_p, nm_usuario_p);
		
		--Validar participacao na apresentacao de contas x execucao cirurgica.
		when 116 then
			pls_oc_cta_tratar_val_116(dados_regra_p, nr_id_transacao_p,cd_estabelecimento_p, nm_usuario_p);
		else	
			null;
	end case;
end if;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_oc_cta_aplica_validacao ( dados_regra_p pls_tipos_ocor_pck.dados_regra, nr_id_transacao_p pls_selecao_ocor_cta.nr_id_transacao%type, dados_forma_geracao_ocor_p pls_tipos_ocor_pck.dados_forma_geracao_ocor, cd_estabelecimento_p estabelecimento.cd_estabelecimento%type, nm_usuario_p usuario.nm_usuario%type) FROM PUBLIC;

