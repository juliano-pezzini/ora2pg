-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_inf_proc_participante_ge ( nr_interno_conta_p bigint, dt_procedimento_p timestamp, cd_setor_atendimento_p bigint, cd_convenio_p bigint, cd_pessoa_fisica_p text, ie_medico_conv_p text, ie_especialidade_p text, nm_usuario_p text, cd_especialidade_p INOUT text, cd_medico_conv_p INOUT text) AS $body$
BEGIN
-- Usada na Gest√£o de exames Swing 
 
cd_especialidade_p 	:= '';
cd_medico_conv_p	:= '';
 
if (ie_especialidade_p = 'S') then 
	cd_especialidade_p := obter_especialidade_medico(cd_pessoa_fisica_p, 'C');
end if;
 
if (ie_medico_conv_p = 'S') then 
	cd_medico_conv_p := obter_medico_convenio(Obter_Estab_Conta_Paciente(nr_interno_conta_p), cd_pessoa_fisica_p, cd_convenio_p, '', '', '', cd_setor_atendimento_p, dt_procedimento_p, null, null, null);
end if;
 
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_inf_proc_participante_ge ( nr_interno_conta_p bigint, dt_procedimento_p timestamp, cd_setor_atendimento_p bigint, cd_convenio_p bigint, cd_pessoa_fisica_p text, ie_medico_conv_p text, ie_especialidade_p text, nm_usuario_p text, cd_especialidade_p INOUT text, cd_medico_conv_p INOUT text) FROM PUBLIC;

