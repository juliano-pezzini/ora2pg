-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE duplicar_param_conta_pagar ( cd_estabelecimento_p bigint, nm_usuario_p text ) AS $body$
DECLARE


cont_w	bigint;


BEGIN
insert into PARAMETROS_CONTAS_PAGAR(CD_ESTABELECIMENTO,
	DT_ATUALIZACAO,
	NM_USUARIO,
	PR_JURO_PADRAO,
	PR_MULTA_PADRAO,
	CD_TIPO_TAXA_JURO,
	CD_TIPO_TAXA_MULTA,
	CD_MOEDA_PADRAO,
	CD_TIPO_BAIXA_PADRAO,
	CD_TIPO_BAIXA_DEVOLUCAO,
	CD_TIPO_BAIXA_ESTORNO,
	CD_BENEFICIARIO_IR,
	CD_TRIBUTO_IR,
	CD_CONTA_CONTABIL_IR,
	NR_SEQ_CONTA_FIN_IR,
	IE_EXIGE_LIBERACAO,
	IE_VENCIMENTO_IR,
	NR_SEQ_TRANS_REPASSE,
	NR_SEQ_TRANS_GLOSA_REP,
	NR_SEQ_TRANS_BAIXA_REP,
	NR_SEQ_TRANS_BORDERO,
	IE_BENEF_BAIXA_CONTAB,
	IE_TIT_CONTAB_BAIXA,
	IE_GERAR_MOVTO_BCO_BAIXA,
	IE_BENEF_ORIG_TRIB_CONTAB,
	NR_SEQ_TRANS_ADIANT,
	IE_TRIB_ATUALIZA_SALDO,
	IE_GERAR_CONTAB_REG_TIT,
	IE_CONTA_ANALITICO,
	IE_HIST_FORNEC_BANCO,
	NR_SEQ_TRANS_MAIOR_REP,
	DT_ATUALIZACAO_NREC,
	NM_USUARIO_NREC,
	IE_DESC_BORD_COMPL_CTB,
	IE_CONTAB_IMPOSTO,
	IE_CC_REP_MAIOR_GLOSA,
	IE_CONTAB_DOC_PAGAMENTO,
	IE_CONTAB_CLASSIF,
	NR_SEQ_TRANS_FIN_ABAT,
	IE_ADIANT_LIQ_TIT,
	IE_BORDERO_BANCO,
	NR_SEQ_TRANS_CHEQUE_CP,
	IE_CC_REPASSE,
	IE_BAIXA_CONTAB,
	IE_DT_CONTAB_TIT_REPASSE,
	IE_DT_MOVTO_CONTAB_TIT_REP,
	DT_EMISSAO_INICIAL,
	DT_EMISSAO_FINAL,
	IE_DT_TIT_TRIB_ORIG,
	NR_SEQ_TRANS_FIN_TRANSF,
	IE_BAIXA_LOTE_CONTAB,
	IE_CONTAB_TIT_CANCELADO,
	IE_DT_CONTAB_TIT_TRIB,
	NR_SEQ_TRANS_TIT_BORDERO,
	IE_DT_CONTAB_TIT_NOTA,
	IE_SALDO_BAIXA_BCO,
	NR_TRANS_FIN_BAIXA_NF,
	NR_TRANS_FIN_CONTAB_NF,
	IE_ORIGEM_TIT_OC,
	NR_SEQ_TRANS_FIN_OC,
	IE_TIPO_TITULO_NF_BLOQ,
	CD_CONTA_FINANC_FRETE,
	IE_DATA_CONTAB_TIT_REP,
	CD_CONTA_CONTABIL_FRETE,
	IE_EXC_BORDERO_CONTAB,
	IE_COMPL_HISTORICO,
	NR_SEQ_TRANS_FIN_DESDOB,
	IE_CANC_TIT_CONTAB,
	IE_CONTAB_TIT_DESDOB,
	IE_ALTERA_VALOR_TIT_ESCRIT,
	IE_COMPL_HISTORICO_REP,
	IE_CONTAB_TRANS_FIN_BAIXA,
	IE_CONTAB_TIT_ADIANT,
	IE_DEVOLUCAO_NF,
	NR_SEQ_TRANS_BAIXA_ADIANT,
	IE_CONFERE_CHEQUE,
	IE_CONTA_CONTABIL_BAIXA,
	IE_CONTAB_ITEM_TIT_REP,
	IE_FORMA_FECHAMENTO,
	IE_LIB_BORDERO,
	IE_DEDUZIR_ORDEM_ADIANT,
	IE_GERAR_CLASSIF_BAIXA,
	IE_DT_MOVTO_CONTAB_CP,
	IE_CONTAB_VL_ORIGINAL,
	IE_CONTAB_CLASSIF_BAIXA,
	IE_CONTAB_TIT_BLOQUETO,
	IE_COMPENSAR_CHEQUE_CONCIL,
	IE_LIB_BANCO_ESCRIT,
	IE_CONTAB_ADIANT_DEV_CP,
	IE_CONTAB_ITEM_REP_LIQ,
	IE_CONTAB_TIT_REP_DESDOB,
	CD_TIPO_BAIXA_ABAT,
	CD_PF_SOLIC_NC,
	CD_CGC_SOLIC_NC,
	IE_ORIGEM_TIT_CONTRATO,
	IE_PERIODO_CONTAB_TIT_REP,
	NR_SEQ_TF_CP_GRC,
	IE_VINC_ADIANT_NF_DEV,
	IE_CONTAB_CP_ESTAB,
	IE_TRIB_ORDEM_TIT_PAGAR,
	IE_CONTAB_REPASSE_VENC)
SELECT	distinct
	b.CD_ESTABELECIMENTO,
	clock_timestamp(),
	NM_USUARIO_P,
	PR_JURO_PADRAO,
	PR_MULTA_PADRAO,
	CD_TIPO_TAXA_JURO,
	CD_TIPO_TAXA_MULTA,
	CD_MOEDA_PADRAO,
	CD_TIPO_BAIXA_PADRAO,
	CD_TIPO_BAIXA_DEVOLUCAO,
	CD_TIPO_BAIXA_ESTORNO,
	CD_BENEFICIARIO_IR,
	CD_TRIBUTO_IR,
	CD_CONTA_CONTABIL_IR,
	NR_SEQ_CONTA_FIN_IR,
	IE_EXIGE_LIBERACAO,
	IE_VENCIMENTO_IR,
	NR_SEQ_TRANS_REPASSE,
	NR_SEQ_TRANS_GLOSA_REP,
	NR_SEQ_TRANS_BAIXA_REP,
	NR_SEQ_TRANS_BORDERO,
	IE_BENEF_BAIXA_CONTAB,
	IE_TIT_CONTAB_BAIXA,
	IE_GERAR_MOVTO_BCO_BAIXA,
	IE_BENEF_ORIG_TRIB_CONTAB,
	NR_SEQ_TRANS_ADIANT,
	IE_TRIB_ATUALIZA_SALDO,
	IE_GERAR_CONTAB_REG_TIT,
	IE_CONTA_ANALITICO,
	IE_HIST_FORNEC_BANCO,
	NR_SEQ_TRANS_MAIOR_REP,
	clock_timestamp(),
	NM_USUARIO_P,
	IE_DESC_BORD_COMPL_CTB,
	IE_CONTAB_IMPOSTO,
	IE_CC_REP_MAIOR_GLOSA,
	IE_CONTAB_DOC_PAGAMENTO,
	IE_CONTAB_CLASSIF,
	NR_SEQ_TRANS_FIN_ABAT,
	IE_ADIANT_LIQ_TIT,
	IE_BORDERO_BANCO,
	NR_SEQ_TRANS_CHEQUE_CP,
	IE_CC_REPASSE,
	IE_BAIXA_CONTAB,
	IE_DT_CONTAB_TIT_REPASSE,
	IE_DT_MOVTO_CONTAB_TIT_REP,
	DT_EMISSAO_INICIAL,
	DT_EMISSAO_FINAL,
	IE_DT_TIT_TRIB_ORIG,
	NR_SEQ_TRANS_FIN_TRANSF,
	IE_BAIXA_LOTE_CONTAB,
	IE_CONTAB_TIT_CANCELADO,
	IE_DT_CONTAB_TIT_TRIB,
	NR_SEQ_TRANS_TIT_BORDERO,
	IE_DT_CONTAB_TIT_NOTA,
	IE_SALDO_BAIXA_BCO,
	NR_TRANS_FIN_BAIXA_NF,
	NR_TRANS_FIN_CONTAB_NF,
	IE_ORIGEM_TIT_OC,
	NR_SEQ_TRANS_FIN_OC,
	IE_TIPO_TITULO_NF_BLOQ,
	CD_CONTA_FINANC_FRETE,
	IE_DATA_CONTAB_TIT_REP,
	CD_CONTA_CONTABIL_FRETE,
	IE_EXC_BORDERO_CONTAB,
	IE_COMPL_HISTORICO,
	NR_SEQ_TRANS_FIN_DESDOB,
	IE_CANC_TIT_CONTAB,
	IE_CONTAB_TIT_DESDOB,
	IE_ALTERA_VALOR_TIT_ESCRIT,
	IE_COMPL_HISTORICO_REP,
	IE_CONTAB_TRANS_FIN_BAIXA,
	IE_CONTAB_TIT_ADIANT,
	IE_DEVOLUCAO_NF,
	NR_SEQ_TRANS_BAIXA_ADIANT,
	IE_CONFERE_CHEQUE,
	IE_CONTA_CONTABIL_BAIXA,
	IE_CONTAB_ITEM_TIT_REP,
	IE_FORMA_FECHAMENTO,
	IE_LIB_BORDERO,
	IE_DEDUZIR_ORDEM_ADIANT,
	IE_GERAR_CLASSIF_BAIXA,
	IE_DT_MOVTO_CONTAB_CP,
	IE_CONTAB_VL_ORIGINAL,
	IE_CONTAB_CLASSIF_BAIXA,
	IE_CONTAB_TIT_BLOQUETO,
	IE_COMPENSAR_CHEQUE_CONCIL,
	IE_LIB_BANCO_ESCRIT,
	IE_CONTAB_ADIANT_DEV_CP,
	IE_CONTAB_ITEM_REP_LIQ,
	IE_CONTAB_TIT_REP_DESDOB,
	CD_TIPO_BAIXA_ABAT,
	CD_PF_SOLIC_NC,
	CD_CGC_SOLIC_NC,
	IE_ORIGEM_TIT_CONTRATO,
	IE_PERIODO_CONTAB_TIT_REP,
	NR_SEQ_TF_CP_GRC,
	IE_VINC_ADIANT_NF_DEV,
	IE_CONTAB_CP_ESTAB,
	IE_TRIB_ORDEM_TIT_PAGAR,
	IE_CONTAB_REPASSE_VENC
from	estabelecimento b,
	PARAMETROS_CONTAS_PAGAR a
where	a.cd_estabelecimento	<> b.cd_estabelecimento
and	a.cd_estabelecimento	= cd_estabelecimento_p
and	not exists (select 1 from PARAMETROS_CONTAS_PAGAR x where x.cd_estabelecimento = b.cd_estabelecimento);

commit;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE duplicar_param_conta_pagar ( cd_estabelecimento_p bigint, nm_usuario_p text ) FROM PUBLIC;

