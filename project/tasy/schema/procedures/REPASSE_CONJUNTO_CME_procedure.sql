-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE repasse_conjunto_cme ( tag_p bigint, cd_local_estoque_p bigint, cd_setor_atend_p bigint, cd_pessoa_fisica_p text, dt_saida_p timestamp, nr_sequencia_p bigint, nm_usuario_p text) AS $body$
BEGIN


if (tag_p = 1) then
	begin

	update cm_conjunto_cont
	set cd_local_estoque = cd_local_estoque_p,
	cd_pessoa_fisica  = NULL,
	cd_cgc   = NULL,
	cd_setor_atend_dest  = NULL,
	dt_saida = dt_saida_p,
	nm_usuario_saida = nm_usuario_p
	where  nr_sequencia = nr_sequencia_p;

	end;
elsif (tag_p = 2) then
	begin

	update cm_conjunto_cont
	set cd_setor_atend_dest = cd_setor_atend_p,
	cd_local_estoque  = NULL,
	cd_pessoa_fisica  = NULL,
	cd_cgc  = NULL,
	dt_saida = dt_saida_p,
	nm_usuario_saida = nm_usuario_p
	where  nr_sequencia = nr_sequencia_p;

	end;
elsif (tag_p = 3) then
	begin

	update cm_conjunto_cont
	set cd_pessoa_fisica    = cd_pessoa_fisica_p,
	cd_local_estoque  = NULL,
	cd_setor_atend_dest  = NULL,
	cd_cgc  = NULL,
	dt_saida = dt_saida_p,
	nm_usuario_saida = nm_usuario_p
	where  nr_sequencia = nr_sequencia_p;

	end;
elsif (tag_p = 4) then
	begin

	update cm_conjunto_cont
	set cd_pessoa_fisica     = NULL,
	cd_local_estoque  = NULL,
	cd_setor_atend_dest  = NULL,
	dt_saida = dt_saida_p,
	nm_usuario_saida = nm_usuario_p
	where  nr_sequencia = nr_sequencia_p;

	end;
end if;

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE repasse_conjunto_cme ( tag_p bigint, cd_local_estoque_p bigint, cd_setor_atend_p bigint, cd_pessoa_fisica_p text, dt_saida_p timestamp, nr_sequencia_p bigint, nm_usuario_p text) FROM PUBLIC;

