-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pfcs_generate_13_gl (nr_seq_indicator_p bigint) AS $body$
DECLARE


pfcs_panel_seq_w				pfcs_panel.nr_sequencia%type;
cd_estabelecimento_w			bigint;
nm_usuario_p	varchar(20);


BEGIN
DELETE FROM pfcs_detail_patient WHERE NR_SEQUENCIA in (25000,25001,25002,25003,25004,25005,25006,25007,25008,25009);
DELETE FROM pfcs_detail_bed WHERE NR_SEQUENCIA in (25000,25001,25002,25003,25004,25005,25006,25007,25008,25009);
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA in (25000,25001,25002,25003,25004,25005,25006,25007,25008,25009);
DELETE FROM PFCS_PANEL WHERE NR_SEQ_INDICATOR = 30;
nm_usuario_p := 'asimovbr';
cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 1, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25000, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25001, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25002, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

-------------------------------------------------- pfcs_detail_bed --------------------------------------------------		
/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25000, 'Premium', 6, 45, 197, 'Unite 1', 'I', 'Unavailable', (clock_timestamp() - (1162/24/60))
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25001, 'Premium', 6, 63, 12, 'Unit 2','I', 'Unavailable',(clock_timestamp() - (1265/24/60))
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25002, 'Premium', 6, 57, 8, 'Block D','I', 'Unavailable',(clock_timestamp() - (1266/24/60))
);

-------------------------------------------------- pfcs_detail_patient --------------------------------------------------		
/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25000, 132836, 2628431, 'BYEGMANN, Tiago', (clock_timestamp() - (1162/24/60)), 'Male', 'Classification I', TO_DATE('11/01/2010 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25001, 132800, 2412869, 'Rodrigues Alves, Ronaldo', (clock_timestamp() - (1265/24/60)), 'Male', 'Classification II', TO_DATE('25/11/1979 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25002, 133107, 5475015, 'BOCALARI, ABEL', (clock_timestamp() - (1266/24/60)), 'Male', 'Classification I', TO_DATE('08/11/1983 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => round(165/3), nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
            nr_seq_indicator_p => nr_seq_indicator_p,
            nr_seq_operational_level_p => cd_estabelecimento_w,
            nm_usuario_p => nm_usuario_p);

cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 39, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25003, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25004, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25005, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

-------------------------------------------------- pfcs_detail_bed --------------------------------------------------	
/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25003, 'Premium', 6, 70, 79415, 'Ala E','I', 'Unavailable',(clock_timestamp() - (1169/24/60))
);

/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25004, 'Premium', 6, 50, 80001, 'Unit 3','I', 'Unavailable',(clock_timestamp() - (1362/24/60))
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25005, 'Child', 4, 90, 79388, 'Unit 4','I', 'Unavailable',(clock_timestamp() - (1261/24/60))
);

-------------------------------------------------- pfcs_detail_patient --------------------------------------------------
/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25003, 133110, 5479332, 'THIMOTEO, WESLEY', (clock_timestamp() - (1169/24/60)), 'Male', 'Classification I', TO_DATE('03/05/1974 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25004, 133111, 4888155, 'NETO, ABDEL', (clock_timestamp() - (1362/24/60)), 'Male', 'Classification I', TO_DATE('29/09/2011 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25005, 4825, 877156, 'BERNS, Elton', (clock_timestamp() - (1261/24/60)), 'Male', 'Classification I', TO_DATE('12/03/1987 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => round(210/3), nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
            nr_seq_indicator_p => nr_seq_indicator_p,
            nr_seq_operational_level_p => cd_estabelecimento_w,
            nm_usuario_p => nm_usuario_p);

cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 11, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25006, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25007, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25008, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

/* INSERT QUERY NO: 10 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
25009, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', 30, cd_estabelecimento_w
);

-------------------------------------------------- pfcs_detail_bed --------------------------------------------------	
/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25006, 'Child', 4, 30, 7, 'Unit 5','I', 'Unavailable',(clock_timestamp() - (1167/24/60))
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25007, 'Child', 4, 40, 80001, 'Unit 3','I', 'Unavailable',(clock_timestamp() - (1263/24/60))
);

/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25008, 'Primary', 22, 80, 80001, 'Unit 3','I', 'Unavailable',(clock_timestamp() - (1364/24/60))
);

/* INSERT QUERY NO: 10 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, DS_LOCATION, CD_BED, QT_TIME_OCUP_AFTER_DISCHARGE, CD_DEPARTMENT, DS_DEPARTMENT, IE_STATUS, DS_STATUS, DT_ENTRY_UNIT)
VALUES
(
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25009, 'Primary', 22, 75, 76, 'Tomography','I', 'Unavailable',(clock_timestamp() - (1175/24/60))
);

-------------------------------------------------- pfcs_detail_patient --------------------------------------------------
/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25006, 13754, 2437073, 'SPRACIGO, Jadina', (clock_timestamp() - (1167/24/60)), 'Female', 'Classification I', TO_DATE('06/06/1982 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25007, 14945, 726514, 'VIANA, Anderson', (clock_timestamp() - (1263/24/60)), 'Male', 'Classification I', TO_DATE('08/06/1972 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25008, 15282, 2272397, 'MELO, Rosmari', (clock_timestamp() - (1364/24/60)), 'Female', 'Classification II', TO_DATE('01/10/1971 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 10 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DT_ENTRANCE, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 25009, 12300, 2425748, 'GUCOWSKI, Bruno', (clock_timestamp() - (1175/24/60)), 'Male', 'Classification II', TO_DATE('06/10/1968 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => round(225/4), nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
            nr_seq_indicator_p => nr_seq_indicator_p,
            nr_seq_operational_level_p => cd_estabelecimento_w,
            nm_usuario_p => nm_usuario_p);

commit;	

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pfcs_generate_13_gl (nr_seq_indicator_p bigint) FROM PUBLIC;

