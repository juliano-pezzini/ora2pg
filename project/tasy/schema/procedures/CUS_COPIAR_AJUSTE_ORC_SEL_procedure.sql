-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE cus_copiar_ajuste_orc_sel ( cd_tabela_custo_origem_p bigint, cd_tabela_custo_destino_p bigint, cd_estabelecimento_p bigint, nr_seq_regra_original_p bigint, nm_usuario_p text) AS $body$
DECLARE

					
nr_seq_tabela_dest_w	bigint;


BEGIN

insert into  cus_regra_ajuste_orc(	nr_sequencia,
					dt_atualizacao,
					nm_usuario,
					dt_atualizacao_nrec,
					nm_usuario_nrec,
					cd_estabelecimento,
					cd_tabela_custo,
					cd_empresa,
					cd_centro_controle_origem,
					nr_seq_gng_origem,
					nr_seq_ng_origem,
					cd_centro_controle_dest,
					nr_seq_ng_dest,
					pr_ajuste,
					nr_seq_calculo,
					ie_sobrepor,
					vl_ajuste_calc,
					nr_seq_tabela,
					cd_estab_destino)
			SELECT		nextval('cus_regra_ajuste_orc_seq'),
					clock_timestamp(),
					nm_usuario_p,
					clock_timestamp(),
					nm_usuario_p,
					cd_estabelecimento_p,
					cd_tabela_custo_destino_p,
					a.cd_empresa,
					a.cd_centro_controle_origem,
					a.nr_seq_gng_origem,
					a.nr_seq_ng_origem,
					a.cd_centro_controle_dest,
					a.nr_seq_ng_dest,
					a.pr_ajuste,
					a.nr_seq_calculo,
					a.ie_sobrepor,
					a.vl_ajuste_calc,
					cd_tabela_custo_destino_p,
					cd_estab_destino
				from	cus_regra_ajuste_orc a
				where	a.nr_sequencia = nr_seq_regra_original_p;
	
commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE cus_copiar_ajuste_orc_sel ( cd_tabela_custo_origem_p bigint, cd_tabela_custo_destino_p bigint, cd_estabelecimento_p bigint, nr_seq_regra_original_p bigint, nm_usuario_p text) FROM PUBLIC;

