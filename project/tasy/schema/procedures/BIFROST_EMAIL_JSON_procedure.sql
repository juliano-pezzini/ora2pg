-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE bifrost_email_json (JSON_DATA_P text, status_p INOUT text, mensagem_p INOUT text, sugestao_p INOUT text) AS $body$
DECLARE

  JSON_DATA_W     PHILIPS_JSON;

BEGIN
  status_p := '';
  mensagem_p := '';
  sugestao_p := '';
  JSON_DATA_W := PHILIPS_JSON(JSON_DATA_P);
  IF ((JSON_DATA_W IS NOT NULL AND JSON_DATA_W::text <> '')
  AND JSON_DATA_W.COUNT > 0) THEN
    if ((JSON_DATA_W.GET('status') IS NOT NULL AND (JSON_DATA_W.GET('status'))::text <> ''))then
      status_p := JSON_DATA_W.GET['status'].GET_STRING();
    end if;

    if ((JSON_DATA_W.GET('message') IS NOT NULL AND (JSON_DATA_W.GET('message'))::text <> ''))then
      mensagem_p := JSON_DATA_W.GET['message'].GET_STRING();
    end if;

    if ((JSON_DATA_W.GET('suggestion') IS NOT NULL AND (JSON_DATA_W.GET('suggestion'))::text <> ''))then
      sugestao_p := JSON_DATA_W.GET['suggestion'].GET_STRING();
    end if;
  END IF;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE bifrost_email_json (JSON_DATA_P text, status_p INOUT text, mensagem_p INOUT text, sugestao_p INOUT text) FROM PUBLIC;

