-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE ptu_imp_resposta_a1100 ( nr_seq_cab_resp_p ptu_cabecalho_a1100.nr_sequencia%type, cd_unimed_executora_p ptu_dados_pedido_a1100.cd_unimed_executora%type, cd_unimed_origem_p ptu_dados_pedido_a1100.cd_unimed_origem%type, nr_seq_execucao_p ptu_dados_pedido_a1100.nr_seq_execucao%type, nr_seq_origem_p ptu_dados_pedido_a1100.nr_seq_origem%type, nr_seq_trans_refe_p ptu_dados_pedido_a1100.nr_seq_trans_refe%type, cd_unimed_p ptu_dados_pedido_a1100.cd_unimed%type, cd_usuario_plano_p ptu_dados_pedido_a1100.cd_usuario_plano%type, dt_solicitacao_p text, dt_resposta_wsd_p text, ie_situacao_operadora_p ptu_dados_pedido_a1100.ie_situacao_operadora%type, nm_usuario_p usuario.nm_usuario%type, nr_seq_dados_pedido_p INOUT ptu_dados_pedido_a1100.nr_sequencia%type) AS $body$
DECLARE


/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade:
-------------------------------------------------------------------------------------------------------------------
Locais de chamada direta:
[]  Objetos do dicionário [] Tasy (Delphi/Java) [] Portal []  Relatórios [X] Outros:Web Service
 ------------------------------------------------------------------------------------------------------------------
Pontos de atenção:
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
dt_resposta_wsd_w	ptu_dados_pedido_a1100.dt_resposta_wsd%type;
dt_solicitacao_w	ptu_dados_pedido_a1100.dt_solicitacao%type;


BEGIN

if (coalesce(dt_resposta_wsd_p,'X')	<> 'X') then
	dt_resposta_wsd_w	:= to_date(dt_resposta_wsd_p, 'dd/mm/rrrr');
end if;

if (coalesce(dt_solicitacao_p,'X')	<> 'X') then
	dt_solicitacao_w	:= to_date(dt_solicitacao_p, 'dd/mm/rrrr');
end if;

insert into ptu_dados_pedido_a1100(nr_sequencia, cd_unimed_executora, cd_unimed_origem,
	cd_unimed, cd_usuario_plano, dt_atualizacao,
	dt_atualizacao_nrec, dt_resposta_wsd, dt_solicitacao,
	ie_situacao_operadora, nm_usuario, nm_usuario_nrec, nr_seq_cabecalho,
	nr_seq_execucao, nr_seq_origem, nr_seq_trans_refe)
values (nextval('ptu_dados_pedido_a1100_seq'), cd_unimed_executora_p, cd_unimed_origem_p,
	cd_unimed_p, cd_usuario_plano_p, clock_timestamp(),
	clock_timestamp(), dt_resposta_wsd_w, dt_solicitacao_w,
	ie_situacao_operadora_p, nm_usuario_p, nm_usuario_p, nr_seq_cab_resp_p,
	nr_seq_execucao_p, nr_seq_origem_p, nr_seq_trans_refe_p) returning nr_sequencia into nr_seq_dados_pedido_p;

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE ptu_imp_resposta_a1100 ( nr_seq_cab_resp_p ptu_cabecalho_a1100.nr_sequencia%type, cd_unimed_executora_p ptu_dados_pedido_a1100.cd_unimed_executora%type, cd_unimed_origem_p ptu_dados_pedido_a1100.cd_unimed_origem%type, nr_seq_execucao_p ptu_dados_pedido_a1100.nr_seq_execucao%type, nr_seq_origem_p ptu_dados_pedido_a1100.nr_seq_origem%type, nr_seq_trans_refe_p ptu_dados_pedido_a1100.nr_seq_trans_refe%type, cd_unimed_p ptu_dados_pedido_a1100.cd_unimed%type, cd_usuario_plano_p ptu_dados_pedido_a1100.cd_usuario_plano%type, dt_solicitacao_p text, dt_resposta_wsd_p text, ie_situacao_operadora_p ptu_dados_pedido_a1100.ie_situacao_operadora%type, nm_usuario_p usuario.nm_usuario%type, nr_seq_dados_pedido_p INOUT ptu_dados_pedido_a1100.nr_sequencia%type) FROM PUBLIC;

