-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE duplicar_regra_dose_artic ( nr_sequencia_p bigint, nm_usuario_p text) AS $body$
DECLARE


c01 CURSOR FOR
	SELECT	*
	from	artic_mov_musculo_regra
	where	nr_sequencia = nr_sequencia_p;

c01_w	c01%rowtype;


BEGIN

open C01;
loop
fetch C01 into
	c01_w;
EXIT WHEN NOT FOUND; /* apply on C01 */
	begin

	insert into ARTIC_MOV_MUSCULO_REGRA(
				 NR_SEQUENCIA,
				 DT_ATUALIZACAO,
				 NM_USUARIO,
				 DT_ATUALIZACAO_NREC,
				 NM_USUARIO_NREC,
				 QT_IDADE_MIN,
				 QT_IDADE_MAX,
				 QT_DOSE_MIN,
				 QT_DOSE_MAX,
				 QT_DOSE_PADRAO,
				 NR_SEQ_ART_MOV_MUSCULO,
				 QT_PONTOS_PADRAO,
				 QT_PONTOS_MIN,
				 QT_PONTOS_MAX,
				 QT_PESO_MIN,
				 QT_PESO_MAX,
				 QT_MULTIPLO,
				 IE_FORMA_CALCULO,
				 NR_SEQ_TOXINA)
			values (
				 nextval('artic_mov_musculo_regra_seq'),
				 clock_timestamp(),
				 nm_usuario_p,
				 clock_timestamp(),
				 nm_usuario_p,
				 c01_w.QT_IDADE_MIN,
				 c01_w.QT_IDADE_MAX,
				 c01_w.QT_DOSE_MIN,
				 c01_w.QT_DOSE_MAX,
				 c01_w.QT_DOSE_PADRAO,
				 c01_w.NR_SEQ_ART_MOV_MUSCULO,
				 c01_w.QT_PONTOS_PADRAO,
				 c01_w.QT_PONTOS_MIN,
				 c01_w.QT_PONTOS_MAX,
				 c01_w.QT_PESO_MIN,
				 c01_w.QT_PESO_MAX,
				 c01_w.QT_MULTIPLO,
				 c01_w.IE_FORMA_CALCULO,
				 c01_w.NR_SEQ_TOXINA);

	end;
end loop;
close C01;


commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE duplicar_regra_dose_artic ( nr_sequencia_p bigint, nm_usuario_p text) FROM PUBLIC;

