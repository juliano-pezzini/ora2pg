-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE medreceita_item_json ( nr_seq_med_receita_p med_receita_item.nr_seq_med_receita%type, ds_medicamento_p med_receita_item.ds_medicamento%type, nm_usuario_p med_receita_item.nm_usuario%type, ds_idmedicamento_p med_receita_item.ds_idmedicamento%type, ds_concentracao_p med_receita_item.ds_concentracao%type, ds_unidade_p med_receita_item.ds_unidade%type, ie_medmanual_p med_receita_item.ie_medmanual%type, ds_codigoatc_p med_receita_item.ds_codigoatc%type, ds_formafarmaceutica_p med_receita_item.ds_formafarmaceutica%type, ie_usocontinuo_p med_receita_item.ie_usocontinuo%type, qt_quantidade_p med_receita_item.qt_quantidade%type, ds_posologia_p med_receita_item.ds_posologia%type, ie_duasvias_P med_receita_item.ie_duasvias%type, qt_dispensada_P med_receita_item.qt_dispensada%type, nr_seq_return_w INOUT bigint) AS $body$
BEGIN	
	nr_seq_return_w := null;

	insert into med_receita_item(
	  nr_sequencia,
	  nr_seq_med_receita,  
	  dt_atualizacao, 
	  nm_usuario, 
	  dt_atualizacao_nrec, 
	  nm_usuario_nrec,
	  ds_medicamento,
	  ds_idmedicamento,
	  ds_concentracao,
	  ds_unidade,
	  ie_medmanual,
	  ds_codigoatc,
	  ds_formafarmaceutica,
	  ie_usocontinuo,
	  qt_quantidade,
	  ds_posologia,
	  ie_duasvias,
	  qt_dispensada  
	)
	values ( 
	  nextval('med_receita_item_seq'),
	  nr_seq_med_receita_p,
	  clock_timestamp(),
	  nm_usuario_p,
	  clock_timestamp(),
	  nm_usuario_p,
	  ds_medicamento_p,
	  ds_idmedicamento_p,
	  ds_concentracao_p,
	  ds_unidade_p,
	  ie_medmanual_p,
	  ds_codigoatc_p,
	  ds_formafarmaceutica_p,
	  ie_usocontinuo_p,
	  qt_quantidade_p,
	  ds_posologia_p,
	  ie_duasvias_P,
	  qt_dispensada_P
	) RETURNING nr_sequencia INTO nr_seq_return_w;
	
	commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE medreceita_item_json ( nr_seq_med_receita_p med_receita_item.nr_seq_med_receita%type, ds_medicamento_p med_receita_item.ds_medicamento%type, nm_usuario_p med_receita_item.nm_usuario%type, ds_idmedicamento_p med_receita_item.ds_idmedicamento%type, ds_concentracao_p med_receita_item.ds_concentracao%type, ds_unidade_p med_receita_item.ds_unidade%type, ie_medmanual_p med_receita_item.ie_medmanual%type, ds_codigoatc_p med_receita_item.ds_codigoatc%type, ds_formafarmaceutica_p med_receita_item.ds_formafarmaceutica%type, ie_usocontinuo_p med_receita_item.ie_usocontinuo%type, qt_quantidade_p med_receita_item.qt_quantidade%type, ds_posologia_p med_receita_item.ds_posologia%type, ie_duasvias_P med_receita_item.ie_duasvias%type, qt_dispensada_P med_receita_item.qt_dispensada%type, nr_seq_return_w INOUT bigint) FROM PUBLIC;

