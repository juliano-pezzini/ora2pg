-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pfcs_generate_9_tl (nr_seq_indicator_p bigint) AS $body$
DECLARE


pfcs_panel_seq_w			pfcs_panel.nr_sequencia%type;
cd_estabelecimento_w			bigint;
nm_usuario_p				varchar(20);


BEGIN
DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL in (50000,50001,50002,50003,50004,50005,50006,50007,50008,50009);
DELETE FROM pfcs_detail_bed WHERE NR_SEQ_DETAIL in (50000,50001,50002,50003,50004,50005,50006,50007,50008,50009);
DELETE FROM pfcs_detail_device WHERE NR_SEQ_DETAIL in (50000,50001,50002,50003,50004,50005,50006,50007,50008,50009);
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA in (50000,50001,50002,50003,50004,50005,50006,50007,50008,50009);
DELETE FROM pfcs_panel WHERE NR_SEQ_INDICATOR = 50;
nm_usuario_p := 'asimovbr';
cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 1, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50000, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50001, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50002, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);

/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50003, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);

-------------------------------------------------- pfcs_detail_patient --------------------------------------------------		
INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50000, 148434, 4856026, 'VIANA, ANGELA', 'Female', to_date('01/01/1980 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'Severe right wrist pain', '', '', (clock_timestamp() - interval '10 days'), 1, 'VIP', 'Bittencourt, O.', 1, 0
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50001, 3391278, 5074673, 'ZIMMER, Adriano', 'Male', to_date('18/10/1964 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'Frozen left arm', '2598', 'DNR', (clock_timestamp() - interval '9 days'), 1, 'VIP', 'Veillonella, J.', 1, 2
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50002, 11167, 2437078, 'ZIMMERMANN, Robson', 'Male', to_date('28/12/1960 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'Severe right wrist pain', '11497', '', (clock_timestamp() - interval '7 days'), 2, 'ACO Groups', 'Bittencourt, O.', 1, 0
);

/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50003, 3363255, 1015783660, 'Rosa Philips', 'Female', to_date('10/11/2010 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'High Palpitation', '11497', '', (clock_timestamp() - interval '10 days'), 1, 'VIP', 'Cassia, R.', 1, 2
);


-------------------------------------------------- pfcs_detail_bed --------------------------------------------------
/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50000, 79287, 'East Wing', 'ALF38'
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50001, 8, 'Block D', '106 A'
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50002, 164, 'North Wing', 'Box 02'
);

/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50003, 164, 'North Wing', 'Box 03'
);


-------------------------------------------------- pfcs_detail_device --------------------------------------------------
/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541292, 'Device 1', 50000, 'empty'
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541292, 'Device 2', 50001, 'low'
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541297, 'Device 3', 50002, 'empty'
);

/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541292, 'Device 4', 50003, 'empty'
);

 := pfcs_pck.pfcs_generate_results(
	vl_indicator_p => 4, nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
	nr_seq_indicator_p => nr_seq_indicator_p,
	nr_seq_panel_p => pfcs_panel_seq_w,
	nr_seq_operational_level_p => cd_estabelecimento_w,
	nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
	nr_seq_indicator_p => nr_seq_indicator_p,
	nr_seq_operational_level_p => cd_estabelecimento_w,
	nm_usuario_p => nm_usuario_p);



cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 39, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50004, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50005, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);

/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50006, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50007, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);



-------------------------------------------------- pfcs_detail_patient --------------------------------------------------		
/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50004, 3389428, 2556397, 'ZIMMERMANN, Adalbert', 'Undefined', to_date('08/01/1947 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'High Palpitation', '40017', '', (clock_timestamp() - interval '9 days'), 1, 'VIP', 'Cassia, R.', 1, 0
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50005, 153930, 2600586, 'FRIDMAN, FRIDA', 'Female', to_date('17/01/1987 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'High Palpitation', '', '', (clock_timestamp() - interval '15 days'), 1, 'VIP', 'Cassia, R.', 0, 2
);

/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50006, 3352870, 1007835, 'FREITAS, ROBERTO', 'Male', to_date('01/01/1997 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'Frozen left arm', '11495', 'DNR', (clock_timestamp() - interval '11 days'), 2, 'ACO Groups', 'Bittencourt, O.', 1, 0
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50007, 16039, 1099591, 'FREITAS, Rafael', 'Male', to_date('03/12/1998 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'Severe right wrist pain', '11495', 'DNR', (clock_timestamp() - interval '7 days'), 2, 'ACO Groups', 'Bittencourt, O.', 1, 2
);

-------------------------------------------------- pfcs_detail_bed --------------------------------------------------		
/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50004, 164, 'North Wing', 'Box 04'
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50005, 46, 'East Wing', 'ALF39'
);

/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50006, 163, 'Third floor', '103 a'
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50007, 163, 'Third floor', '103 b'
);

-------------------------------------------------- pfcs_detail_device --------------------------------------------------		
/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541297, 'Device 5', 50004, 'empty'
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541299, 'Device 6', 50005, 'low'
);

/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541288, 'Device 7', 50006, 'low'
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541293, 'Device 8', 50007, 'empty'
);

 := pfcs_pck.pfcs_generate_results(
	vl_indicator_p => 4, nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
	nr_seq_indicator_p => nr_seq_indicator_p,
	nr_seq_panel_p => pfcs_panel_seq_w,
	nr_seq_operational_level_p => cd_estabelecimento_w,
	nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
	nr_seq_indicator_p => nr_seq_indicator_p,
	nr_seq_operational_level_p => cd_estabelecimento_w,
	nm_usuario_p => nm_usuario_p);




cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 11, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50008, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES (
50009, nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 'T', nr_seq_indicator_p, cd_estabelecimento_w
);


-------------------------------------------------- pfcs_detail_patient --------------------------------------------------		
/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50008, 22668, 3073600, 'FREITAS, PEDRO', 'Male', to_date('17/10/1980 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'High Palpitation', '11495', '', (clock_timestamp() - interval '17 days'), 2, 'ACO Groups', 'Veillonella, J.', 1, 0
);

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, ID_PATIENT, NM_PATIENT, DS_GENDER, DT_BIRTHDATE, DS_PRIMARY_DIAGNOSIS, QT_TIME_TELEMETRY, DS_DNR_STATUS, DT_ENTRANCE, CD_CLASSIFICATION, DS_CLASSIFICATION, DS_SERVICE_LINE, QT_YELLOW_ALARMS, QT_RED_ALARMS)
VALUES (
nextval('pfcs_detail_patient_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50009, 22669, 3073601, 'MATHIAS, LUNA', 'Female', to_date('17/10/1980 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 'Chest pain', '11400', '', (clock_timestamp() - interval '17 days'), 1, 'VIP', 'Veillonella, J.', 2, 1
);

/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50008, 79297, 'South Ward', '103 c'
);

INSERT INTO pfcs_detail_bed(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, CD_DEPARTMENT, DS_DEPARTMENT, DS_LOCATION)
VALUES (
nextval('pfcs_detail_bed_seq'), nm_usuario_p, clock_timestamp(), nm_usuario_p, clock_timestamp(), 50009, 79298, 'North Ward', '104 c'
);

/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541294, 'Device 9', 50008, 'low'
);

INSERT INTO pfcs_detail_device(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, CD_EQUIPAMENTO, DS_DEVICE, NR_SEQ_DETAIL, IE_BATTERY_STATUS)
VALUES (
nextval('pfcs_detail_device_seq'), clock_timestamp(), nm_usuario_p, clock_timestamp(), nm_usuario_p, 1501541295, 'Device 10', 50009, 'low'
);

 := pfcs_pck.pfcs_generate_results(
	vl_indicator_p => 2, nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
	nr_seq_indicator_p => nr_seq_indicator_p,
	nr_seq_panel_p => pfcs_panel_seq_w,
	nr_seq_operational_level_p => cd_estabelecimento_w,
	nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
	nr_seq_indicator_p => nr_seq_indicator_p,
	nr_seq_operational_level_p => cd_estabelecimento_w,
	nm_usuario_p => nm_usuario_p);
			
commit;
	
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pfcs_generate_9_tl (nr_seq_indicator_p bigint) FROM PUBLIC;

