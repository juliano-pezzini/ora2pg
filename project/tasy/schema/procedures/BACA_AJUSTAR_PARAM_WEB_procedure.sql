-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE baca_ajustar_param_web () AS $body$
DECLARE


cd_parametro_w		integer;
nr_seq_parametro_w	bigint;

C01 CURSOR FOR
	SELECT 	a.nr_sequencia,
		b.cd_parametro
	FROM	PLS_WEB_PARAM_USUARIO a,
		PLS_WEB_PARAM_OUTORGANTE b
	WHERE	a.nr_seq_param = b.nr_sequencia
	ORDER BY b.cd_parametro;

C02 CURSOR FOR
	SELECT 	 a.nr_sequencia, b.cd_parametro
	FROM	 PLS_WEB_PARAM_CONTRATO a,
		 PLS_WEB_PARAM_OUTORGANTE b
	WHERE	 a.nr_seq_param = b.nr_sequencia
	ORDER BY b.cd_parametro;


BEGIN

open C01;
loop
fetch C01 into
	nr_seq_parametro_w,
	cd_parametro_w;
EXIT WHEN NOT FOUND; /* apply on C01 */
	begin
		if (cd_parametro_w = 1)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 2
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 2)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 3
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 3)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 1
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 4)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 2
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 5)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1247,
				nr_seq_funcao_param = 1
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 6)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1247,
				nr_seq_funcao_param = 2
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 7)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1247,
				nr_seq_funcao_param = 3
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 8)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 4
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 9)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 5
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 10)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1249,
				nr_seq_funcao_param = 1
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 11)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 11
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 12)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 3
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 13)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 6
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 14)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 7
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 15)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 4
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 16)	then
			update 	PLS_WEB_PARAM_USUARIO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 5
			where	nr_sequencia = nr_seq_parametro_w;
		end if;
	end;
end loop;
close C01;

open C02;
loop
fetch C02 into
	nr_seq_parametro_w,
	cd_parametro_w;
EXIT WHEN NOT FOUND; /* apply on C02 */
	begin

		if (cd_parametro_w = 1)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 2
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 2)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 3
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 3)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 1
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 4)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 2
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 5)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1247,
				nr_seq_funcao_param = 1
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 6)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1247,
				nr_seq_funcao_param = 2
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 7)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1247,
				nr_seq_funcao_param = 3
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 8)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 4
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 9)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 5
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 10)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1249,
				nr_seq_funcao_param = 1
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 11)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1246,
				nr_seq_funcao_param = 11
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 12)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 3
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 13)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 6
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 14)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 7
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 15)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 4
			where	nr_sequencia = nr_seq_parametro_w;
		elsif (cd_parametro_w = 16)	then
			update 	PLS_WEB_PARAM_CONTRATO
			set 	cd_funcao = 1248,
				nr_seq_funcao_param = 5
			where	nr_sequencia = nr_seq_parametro_w;
		end if;
	end;
end loop;
close C02;

commit;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE baca_ajustar_param_web () FROM PUBLIC;

