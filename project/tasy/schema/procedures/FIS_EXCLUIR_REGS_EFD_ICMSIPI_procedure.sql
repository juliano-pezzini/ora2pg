-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE fis_excluir_regs_efd_icmsipi (nr_seq_controle_p bigint) AS $body$
BEGIN

/*BLOCO 0001*/

delete from fis_efd_icmsipi_0460 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0450 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0400 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0220 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0205 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0200 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0190 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0175 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0150 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0100 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0015 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0005 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0002 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_0000 a
where  a.nr_seq_controle = nr_seq_controle_p;

/*BLOCO C*/

delete from fis_efd_icmsipi_c195 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c190 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c170 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c141 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c140 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c114 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c113 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c110 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c101 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c100 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c490 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c470 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c465 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c460 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c425 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c420 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c405 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c400 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c590 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c500 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c890 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c860 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c850 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_c800 a
where  a.nr_seq_controle = nr_seq_controle_p;

/*BLOCO B*/

delete from fis_efd_icmsipi_B025 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_B020 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_B035 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_B030 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_B420 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_B440 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_B460 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_B470 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_B510 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_B500 a
where  a.nr_seq_controle = nr_seq_controle_p;

/*BLOCO D*/

delete from fis_efd_icmsipi_d190 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_d100 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_d590 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_d500 a
where  a.nr_seq_controle = nr_seq_controle_p;

/*BLOCO E*/

delete from fis_efd_icmsipi_e110 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_e100 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_e220 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_e210 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_e200 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_e310 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_e300 a
where  a.nr_seq_controle = nr_seq_controle_p;

/*BLOCO H*/

delete from fis_efd_icmsipi_h010 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_h005 a
where  a.nr_seq_controle = nr_seq_controle_p;

/*BLOCO K*/

delete from fis_efd_icmsipi_k100 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_k280 a
where  a.nr_seq_controle = nr_seq_controle_p;

delete from fis_efd_icmsipi_k200 a
where  a.nr_seq_controle = nr_seq_controle_p;

/*BLOCO 1*/

delete from fis_efd_icmsipi_1010 a
where  a.nr_seq_controle = nr_seq_controle_p;

/*Update para 0 o contador do codigo de informação*/

update fis_efd_icmsipi_controle
set 	nr_cod_0450 = 0,
		ie_mov_0 = 'N',
		ie_mov_B = 'N',
		ie_mov_C = 'N',
		ie_mov_D = 'N',
		ie_mov_E = 'N',
		ie_mov_G = 'N',
		ie_mov_H = 'N',
		ie_mov_K = 'N',
		ie_mov_1 = 'N',
		ie_mov_9 = 'N'
where  nr_sequencia = nr_seq_controle_p;

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE fis_excluir_regs_efd_icmsipi (nr_seq_controle_p bigint) FROM PUBLIC;

