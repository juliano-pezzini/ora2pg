-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE atend_categ_befpost_inf_eup_js ( ie_regra_valida_cod_usu_p text, ie_bloqueia_estrang_w text, ie_consiste_cpf_conv_p text, ie_alterou_convenio_p text, ie_alerta_convenio_p text, ie_completo_p text, qt_dias_reinterncao_p bigint, ie_convenio_cons_cart_fidel_p text, ie_consiste_medico_credenc_p text, cd_medico_resp_p text, nr_seq_cobertura_p bigint, nr_seq_queixa_p bigint, nr_seq_tipo_acidente_p bigint, cd_procedencia_p bigint, nr_seq_classificacao_p bigint, dt_entrada_p timestamp, cd_tipo_acomodacao_p bigint, ie_edicao_registro_p text, ie_regra_lib_atend_w text, cd_setor_atendimento_p bigint, ie_consiste_cod_usu_plano_w text, ie_inclui_obs_conv_p text, ie_clinica_p bigint, ie_consiste_cod_usu_categ_w text, ie_tipo_atendimento_p bigint, dt_validade_cart_glosa_p timestamp, nr_seq_origem_p bigint, dt_validade_carteira_p timestamp, dt_final_vigencia_p timestamp, cd_empresa_p bigint, cd_complemento_glosa_p text, cd_usuario_conv_glosa_p text, cd_categoria_glosa_p text, cd_convenio_glosa_p bigint, cd_categoria_p text, cd_compl_usuario_p text, nr_doc_conv_principal_p text, nr_doc_conv_retorno_p text, cd_senha_p text, cd_plano_convenio_p text, ie_consiste_cartao_sus_p text, cd_pessoa_fisica_p text, nr_atendimento_p bigint, cd_usuario_convenio_p text, cd_convenio_p bigint, ie_consistir_dupli_cart_p text, cd_estabelecimento_p bigint, nm_usuario_p text, ie_novo_registro_p text, ds_msg_abort_p INOUT text, ds_msg_alerta_cart_p INOUT text, ds_msg_alerta_cartao_sus_p INOUT text, ds_msg_consist_categ_conv_p INOUT text, ds_msg_regra_atend_p INOUT text, ds_msg_cons_cart_categ_p INOUT text, ds_msg_cons_cart_plano_p INOUT text, ds_msg_bloq_excl_atend_p INOUT text, ds_msg_bloquei_atend_p INOUT text, ds_msg_medico_cred_p INOUT text, ds_msg_empresa_ref_p INOUT text, ds_msg_cart_fidel_venc_p INOUT text, ds_msg_consist_reinter_p INOUT text, ds_msg_conv_alerta_p INOUT text, ds_msg_alerta_cpf_p INOUT text, ds_proc_regra_val_usuario_p INOUT text, nr_seq_regra_p INOUT bigint, ie_usuario_categoria_out_w INOUT text) AS $body$
DECLARE


					


_ora2pg_r RECORD;
ie_tipo_convenio_w		smallint;
nr_cartao_sus_w			varchar(20);	
ie_usuario_categoria_w 		varchar(2);
ie_regra_bloqueio_w  		varchar(1);
ds_observacao_w    		varchar(255);
ds_msg_cons_cart_categ_w	varchar(255);
cd_categoria_w			varchar(10);
ds_categoria_w			varchar(80);
ie_usuario_plano_w		varchar(2);
ie_regra_bloqueio_plano_w	varchar(1);
ds_plano_regra_w		varchar(255);
ds_msg_cons_cart_plano_w	varchar(255);
ie_tipo_convenio_ant_w		smallint;
nr_seq_queixa_ant_w		bigint;
ie_bloqueia_atendimento_w	varchar(2);
ds_msg_bloqueio_atend_w		varchar(255);
qt_idade_pf_w			bigint;
ds_convenio_w			varchar(255);
qt_atend_w			bigint;
cd_especialidade_medico_w	varchar(255);
ie_medico_credenciado_w		varchar(1) := 'N';
qt_empresa_w			bigint;
qt_empresa_ref_w		bigint;
ie_conv_cont_cartao_fidel_w	varchar(1);
ie_cartao_vencido_w		varchar(1);
ds_msg_conv_alerta_w		varchar(255);
ie_exige_cpf_paciente_w		varchar(1);
ds_proc_regra_val_usuario_w	varchar(255);
ie_existe_objeto_convenio_w     varchar(1);
qt_conv_w			smallint;
ie_param_1223			varchar(1);
ds_mensagem_w			varchar(4000);
ie_permite_w			varchar(1);


BEGIN

ie_param_1223 := Obter_Param_Usuario(916, 1223, wheb_usuario_pck.get_cd_perfil, wheb_usuario_pck.get_nm_usuario, wheb_usuario_pck.get_cd_estabelecimento, ie_param_1223);


--Procedure utilizada no evento beforepost, da categori_convenio, para verificacoes que retornam msg alerta ou abort.
if (ie_consistir_dupli_cart_p <> 'N') then
	SELECT * FROM consiste_carteira_conv_eup_js(cd_pessoa_fisica_p, nr_atendimento_p, cd_usuario_convenio_p, cd_convenio_p, ie_consistir_dupli_cart_p, cd_estabelecimento_p, nm_usuario_p, ds_msg_abort_p, ds_msg_alerta_cart_p) INTO STRICT ds_msg_abort_p, ds_msg_alerta_cart_p;
	
	if (ds_msg_abort_p IS NOT NULL AND ds_msg_abort_p::text <> '') then
		goto final;
	end if;	
end if;

if (ie_consiste_cartao_sus_p <> 'N') then
	ie_tipo_convenio_w := obter_tipo_convenio(cd_convenio_p);
	nr_cartao_sus_w := substr(obter_dados_pf(cd_pessoa_fisica_p,'CNS'),1,20);
	if (ie_tipo_convenio_w = 3) and (coalesce(nr_cartao_sus_w::text, '') = '') then
		if (ie_consiste_cartao_sus_p = 'B') then
			ds_msg_abort_p := substr(obter_texto_tasy(90178, wheb_usuario_pck.get_nr_seq_idioma),1,255);
		else
			ds_msg_alerta_cartao_sus_p :=  substr(obter_texto_tasy(90178, wheb_usuario_pck.get_nr_seq_idioma),1,255);
		end if;
	end if;
	if (ie_consiste_cartao_sus_p = 'T') then
		ds_msg_abort_p := substr(obter_texto_tasy(210284, wheb_usuario_pck.get_nr_seq_idioma),1,255);
	end if;
	if (ds_msg_abort_p IS NOT NULL AND ds_msg_abort_p::text <> '') then
		goto final;
	end if;	
end if;

SELECT * FROM consiste_categoria_convenio(nr_atendimento_p, cd_convenio_p, cd_plano_convenio_p, cd_senha_p, nr_doc_conv_retorno_p, dt_validade_carteira_p, cd_usuario_convenio_p, nr_seq_origem_p, nr_doc_conv_principal_p, dt_final_vigencia_p, cd_compl_usuario_p, ds_msg_abort_p, ds_msg_consist_categ_conv_p, cd_categoria_p, cd_convenio_glosa_p, cd_categoria_glosa_p, cd_usuario_conv_glosa_p, cd_complemento_glosa_p, dt_validade_cart_glosa_p, cd_empresa_p) INTO STRICT ds_msg_abort_p, ds_msg_consist_categ_conv_p;
if (ds_msg_abort_p IS NOT NULL AND ds_msg_abort_p::text <> '') then
	goto final;
end if;

ds_msg_regra_atend_p := Verifica_Conv_Regra_Atend(nr_atendimento_p, cd_estabelecimento_p, ie_tipo_atendimento_p, ds_msg_regra_atend_p);

if (ie_consiste_cod_usu_categ_w <> 'S') then
	SELECT * FROM consiste_usuario_categoria(cd_estabelecimento_p, cd_convenio_p, cd_categoria_p, ie_tipo_atendimento_p, cd_usuario_convenio_p, ie_usuario_categoria_w, ie_regra_bloqueio_w, ds_observacao_w, ie_clinica_p, nr_seq_regra_p) INTO STRICT ie_usuario_categoria_w, ie_regra_bloqueio_w, ds_observacao_w, nr_seq_regra_p;
	if (ie_usuario_categoria_w <> 'S') then
		if (ie_usuario_categoria_w = 'N') then
			ds_msg_cons_cart_categ_w := substr(obter_texto_tasy(90528, wheb_usuario_pck.get_nr_seq_idioma),1,255);
			ie_usuario_categoria_out_w := ie_usuario_categoria_w;
		end if;
		if (ie_inclui_obs_conv_p = 'S') and (ds_observacao_w IS NOT NULL AND ds_observacao_w::text <> '') then
			ds_msg_cons_cart_categ_w := substr(ds_msg_cons_cart_categ_w || chr(10) || ds_observacao_w,1,255);
		end if;
		if (ie_usuario_categoria_w = 'C') then
			ds_msg_cons_cart_categ_w := substr(obter_texto_tasy(90531, wheb_usuario_pck.get_nr_seq_idioma),1,255);
		end if;
		if (ie_regra_bloqueio_w = 'B') then
			ds_msg_abort_p := ds_msg_cons_cart_categ_w;
		else
			ds_msg_cons_cart_categ_p := ds_msg_cons_cart_categ_w;
		end if;
		if (ds_msg_abort_p IS NOT NULL AND ds_msg_abort_p::text <> '') then
			goto final;
		end if;
	end if;	
else
	if (cd_usuario_convenio_p IS NOT NULL AND cd_usuario_convenio_p::text <> '') then
		SELECT * FROM consiste_categ_usuario_conv(cd_usuario_convenio_p, cd_convenio_p, ie_tipo_atendimento_p, ie_clinica_p, cd_estabelecimento_p, cd_categoria_w, ds_categoria_w) INTO STRICT cd_categoria_w, ds_categoria_w;
		if (cd_categoria_w IS NOT NULL AND cd_categoria_w::text <> '') and (cd_categoria_w <> cd_categoria_p) then
			ds_msg_abort_p := substr(obter_texto_dic_objeto(90533, wheb_usuario_pck.get_nr_seq_idioma, 'ITEM='||ds_categoria_w),1,255);
		end if;
		if (ds_msg_abort_p IS NOT NULL AND ds_msg_abort_p::text <> '') then
			goto final;
		end if;
	end if;
end if;

if (ie_consiste_cod_usu_plano_w = 'S') then
	SELECT * FROM consiste_usuario_plano(cd_estabelecimento_p, cd_convenio_p, cd_plano_convenio_p, cd_usuario_convenio_p, ie_usuario_plano_w, ie_regra_bloqueio_plano_w, ds_plano_regra_w) INTO STRICT ie_usuario_plano_w, ie_regra_bloqueio_plano_w, ds_plano_regra_w;
	if (ie_usuario_plano_w <> 'S') then
		if (ie_usuario_plano_w = 'N') then
			ds_msg_cons_cart_plano_w := substr(obter_texto_tasy(176333, wheb_usuario_pck.get_nr_seq_idioma),1,255);
		end if;
		if (ie_usuario_plano_w = 'C') then
			ds_msg_cons_cart_plano_w := substr(obter_texto_dic_objeto(293974, wheb_usuario_pck.get_nr_seq_idioma, 'PLANO='||ds_plano_regra_w),1,255);
		end if;
		if (ie_regra_bloqueio_plano_w = 'X') then
			ds_msg_abort_p := ds_msg_cons_cart_plano_w;
		end if;
		if (ie_regra_bloqueio_plano_w = 'B') then
			ds_msg_abort_p := ds_msg_cons_cart_plano_w;
		else
			ds_msg_cons_cart_plano_p := ds_msg_cons_cart_plano_w;
		end if;
		if (ds_msg_abort_p IS NOT NULL AND ds_msg_abort_p::text <> '') then
			goto final;
		end if;
	end if;
end if;	

select	max(a.ie_tipo_convenio),
	max(a.nr_seq_queixa)
into STRICT	ie_tipo_convenio_ant_w,
	nr_seq_queixa_ant_w
from	atendimento_paciente a
where	a.nr_atendimento = (SELECT  max(b.nr_atendimento)
			    from    atendimento_paciente b
			    where   nr_atendimento < nr_atendimento_p);
			
qt_idade_pf_w := obter_idade_pf(cd_pessoa_fisica_p, clock_timestamp(), 'A');


if (ie_regra_lib_atend_w = 'C') then
	if (ie_edicao_registro_p = 'S') and (coalesce(cd_setor_atendimento_p,0) > 0) then

		SELECT * FROM Obter_Se_Lib_Setor_Conv(cd_estabelecimento_p, cd_convenio_p, cd_categoria_p, ie_tipo_atendimento_p, cd_setor_atendimento_p, cd_plano_convenio_p, nr_seq_classificacao_p, ds_msg_bloqueio_atend_w, ie_bloqueia_atendimento_w, ie_clinica_p, cd_empresa_p, cd_procedencia_p, nr_seq_cobertura_p, nr_seq_tipo_acidente_p, cd_tipo_acomodacao_p, cd_medico_resp_p, qt_idade_pf_w, ie_tipo_convenio_ant_w, nr_seq_queixa_p, nr_seq_queixa_ant_w, dt_entrada_p, cd_pessoa_fisica_p) INTO STRICT ds_msg_bloqueio_atend_w, ie_bloqueia_atendimento_w;			
		if (ie_bloqueia_atendimento_w = 'B') then
			if (coalesce(ds_msg_bloqueio_atend_w::text, '') = '') then
			
				select	ds_convenio
				into STRICT	ds_convenio_w
				from 	convenio
				where 	cd_convenio = cd_convenio_p;
				ds_msg_abort_p :=  substr(ds_convenio_w ||  obter_texto_tasy(90570, wheb_usuario_pck.get_nr_seq_idioma),1,255);
			else
				ds_msg_abort_p := substr(obter_texto_dic_objeto(90571, wheb_usuario_pck.get_nr_seq_idioma, 'ITEM='||ds_msg_bloqueio_atend_w),1,255);
			end if;
		end if;
		if (ie_bloqueia_atendimento_w = 'M') and (ds_msg_bloqueio_atend_w IS NOT NULL AND ds_msg_bloqueio_atend_w::text <> '') then
			ds_msg_bloquei_atend_p :=  substr(obter_texto_dic_objeto(90571, wheb_usuario_pck.get_nr_seq_idioma, 'ITEM='||ds_msg_bloqueio_atend_w),1,255);
		end if;
		if (ie_bloqueia_atendimento_w = 'E') then
			select  count(*)
			into STRICT	qt_atend_w
			from	atendimento_paciente
			where   nr_atendimento = nr_atendimento_p;
		
			if (qt_atend_w > 0) then
				if (ds_msg_bloqueio_atend_w IS NOT NULL AND ds_msg_bloqueio_atend_w::text <> '') then
					ds_msg_bloquei_atend_p := ds_msg_bloqueio_atend_w;
				else
					ds_msg_bloquei_atend_p := substr(obter_texto_tasy(212943, wheb_usuario_pck.get_nr_seq_idioma),1,255);
				end if;
				ds_msg_bloq_excl_atend_p := substr(obter_texto_tasy(212936, wheb_usuario_pck.get_nr_seq_idioma),1,255);
			end if;
		end if;
	end if;
else
	SELECT * FROM Obter_Se_Lib_Setor_Conv(cd_estabelecimento_p, cd_convenio_p, cd_categoria_p, ie_tipo_atendimento_p, 0, cd_plano_convenio_p, nr_seq_classificacao_p, ds_msg_bloqueio_atend_w, ie_bloqueia_atendimento_w, ie_clinica_p, cd_empresa_p, cd_procedencia_p, nr_seq_cobertura_p, nr_seq_tipo_acidente_p, cd_tipo_acomodacao_p, cd_medico_resp_p, qt_idade_pf_w, ie_tipo_convenio_ant_w, nr_seq_queixa_p, nr_seq_queixa_ant_w, dt_entrada_p, cd_pessoa_fisica_p) INTO STRICT ds_msg_bloqueio_atend_w, ie_bloqueia_atendimento_w;
	
	if (ie_regra_lib_atend_w = 'S') and (ie_bloqueia_atendimento_w = 'B') then
		if (coalesce(ds_msg_bloqueio_atend_w::text, '') = '') then
			select	ds_convenio
			into STRICT	ds_convenio_w
			from 	convenio
			where 	cd_convenio = cd_convenio_p;
			ds_msg_abort_p :=  substr(ds_convenio_w ||  obter_texto_tasy(90570, wheb_usuario_pck.get_nr_seq_idioma),1,255);
		else
			ds_msg_abort_p := substr(obter_texto_dic_objeto(90571, wheb_usuario_pck.get_nr_seq_idioma, 'ITEM='||ds_msg_bloqueio_atend_w),1,255);
		end if;
	end if;
	if (ie_bloqueia_atendimento_w = 'M') and (ds_msg_bloqueio_atend_w IS NOT NULL AND ds_msg_bloqueio_atend_w::text <> '') then
		ds_msg_bloquei_atend_p :=  substr(obter_texto_dic_objeto(90571, wheb_usuario_pck.get_nr_seq_idioma, 'ITEM='||ds_msg_bloqueio_atend_w),1,255);
	end if;
	if (ie_bloqueia_atendimento_w = 'E') then
		select  count(*)
		into STRICT	qt_atend_w
		from	atendimento_paciente
		where   nr_atendimento = nr_atendimento_p;
	
		if (qt_atend_w > 0) then
			if (ds_msg_bloqueio_atend_w IS NOT NULL AND ds_msg_bloqueio_atend_w::text <> '') then
				ds_msg_bloquei_atend_p := ds_msg_bloqueio_atend_w;
			else
				ds_msg_bloquei_atend_p := substr(obter_texto_tasy(212943, wheb_usuario_pck.get_nr_seq_idioma),1,255);
			end if;
			ds_msg_bloq_excl_atend_p := substr(obter_texto_tasy(212936, wheb_usuario_pck.get_nr_seq_idioma),1,255);
		end if;
	end if;
end if;
if (ds_msg_abort_p IS NOT NULL AND ds_msg_abort_p::text <> '') then
	goto final;
end if;

if (ie_consiste_medico_credenc_p <> 'N') then
	cd_especialidade_medico_w := obter_especialidade_medico(cd_medico_resp_p, 'C');
	ie_medico_credenciado_w := obter_se_medico_conveniado(cd_estabelecimento_p, cd_medico_resp_p, cd_convenio_p, null, cd_especialidade_medico_w, cd_categoria_p, null, cd_plano_convenio_p, dt_entrada_p, ie_tipo_atendimento_p, null);
	if (ie_medico_credenciado_w = 'N') then
		if (ie_consiste_medico_credenc_p = 'S') then
			ds_msg_abort_p :=  substr(obter_texto_tasy(269050, wheb_usuario_pck.get_nr_seq_idioma),1,255);
		elsif (ie_consiste_medico_credenc_p = 'A') then
			ds_msg_medico_cred_p := substr(obter_texto_tasy(269050, wheb_usuario_pck.get_nr_seq_idioma),1,255);
		end if;
		if (ds_msg_abort_p IS NOT NULL AND ds_msg_abort_p::text <> '') then
			goto final;
		end if;
	end if;
end if;
if (coalesce(cd_empresa_p,0) > 0) then
	
	select	count(*)
	into STRICT	qt_empresa_w
	from	empresa_referencia_conv
	where	(cd_convenio IS NOT NULL AND cd_convenio::text <> '')
	and	cd_empr_ref = cd_empresa_p;
	
	if (qt_empresa_w > 0) then
		
		select	count(*)
		into STRICT	qt_empresa_ref_w
		from 	empresa_referencia_conv
		where 	cd_empr_ref = cd_empresa_p
		and 	cd_convenio = cd_convenio_p;
		
		if (qt_empresa_ref_w = 0) then
			ds_msg_empresa_ref_p := substr(obter_texto_dic_objeto(282983, wheb_usuario_pck.get_nr_seq_idioma, 'NM_EMPRESA_CONV='||obter_nome_empresa_ref(cd_empresa_p)),1,255);
		
		end if;
	end if;
end if;

if (ie_convenio_cons_cart_fidel_p IS NOT NULL AND ie_convenio_cons_cart_fidel_p::text <> '') then
	ie_conv_cont_cartao_fidel_w := obter_se_contido(cd_convenio_p,ie_convenio_cons_cart_fidel_p);
	if (ie_conv_cont_cartao_fidel_w = 'S') then
		ie_cartao_vencido_w := Obter_Se_Cartao_Fid_Vencido(cd_pessoa_fisica_p);
		if (ie_cartao_vencido_w = 'S') then
			ds_msg_cart_fidel_venc_p := substr(obter_texto_tasy(90729, wheb_usuario_pck.get_nr_seq_idioma),1,255);
		end if;
	end if;
end if;

if (coalesce(qt_dias_reinterncao_p,0) = 0) and (ie_completo_p = 'S') then
	ds_msg_consist_reinter_p := consistir_reinternacao(cd_pessoa_fisica_p, qt_dias_reinterncao_p, nm_usuario_p, cd_estabelecimento_p, dt_entrada_p, ie_tipo_atendimento_p, cd_convenio_p, null, obter_perfil_ativo, ds_msg_consist_reinter_p);
end if;

if (ie_alerta_convenio_p = 'S') then
	ds_msg_conv_alerta_w:= substr(Obter_Conv_Regra_Alerta(nr_atendimento_p),1,255);
	if (ds_msg_conv_alerta_w IS NOT NULL AND ds_msg_conv_alerta_w::text <> '') then
		ds_msg_conv_alerta_p := ds_msg_conv_alerta_w;
	end if;
end if;

if	((ie_alterou_convenio_p = 'S') or (ie_novo_registro_p = 'S')) and
	((ie_consiste_cpf_conv_p = 'S') or (ie_bloqueia_estrang_w = 'S')) then
	
	select	coalesce(max(ie_exige_cpf_paciente), 'N')
	into STRICT	ie_exige_cpf_paciente_w
        from  	convenio_estabelecimento
        where 	cd_convenio = cd_convenio_p     
        and	cd_estabelecimento = cd_estabelecimento_p;
	
	if (ie_exige_cpf_paciente_w = 'S') then
		ds_msg_alerta_cpf_p := verifica_cpf_pf_atendimento(nr_atendimento_p, cd_convenio_p, ie_tipo_atendimento_p, ds_msg_alerta_cpf_p);
	end if;
end if;

if (ie_regra_valida_cod_usu_p = 'S') then
	ds_proc_regra_val_usuario_w := valida_cod_usuario_conv(cd_convenio_p, cd_categoria_p, ie_tipo_atendimento_p, ds_proc_regra_val_usuario_w);
	
	select	coalesce(max('S'), 'N')
	into STRICT	ie_existe_objeto_convenio_w
	from	user_objects
	where	upper(object_name) = upper(ds_proc_regra_val_usuario_w);
	
	if (ds_proc_regra_val_usuario_w IS NOT NULL AND ds_proc_regra_val_usuario_w::text <> '') and (ie_existe_objeto_convenio_w = 'S')then
		ds_proc_regra_val_usuario_p := ds_proc_regra_val_usuario_w;
	end if;

end if;

if (ie_param_1223 = 'S') then
SELECT * FROM VALIDA_REGRA_ESPEC_MED_PREV(
			OBTER_ESPEC_MEDIC_RESP_EUP(nr_atendimento_p,'C'), ie_tipo_atendimento_p, Obter_Tipo_Convenio(cd_convenio_p), cd_convenio_p, cd_pessoa_fisica_p) INTO STRICT _ora2pg_r;
 ds_mensagem_w := _ora2pg_r.DS_MENSAGEM_P; ie_permite_w
			 := _ora2pg_r.IE_PERMITE_P;

	if (ie_permite_w = 'N') then
		ds_msg_abort_p := ds_mensagem_w;
	end if;

	if (ds_msg_abort_p IS NOT NULL AND ds_msg_abort_p::text <> '') then
		goto final;
	end if;	
	
end if;

<<final>>

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE atend_categ_befpost_inf_eup_js ( ie_regra_valida_cod_usu_p text, ie_bloqueia_estrang_w text, ie_consiste_cpf_conv_p text, ie_alterou_convenio_p text, ie_alerta_convenio_p text, ie_completo_p text, qt_dias_reinterncao_p bigint, ie_convenio_cons_cart_fidel_p text, ie_consiste_medico_credenc_p text, cd_medico_resp_p text, nr_seq_cobertura_p bigint, nr_seq_queixa_p bigint, nr_seq_tipo_acidente_p bigint, cd_procedencia_p bigint, nr_seq_classificacao_p bigint, dt_entrada_p timestamp, cd_tipo_acomodacao_p bigint, ie_edicao_registro_p text, ie_regra_lib_atend_w text, cd_setor_atendimento_p bigint, ie_consiste_cod_usu_plano_w text, ie_inclui_obs_conv_p text, ie_clinica_p bigint, ie_consiste_cod_usu_categ_w text, ie_tipo_atendimento_p bigint, dt_validade_cart_glosa_p timestamp, nr_seq_origem_p bigint, dt_validade_carteira_p timestamp, dt_final_vigencia_p timestamp, cd_empresa_p bigint, cd_complemento_glosa_p text, cd_usuario_conv_glosa_p text, cd_categoria_glosa_p text, cd_convenio_glosa_p bigint, cd_categoria_p text, cd_compl_usuario_p text, nr_doc_conv_principal_p text, nr_doc_conv_retorno_p text, cd_senha_p text, cd_plano_convenio_p text, ie_consiste_cartao_sus_p text, cd_pessoa_fisica_p text, nr_atendimento_p bigint, cd_usuario_convenio_p text, cd_convenio_p bigint, ie_consistir_dupli_cart_p text, cd_estabelecimento_p bigint, nm_usuario_p text, ie_novo_registro_p text, ds_msg_abort_p INOUT text, ds_msg_alerta_cart_p INOUT text, ds_msg_alerta_cartao_sus_p INOUT text, ds_msg_consist_categ_conv_p INOUT text, ds_msg_regra_atend_p INOUT text, ds_msg_cons_cart_categ_p INOUT text, ds_msg_cons_cart_plano_p INOUT text, ds_msg_bloq_excl_atend_p INOUT text, ds_msg_bloquei_atend_p INOUT text, ds_msg_medico_cred_p INOUT text, ds_msg_empresa_ref_p INOUT text, ds_msg_cart_fidel_venc_p INOUT text, ds_msg_consist_reinter_p INOUT text, ds_msg_conv_alerta_p INOUT text, ds_msg_alerta_cpf_p INOUT text, ds_proc_regra_val_usuario_p INOUT text, nr_seq_regra_p INOUT bigint, ie_usuario_categoria_out_w INOUT text) FROM PUBLIC;

