-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE baca_acertar_seq_conv_procmat () AS $body$
DECLARE


nr_seq_mat_w		bigint;
nr_seq_proc_w		bigint;
nr_sequence_mat_w	bigint;
nr_sequence_proc_w	bigint;


BEGIN

select	max(nr_sequencia)
into STRICT	nr_seq_mat_w
from	conversao_material_convenio;

select	nextval('conversao_mat_convenio_seq')
into STRICT	nr_sequence_mat_w
;

if (nr_seq_mat_w > nr_sequence_mat_w) then
	CALL Exec_sql_Dinamico('Ricardo', ' drop sequence conversao_mat_convenio_seq ');
	CALL Exec_sql_Dinamico('Ricardo', ' create sequence conversao_mat_convenio_seq ' ||
				' increment by 1 start with ' || to_char(nr_seq_mat_w + 100) ||
				' maxvalue 9999999999 cycle nocache ');
end if;

select	max(nr_sequencia)
into STRICT	nr_seq_proc_w
from	conversao_proc_convenio;

select	nextval('conversao_proc_convenio_seq')
into STRICT	nr_sequence_proc_w
;

if (nr_seq_proc_w > nr_sequence_proc_w) then
	CALL Tasy_posicionar_sequence('CONVERSAO_PROC_CONVENIO','NR_SEQUENCIA','N');
end if;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE baca_acertar_seq_conv_procmat () FROM PUBLIC;

