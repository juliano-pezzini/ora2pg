-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE importar_carga_planserv ( nr_seq_carga_p bigint, cd_tiss_p text, ds_item_p text, vl_item_p bigint, qt_embalagem_p bigint, vl_unitario_p bigint, ds_fabricante_p text, cd_tipo_p text, ie_quimioterapico_p text, ie_utilizacao_p text, ie_opme_p text, ds_embalagem_p text, nm_usuario_p text) AS $body$
BEGIN

if (nr_seq_carga_p IS NOT NULL AND nr_seq_carga_p::text <> '') then

	insert into carga_planserv_item(	nr_sequencia,
						nr_seq_carga,
						dt_atualizacao,
						nm_usuario,
						dt_atualizacao_nrec,
						nm_usuario_nrec,
						cd_item,
						ds_item,
						vl_item,
						qt_embalagem,
						vl_unitario,
						ds_fabricante,
						cd_tipo,
						ie_quimioterapico,
						ie_utilizacao,
						ds_embalagem,
						ie_opme,
						cd_interno)
				values (		nextval('carga_planserv_item_seq'),
						nr_seq_carga_p,
						clock_timestamp(),
						nm_usuario_p,
						clock_timestamp(),
						nm_usuario_p,
						cd_tiss_p,
						ds_item_p,
						vl_item_p,
						qt_embalagem_p,
						vl_unitario_p,
						ds_fabricante_p,
						cd_tipo_p,
						ie_quimioterapico_p,
						ie_utilizacao_p,
						ds_embalagem_p,
						ie_opme_p,
						null);
	commit;
end if;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE importar_carga_planserv ( nr_seq_carga_p bigint, cd_tiss_p text, ds_item_p text, vl_item_p bigint, qt_embalagem_p bigint, vl_unitario_p bigint, ds_fabricante_p text, cd_tipo_p text, ie_quimioterapico_p text, ie_utilizacao_p text, ie_opme_p text, ds_embalagem_p text, nm_usuario_p text) FROM PUBLIC;

