-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pls_consistir_data_alta ( nr_seq_conta_p pls_conta.nr_sequencia%type, data_1_p timestamp, data_2_p timestamp, data_3_p timestamp, data_4_p timestamp, data_5_p timestamp, data_6_p timestamp, data_7_p timestamp, data_8_p timestamp, nm_usuario_p text) AS $body$
DECLARE


dt_alta_conta_w	pls_conta.dt_alta%type;


BEGIN

select	max(a.dt_alta)
into STRICT	dt_alta_conta_w
from	pls_conta	a
where	a.nr_sequencia	= nr_seq_conta_p;

if	(data_1_p IS NOT NULL AND data_1_p::text <> '' AND data_1_p > dt_alta_conta_w) or
	(data_2_p IS NOT NULL AND data_2_p::text <> '' AND data_2_p > dt_alta_conta_w) or
	(data_3_p IS NOT NULL AND data_3_p::text <> '' AND data_3_p > dt_alta_conta_w) or
	(data_4_p IS NOT NULL AND data_4_p::text <> '' AND data_4_p > dt_alta_conta_w) or
	(data_5_p IS NOT NULL AND data_5_p::text <> '' AND data_5_p > dt_alta_conta_w) or
	(data_6_p IS NOT NULL AND data_6_p::text <> '' AND data_6_p > dt_alta_conta_w) or
	(data_7_p IS NOT NULL AND data_7_p::text <> '' AND data_7_p > dt_alta_conta_w) or
	(data_8_p IS NOT NULL AND data_8_p::text <> '' AND data_8_p > dt_alta_conta_w) then
	CALL wheb_mensagem_pck.exibir_mensagem_abort(336952);
end if;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_consistir_data_alta ( nr_seq_conta_p pls_conta.nr_sequencia%type, data_1_p timestamp, data_2_p timestamp, data_3_p timestamp, data_4_p timestamp, data_5_p timestamp, data_6_p timestamp, data_7_p timestamp, data_8_p timestamp, nm_usuario_p text) FROM PUBLIC;

