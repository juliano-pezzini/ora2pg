-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gerar_evolucao_esus ( nr_sequencia_p bigint, ds_tabela_p text) AS $body$
DECLARE


esus_cad_individual_w       esus_cad_individual%rowtype;
esus_atend_domiciliar_w     esus_atend_domiciliar%rowtype;
esus_atend_individual_w     esus_atend_individual%rowtype;
esus_aval_elegibilidade_w   esus_aval_elegibilidade%rowtype;
esus_visita_domiciliar_w    esus_visita_domiciliar%rowtype;
esus_zica_microcefalia_w    esus_zica_microcefalia%rowtype;
esus_marc_cons_aliment_w    esus_marc_cons_aliment%rowtype;

-- TIPO_EVOLUCAO
cd_tipo_evolucao_w          tipo_evolucao.cd_tipo_evolucao%type;
ie_tipo_evolucao_w		    usuario.ie_tipo_evolucao%type;

-- EVOLUCAO
ds_evolucao_w		        varchar(32000) := '';
ds_cabecalho_w		        varchar(32000);
ds_rodape_w		            varchar(255);
ds_conteudo_w		        varchar(32000);
cd_pessoa_fisica_w          evolucao_paciente.cd_pessoa_fisica%type;
nr_atendimento_w            evolucao_paciente.nr_atendimento%type;
cd_profissional_w           evolucao_paciente.cd_medico%type;

ds_fonte_w		            varchar(100);
ds_tam_fonte_w		        varchar(10);
nr_tam_fonte_w		        integer;


BEGIN
    ds_fonte_w := obter_param_usuario(281, 5, obter_perfil_ativo, obter_usuario_ativo, wheb_usuario_pck.get_cd_estabelecimento, ds_fonte_w);
    ds_tam_fonte_w := obter_param_usuario(281, 6, obter_perfil_ativo, obter_usuario_ativo, wheb_usuario_pck.get_cd_estabelecimento, ds_tam_fonte_w);
    nr_tam_fonte_w := somente_numero(ds_tam_fonte_w) * 2;

    select	max(ie_tipo_evolucao)
    into STRICT	ie_tipo_evolucao_w
    from	usuario
    where	nm_usuario = obter_usuario_ativo;

    select  max(cd_tipo_evolucao)
    into STRICT    cd_tipo_evolucao_w
    from    tipo_evolucao
    where   coalesce(ie_evolucao_suscds,'N') = 'S'
    and     ie_situacao = 'A';

    if (cd_tipo_evolucao_w IS NOT NULL AND cd_tipo_evolucao_w::text <> '') then
    
        if (ds_tabela_p = 'ESUS_CAD_INDIVIDUAL') then
            
            ds_evolucao_w := ds_evolucao_w || wheb_rtf_pck.get_negrito(true) || obter_desc_expressao(732934) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(703003) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            select  *
            into STRICT    esus_cad_individual_w
            from    esus_cad_individual
            where   nr_sequencia = nr_sequencia_p;

            if (esus_cad_individual_w.ie_gestante IS NOT NULL AND esus_cad_individual_w.ie_gestante::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699842) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_gestante when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ds_maternidade_ref IS NOT NULL AND esus_cad_individual_w.ds_maternidade_ref::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699846) ||': ' || esus_cad_individual_w.ds_maternidade_ref ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_situacao_peso IS NOT NULL AND esus_cad_individual_w.ie_situacao_peso::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699850) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_situacao_peso when 'B' then 283048 when 'P' then 283196 when 'C' then 488098 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_fumante IS NOT NULL AND esus_cad_individual_w.ie_fumante::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(289031) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_fumante when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_alcoolatra IS NOT NULL AND esus_cad_individual_w.ie_alcoolatra::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699852) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_alcoolatra when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_usa_drogas IS NOT NULL AND esus_cad_individual_w.ie_usa_drogas::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699854) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_usa_drogas when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_hipertenso IS NOT NULL AND esus_cad_individual_w.ie_hipertenso::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699860) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_hipertenso when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_diabetico IS NOT NULL AND esus_cad_individual_w.ie_diabetico::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699864) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_diabetico when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_avc_derrame IS NOT NULL AND esus_cad_individual_w.ie_avc_derrame::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699868) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_avc_derrame when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_infarto IS NOT NULL AND esus_cad_individual_w.ie_infarto::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699872) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_infarto when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_insulina IS NOT NULL AND esus_cad_individual_w.ie_insulina::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(1079147) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_insulina when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_outras IS NOT NULL AND esus_cad_individual_w.ie_outras::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(1079175) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_outras when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ds_outras_condicoes IS NOT NULL AND esus_cad_individual_w.ds_outras_condicoes::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(1079155) ||': ' || esus_cad_individual_w.ds_outras_condicoes ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_cardiaco IS NOT NULL AND esus_cad_individual_w.ie_cardiaco::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699878) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_cardiaco when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);

                if (esus_cad_individual_w.ie_cardiaco = 'S') then
                    if (esus_cad_individual_w.ie_doenca_cardiaca IS NOT NULL AND esus_cad_individual_w.ie_doenca_cardiaca::text <> '') and (esus_cad_individual_w.ie_doenca_cardiaca = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(292090) ||chr(13)||chr(10);
                    end if;

                    if (esus_cad_individual_w.ie_nao_sab_doe_car IS NOT NULL AND esus_cad_individual_w.ie_nao_sab_doe_car::text <> '') and (esus_cad_individual_w.ie_nao_sab_doe_car = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(487475) ||chr(13)||chr(10);
                    end if;

                    if (esus_cad_individual_w.ie_outra_doe_card IS NOT NULL AND esus_cad_individual_w.ie_outra_doe_card::text <> '') and (esus_cad_individual_w.ie_outra_doe_card = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(295053) ||chr(13)||chr(10);
                    end if;
                end if;
            end if;

            if (esus_cad_individual_w.ie_problema_renal IS NOT NULL AND esus_cad_individual_w.ie_problema_renal::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699890) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_problema_renal when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);

                if (esus_cad_individual_w.ie_problema_renal = 'S') then
                    if (esus_cad_individual_w.ie_doenca_renal IS NOT NULL AND esus_cad_individual_w.ie_doenca_renal::text <> '') and (esus_cad_individual_w.ie_doenca_renal = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(292099) ||chr(13)||chr(10);
                    end if;

                    if (esus_cad_individual_w.ie_nao_sabe_doe_ren IS NOT NULL AND esus_cad_individual_w.ie_nao_sabe_doe_ren::text <> '') and (esus_cad_individual_w.ie_nao_sabe_doe_ren = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(487475) ||chr(13)||chr(10);
                    end if;

                    if (esus_cad_individual_w.ie_outra_doe_ren IS NOT NULL AND esus_cad_individual_w.ie_outra_doe_ren::text <> '') and (esus_cad_individual_w.ie_outra_doe_ren = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(295053) ||chr(13)||chr(10);
                    end if;
                end if;
            end if;

            if (esus_cad_individual_w.ie_prob_respiratorio IS NOT NULL AND esus_cad_individual_w.ie_prob_respiratorio::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(703204) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_prob_respiratorio when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);

                if (esus_cad_individual_w.ie_prob_respiratorio = 'S') then
                    if (esus_cad_individual_w.ie_doenca_respi_asma IS NOT NULL AND esus_cad_individual_w.ie_doenca_respi_asma::text <> '') and (esus_cad_individual_w.ie_doenca_respi_asma = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(700384) ||chr(13)||chr(10);
                    end if;

                    if (esus_cad_individual_w.ie_doe_res_dpoc_enfi IS NOT NULL AND esus_cad_individual_w.ie_doe_res_dpoc_enfi::text <> '') and (esus_cad_individual_w.ie_doe_res_dpoc_enfi = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(703706) ||chr(13)||chr(10);
                    end if;

                    if (esus_cad_individual_w.ie_doenca_resp_outro IS NOT NULL AND esus_cad_individual_w.ie_doenca_resp_outro::text <> '') and (esus_cad_individual_w.ie_doenca_resp_outro = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(295053) ||chr(13)||chr(10);
                    end if;

                    if (esus_cad_individual_w.ie_doen_res_nao_sabe IS NOT NULL AND esus_cad_individual_w.ie_doen_res_nao_sabe::text <> '') and (esus_cad_individual_w.ie_doen_res_nao_sabe = 'S') then
                        ds_evolucao_w := ds_evolucao_w ||chr(9)|| obter_desc_expressao(487475) ||chr(13)||chr(10);
                    end if;
                end if;
            end if;

            if (esus_cad_individual_w.ie_hanseniase IS NOT NULL AND esus_cad_individual_w.ie_hanseniase::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699902) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_hanseniase when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_tuberculose IS NOT NULL AND esus_cad_individual_w.ie_tuberculose::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699906) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_tuberculose when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_cancer IS NOT NULL AND esus_cad_individual_w.ie_cancer::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699908) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_cancer when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_internacao IS NOT NULL AND esus_cad_individual_w.ie_internacao::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699912) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_internacao when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ds_motivo_internacao IS NOT NULL AND esus_cad_individual_w.ds_motivo_internacao::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699916) ||': ' || esus_cad_individual_w.ds_motivo_internacao ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_acamado IS NOT NULL AND esus_cad_individual_w.ie_acamado::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(487229) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_acamado when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_domiciliado IS NOT NULL AND esus_cad_individual_w.ie_domiciliado::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699002) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_domiciliado when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_planta_medicinal IS NOT NULL AND esus_cad_individual_w.ie_planta_medicinal::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699926) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_planta_medicinal when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ds_planta_medicinal IS NOT NULL AND esus_cad_individual_w.ds_planta_medicinal::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699930) ||': ' || esus_cad_individual_w.ds_planta_medicinal ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_prat_integ_compl IS NOT NULL AND esus_cad_individual_w.ie_prat_integ_compl::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699934) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_prat_integ_compl when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ie_prob_mental IS NOT NULL AND esus_cad_individual_w.ie_prob_mental::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(865985) ||': ' || obter_desc_expressao(case esus_cad_individual_w.ie_prob_mental when 'S' then 719927 when 'N' then 327114 end) ||chr(13)||chr(10);
            end if;

            if (esus_cad_individual_w.ds_pri_cond_saude IS NOT NULL AND esus_cad_individual_w.ds_pri_cond_saude::text <> '') or (esus_cad_individual_w.ds_seg_cond_saude IS NOT NULL AND esus_cad_individual_w.ds_seg_cond_saude::text <> '') or (esus_cad_individual_w.ds_ter_cond_saude IS NOT NULL AND esus_cad_individual_w.ds_ter_cond_saude::text <> '') then
                
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(703009) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_cad_individual_w.ds_pri_cond_saude IS NOT NULL AND esus_cad_individual_w.ds_pri_cond_saude::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699946) ||': ' || esus_cad_individual_w.ds_pri_cond_saude ||chr(13)||chr(10);
                end if;

                if (esus_cad_individual_w.ds_seg_cond_saude IS NOT NULL AND esus_cad_individual_w.ds_seg_cond_saude::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699972) ||': ' || esus_cad_individual_w.ds_seg_cond_saude ||chr(13)||chr(10);
                end if;

                if (esus_cad_individual_w.ds_ter_cond_saude IS NOT NULL AND esus_cad_individual_w.ds_ter_cond_saude::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699974) ||': ' || esus_cad_individual_w.ds_ter_cond_saude ||chr(13)||chr(10);
                end if;
            end if;

            cd_pessoa_fisica_w  := esus_cad_individual_w.cd_pessoa_fisica;
            nr_atendimento_w    := esus_cad_individual_w.nr_atendimento;
            cd_profissional_w   := esus_cad_individual_w.cd_profissional;
        end if;

        if (ds_tabela_p = 'ESUS_ATEND_DOMICILIAR') then
        
            ds_evolucao_w := ds_evolucao_w || wheb_rtf_pck.get_negrito(true) || obter_desc_expressao(612946) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(704373) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            select  *
            into STRICT    esus_atend_domiciliar_w
            from    esus_atend_domiciliar
            where   nr_sequencia = nr_sequencia_p;

            if (esus_atend_domiciliar_w.ie_acamado IS NOT NULL AND esus_atend_domiciliar_w.ie_acamado::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(487229) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_acamado) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_domiciliado IS NOT NULL AND esus_atend_domiciliar_w.ie_domiciliado::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699002) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_domiciliado) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_ulcera_ferida IS NOT NULL AND esus_atend_domiciliar_w.ie_ulcera_ferida::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699066) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_ulcera_ferida) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_acom_nutricional IS NOT NULL AND esus_atend_domiciliar_w.ie_acom_nutricional::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699068) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_acom_nutricional) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_sn_gastrica IS NOT NULL AND esus_atend_domiciliar_w.ie_sn_gastrica::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699070) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_sn_gastrica) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_sn_enteral IS NOT NULL AND esus_atend_domiciliar_w.ie_sn_enteral::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699072) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_sn_enteral) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_gastrostomia IS NOT NULL AND esus_atend_domiciliar_w.ie_gastrostomia::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699074) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_gastrostomia) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_colostomia IS NOT NULL AND esus_atend_domiciliar_w.ie_colostomia::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699076) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_colostomia) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_cistostomia IS NOT NULL AND esus_atend_domiciliar_w.ie_cistostomia::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699078) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_cistostomia) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_svd IS NOT NULL AND esus_atend_domiciliar_w.ie_svd::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699080) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_svd) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_acom_pre_oper IS NOT NULL AND esus_atend_domiciliar_w.ie_acom_pre_oper::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699084) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_acom_pre_oper) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_acom_pos_oper IS NOT NULL AND esus_atend_domiciliar_w.ie_acom_pos_oper::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699086) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_acom_pos_oper) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_adap_ort_prot IS NOT NULL AND esus_atend_domiciliar_w.ie_adap_ort_prot::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699088) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_adap_ort_prot) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_reabilitacao IS NOT NULL AND esus_atend_domiciliar_w.ie_reabilitacao::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699090) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_reabilitacao) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_cuid_palia_onco IS NOT NULL AND esus_atend_domiciliar_w.ie_cuid_palia_onco::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699092) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_cuid_palia_onco) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_cuid_pal_nao_onco IS NOT NULL AND esus_atend_domiciliar_w.ie_cuid_pal_nao_onco::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699094) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_cuid_pal_nao_onco) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_oxigen_domiciliar IS NOT NULL AND esus_atend_domiciliar_w.ie_oxigen_domiciliar::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699096) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_oxigen_domiciliar) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_traqueostomia IS NOT NULL AND esus_atend_domiciliar_w.ie_traqueostomia::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699098) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_traqueostomia) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_sup_vent_cpap IS NOT NULL AND esus_atend_domiciliar_w.ie_sup_vent_cpap::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699104) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_sup_vent_cpap) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_sup_vent_bipap IS NOT NULL AND esus_atend_domiciliar_w.ie_sup_vent_bipap::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699106) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_sup_vent_bipap) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_dialise_perit IS NOT NULL AND esus_atend_domiciliar_w.ie_dialise_perit::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699108) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_dialise_perit) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_paracentese IS NOT NULL AND esus_atend_domiciliar_w.ie_paracentese::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699110) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_paracentese) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_medic_parenteral IS NOT NULL AND esus_atend_domiciliar_w.ie_medic_parenteral::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699112) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_medic_parenteral) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.cd_doenca_cid IS NOT NULL AND esus_atend_domiciliar_w.cd_doenca_cid::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(284902) ||': ' || substr(obter_desc_cid(esus_atend_domiciliar_w.cd_doenca_cid),1,255) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.cd_doenca_ciap IS NOT NULL AND esus_atend_domiciliar_w.cd_doenca_ciap::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699114) ||': ' || substr(obter_desc_ciap(esus_atend_domiciliar_w.cd_doenca_ciap),1,255) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_asp_via_aerea IS NOT NULL AND esus_atend_domiciliar_w.ie_asp_via_aerea::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699102) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_asp_via_aerea) ||chr(13)||chr(10);
            end if;

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(929928) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            if (esus_atend_domiciliar_w.ie_reab_des_neuro IS NOT NULL AND esus_atend_domiciliar_w.ie_reab_des_neuro::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(865957) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_reab_des_neuro) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_fisio_trans_resp_sis IS NOT NULL AND esus_atend_domiciliar_w.ie_fisio_trans_resp_sis::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(865959) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_fisio_trans_resp_sis) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_reab_multi_def IS NOT NULL AND esus_atend_domiciliar_w.ie_reab_multi_def::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(865961) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_reab_multi_def) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_reab_com_alter IS NOT NULL AND esus_atend_domiciliar_w.ie_reab_com_alter::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(865963) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_reab_com_alter) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_antibio_parent IS NOT NULL AND esus_atend_domiciliar_w.ie_antibio_parent::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699128) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_antibio_parent) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_final_atest_obito IS NOT NULL AND esus_atend_domiciliar_w.ie_final_atest_obito::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699136) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_final_atest_obito) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_catet_ves_alivio IS NOT NULL AND esus_atend_domiciliar_w.ie_catet_ves_alivio::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699140) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_catet_ves_alivio) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_catet_ves_demora IS NOT NULL AND esus_atend_domiciliar_w.ie_catet_ves_demora::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699142) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_catet_ves_demora) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_col_exame_labor IS NOT NULL AND esus_atend_domiciliar_w.ie_col_exame_labor::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699144) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_col_exame_labor) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_cuidado_estomas IS NOT NULL AND esus_atend_domiciliar_w.ie_cuidado_estomas::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699146) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_cuidado_estomas) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_cuidado_traqueo IS NOT NULL AND esus_atend_domiciliar_w.ie_cuidado_traqueo::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699148) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_cuidado_traqueo) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_enema IS NOT NULL AND esus_atend_domiciliar_w.ie_enema::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(488715) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_enema) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_oxigenoterapia IS NOT NULL AND esus_atend_domiciliar_w.ie_oxigenoterapia::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699150) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_oxigenoterapia) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_ret_ponto_cir_basic IS NOT NULL AND esus_atend_domiciliar_w.ie_ret_ponto_cir_basic::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699152) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_ret_ponto_cir_basic) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_sondagem_gastrica IS NOT NULL AND esus_atend_domiciliar_w.ie_sondagem_gastrica::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699154) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_sondagem_gastrica) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_terap_reidra_oral IS NOT NULL AND esus_atend_domiciliar_w.ie_terap_reidra_oral::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699156) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_terap_reidra_oral) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_terap_reidra_pare IS NOT NULL AND esus_atend_domiciliar_w.ie_terap_reidra_pare::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699158) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_terap_reidra_pare) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_terap_fono_indiv IS NOT NULL AND esus_atend_domiciliar_w.ie_terap_fono_indiv::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699160) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_terap_fono_indiv) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_trat_reabilitacao IS NOT NULL AND esus_atend_domiciliar_w.ie_trat_reabilitacao::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699164) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_trat_reabilitacao) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_conduta_desfecho IS NOT NULL AND esus_atend_domiciliar_w.ie_conduta_desfecho::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699170) ||': ' || obter_desc_expressao(case esus_atend_domiciliar_w.ie_conduta_desfecho when 1 then 10652257 when 2 then 489381 when 3 then 489428 when 4 then 936430 when 5 then 798277 when 7 then 295529 when 9 then 294559 end) ||chr(13)||chr(10);
            end if;

            if (esus_atend_domiciliar_w.ie_trat_trauma_local IS NOT NULL AND esus_atend_domiciliar_w.ie_trat_trauma_local::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(865652) ||': ' || obter_expressao_sim_nao(esus_atend_domiciliar_w.ie_trat_trauma_local) ||chr(13)||chr(10);
            end if;

            cd_pessoa_fisica_w  := esus_atend_domiciliar_w.cd_pessoa_fisica;
            nr_atendimento_w    := esus_atend_domiciliar_w.nr_atendimento;
            cd_profissional_w   := esus_atend_domiciliar_w.cd_profissional;
        end if;

        if (ds_tabela_p = 'ESUS_ATEND_INDIVIDUAL') then
        
            ds_evolucao_w := ds_evolucao_w || wheb_rtf_pck.get_negrito(true) || obter_desc_expressao(970363) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(704553) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            select  *
            into STRICT    esus_atend_individual_w
            from    esus_atend_individual
            where   nr_sequencia = nr_sequencia_p;

            if (esus_atend_individual_w.ie_asma IS NOT NULL AND esus_atend_individual_w.ie_asma::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700384) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_asma) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_desnutricao IS NOT NULL AND esus_atend_individual_w.ie_desnutricao::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(287606) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_desnutricao) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_diabetes IS NOT NULL AND esus_atend_individual_w.ie_diabetes::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(287685) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_diabetes) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_dpoc IS NOT NULL AND esus_atend_individual_w.ie_dpoc::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(288288) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_dpoc) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_hiper_arterial IS NOT NULL AND esus_atend_individual_w.ie_hiper_arterial::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(291292) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_hiper_arterial) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_obesidade IS NOT NULL AND esus_atend_individual_w.ie_obesidade::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(294557) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_obesidade) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_pre_natal IS NOT NULL AND esus_atend_individual_w.ie_pre_natal::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(296199) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_pre_natal) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_puericultura IS NOT NULL AND esus_atend_individual_w.ie_puericultura::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700386) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_puericultura) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_puerperio IS NOT NULL AND esus_atend_individual_w.ie_puerperio::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700388) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_puerperio) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_saude_sex_reprod IS NOT NULL AND esus_atend_individual_w.ie_saude_sex_reprod::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700390) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_saude_sex_reprod) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_tabagismo IS NOT NULL AND esus_atend_individual_w.ie_tabagismo::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(299003) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_tabagismo) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_usuario_alcool IS NOT NULL AND esus_atend_individual_w.ie_usuario_alcool::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700392) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_usuario_alcool) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_usuario_drogas IS NOT NULL AND esus_atend_individual_w.ie_usuario_drogas::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700394) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_usuario_drogas) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_saude_mental IS NOT NULL AND esus_atend_individual_w.ie_saude_mental::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298057) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_saude_mental) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_reabilitacao IS NOT NULL AND esus_atend_individual_w.ie_reabilitacao::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(488422) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_reabilitacao) ||chr(13)||chr(10);
            end if;

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(704559) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            if (esus_atend_individual_w.ie_tuberculose IS NOT NULL AND esus_atend_individual_w.ie_tuberculose::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(300537) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_tuberculose) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_hanseniase IS NOT NULL AND esus_atend_individual_w.ie_hanseniase::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700398) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_hanseniase) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_dengue IS NOT NULL AND esus_atend_individual_w.ie_dengue::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(488686) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_dengue) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_dst IS NOT NULL AND esus_atend_individual_w.ie_dst::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(288306) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_dst) ||chr(13)||chr(10);
            end if;

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(704561) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            if (esus_atend_individual_w.ie_cancer_colo_utero IS NOT NULL AND esus_atend_individual_w.ie_cancer_colo_utero::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700400) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_cancer_colo_utero) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_cancer_mama IS NOT NULL AND esus_atend_individual_w.ie_cancer_mama::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700402) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_cancer_mama) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_risco_cardio IS NOT NULL AND esus_atend_individual_w.ie_risco_cardio::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(297904) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_risco_cardio) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.cd_ciap01 IS NOT NULL AND esus_atend_individual_w.cd_ciap01::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700406) ||': ' || substr(obter_desc_ciap(esus_atend_individual_w.cd_ciap01),1,255) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.cd_ciap02 IS NOT NULL AND esus_atend_individual_w.cd_ciap02::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700408) ||': ' || substr(obter_desc_ciap(esus_atend_individual_w.cd_ciap02),1,255) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.cd_doenca_cid IS NOT NULL AND esus_atend_individual_w.cd_doenca_cid::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700496) ||': ' || substr(obter_desc_cid(esus_atend_individual_w.cd_doenca_cid),1,255) ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.cd_doenca_cid2 IS NOT NULL AND esus_atend_individual_w.cd_doenca_cid2::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747109) ||': ' || substr(obter_desc_cid(esus_atend_individual_w.cd_doenca_cid2),1,255) ||chr(13)||chr(10);
            end if;

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(704567) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            if (esus_atend_individual_w.ie_colesterol_total IS NOT NULL AND esus_atend_individual_w.ie_colesterol_total::text <> '') or (esus_atend_individual_w.ie_coleste_total_sol IS NOT NULL AND esus_atend_individual_w.ie_coleste_total_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700412) ||': ';
                if (esus_atend_individual_w.ie_colesterol_total IS NOT NULL AND esus_atend_individual_w.ie_colesterol_total::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_colesterol_total) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_coleste_total_sol IS NOT NULL AND esus_atend_individual_w.ie_coleste_total_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_coleste_total_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_creatinina IS NOT NULL AND esus_atend_individual_w.ie_creatinina::text <> '') or (esus_atend_individual_w.ie_creatinina_solic IS NOT NULL AND esus_atend_individual_w.ie_creatinina_solic::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(286342) ||': ';
                if (esus_atend_individual_w.ie_creatinina IS NOT NULL AND esus_atend_individual_w.ie_creatinina::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_creatinina) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_creatinina_solic IS NOT NULL AND esus_atend_individual_w.ie_creatinina_solic::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_creatinina_solic);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_eas_equ IS NOT NULL AND esus_atend_individual_w.ie_eas_equ::text <> '') or (esus_atend_individual_w.ie_eas_equ_solicit IS NOT NULL AND esus_atend_individual_w.ie_eas_equ_solicit::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700414) ||': ';
                if (esus_atend_individual_w.ie_eas_equ IS NOT NULL AND esus_atend_individual_w.ie_eas_equ::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_eas_equ) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_eas_equ_solicit IS NOT NULL AND esus_atend_individual_w.ie_eas_equ_solicit::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_eas_equ_solicit);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_eletrocardiograma IS NOT NULL AND esus_atend_individual_w.ie_eletrocardiograma::text <> '') or (esus_atend_individual_w.ie_eletrocard_solic IS NOT NULL AND esus_atend_individual_w.ie_eletrocard_solic::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(289098) ||': ';
                if (esus_atend_individual_w.ie_eletrocardiograma IS NOT NULL AND esus_atend_individual_w.ie_eletrocardiograma::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_eletrocardiograma) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_eletrocard_solic IS NOT NULL AND esus_atend_individual_w.ie_eletrocard_solic::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_eletrocard_solic);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_eletroforese_hemo IS NOT NULL AND esus_atend_individual_w.ie_eletroforese_hemo::text <> '') or (esus_atend_individual_w.ie_eletrof_hemo_sol IS NOT NULL AND esus_atend_individual_w.ie_eletrof_hemo_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700416) ||': ';
                if (esus_atend_individual_w.ie_eletroforese_hemo IS NOT NULL AND esus_atend_individual_w.ie_eletroforese_hemo::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_eletroforese_hemo) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_eletrof_hemo_sol IS NOT NULL AND esus_atend_individual_w.ie_eletrof_hemo_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_eletrof_hemo_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_espirometria IS NOT NULL AND esus_atend_individual_w.ie_espirometria::text <> '') or (esus_atend_individual_w.ie_espirometria_soli IS NOT NULL AND esus_atend_individual_w.ie_espirometria_soli::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700418) ||': ';
                if (esus_atend_individual_w.ie_espirometria IS NOT NULL AND esus_atend_individual_w.ie_espirometria::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_espirometria) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_espirometria_soli IS NOT NULL AND esus_atend_individual_w.ie_espirometria_soli::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_espirometria_soli);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_exame_escarro IS NOT NULL AND esus_atend_individual_w.ie_exame_escarro::text <> '') or (esus_atend_individual_w.ie_exame_escarro_sol IS NOT NULL AND esus_atend_individual_w.ie_exame_escarro_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700420) ||': ';
                if (esus_atend_individual_w.ie_exame_escarro IS NOT NULL AND esus_atend_individual_w.ie_exame_escarro::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_exame_escarro) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_exame_escarro_sol IS NOT NULL AND esus_atend_individual_w.ie_exame_escarro_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_exame_escarro_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_glicemia IS NOT NULL AND esus_atend_individual_w.ie_glicemia::text <> '') or (esus_atend_individual_w.ie_glicemia_solicita IS NOT NULL AND esus_atend_individual_w.ie_glicemia_solicita::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(290912) ||': ';
                if (esus_atend_individual_w.ie_glicemia IS NOT NULL AND esus_atend_individual_w.ie_glicemia::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_glicemia) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_glicemia_solicita IS NOT NULL AND esus_atend_individual_w.ie_glicemia_solicita::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_glicemia_solicita);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_hdl IS NOT NULL AND esus_atend_individual_w.ie_hdl::text <> '') or (esus_atend_individual_w.ie_hdl_solicitado IS NOT NULL AND esus_atend_individual_w.ie_hdl_solicitado::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(683416) ||': ';
                if (esus_atend_individual_w.ie_hdl IS NOT NULL AND esus_atend_individual_w.ie_hdl::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_hdl) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_hdl_solicitado IS NOT NULL AND esus_atend_individual_w.ie_hdl_solicitado::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_hdl_solicitado);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_hemoglob_glicada IS NOT NULL AND esus_atend_individual_w.ie_hemoglob_glicada::text <> '') or (esus_atend_individual_w.ie_hemog_glicada_sol IS NOT NULL AND esus_atend_individual_w.ie_hemog_glicada_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700422) ||': ';
                if (esus_atend_individual_w.ie_hemoglob_glicada IS NOT NULL AND esus_atend_individual_w.ie_hemoglob_glicada::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_hemoglob_glicada) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_hemog_glicada_sol IS NOT NULL AND esus_atend_individual_w.ie_hemog_glicada_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_hemog_glicada_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_hemograma IS NOT NULL AND esus_atend_individual_w.ie_hemograma::text <> '') or (esus_atend_individual_w.ie_hemograma_solicit IS NOT NULL AND esus_atend_individual_w.ie_hemograma_solicit::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(291253) ||': ';
                if (esus_atend_individual_w.ie_hemograma IS NOT NULL AND esus_atend_individual_w.ie_hemograma::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_hemograma) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_hemograma_solicit IS NOT NULL AND esus_atend_individual_w.ie_hemograma_solicit::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_hemograma_solicit);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_ldl IS NOT NULL AND esus_atend_individual_w.ie_ldl::text <> '') or (esus_atend_individual_w.ie_ldl_solicitado IS NOT NULL AND esus_atend_individual_w.ie_ldl_solicitado::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700424) ||': ';
                if (esus_atend_individual_w.ie_ldl IS NOT NULL AND esus_atend_individual_w.ie_ldl::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_ldl) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_ldl_solicitado IS NOT NULL AND esus_atend_individual_w.ie_ldl_solicitado::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_ldl_solicitado);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_ret_fundo_olho IS NOT NULL AND esus_atend_individual_w.ie_ret_fundo_olho::text <> '') or (esus_atend_individual_w.ie_ret_fun_olho_solic IS NOT NULL AND esus_atend_individual_w.ie_ret_fun_olho_solic::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700426) ||': ';
                if (esus_atend_individual_w.ie_ret_fundo_olho IS NOT NULL AND esus_atend_individual_w.ie_ret_fundo_olho::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_ret_fundo_olho) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_ret_fun_olho_solic IS NOT NULL AND esus_atend_individual_w.ie_ret_fun_olho_solic::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_ret_fun_olho_solic);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_sorol_sifilis IS NOT NULL AND esus_atend_individual_w.ie_sorol_sifilis::text <> '') or (esus_atend_individual_w.ie_sorol_sifilis_sol IS NOT NULL AND esus_atend_individual_w.ie_sorol_sifilis_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700428) ||': ';
                if (esus_atend_individual_w.ie_sorol_sifilis IS NOT NULL AND esus_atend_individual_w.ie_sorol_sifilis::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_sorol_sifilis) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_sorol_sifilis_sol IS NOT NULL AND esus_atend_individual_w.ie_sorol_sifilis_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_sorol_sifilis_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_sorol_dengue IS NOT NULL AND esus_atend_individual_w.ie_sorol_dengue::text <> '') or (esus_atend_individual_w.ie_sorol_dengue_sol IS NOT NULL AND esus_atend_individual_w.ie_sorol_dengue_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700430) ||': ';
                if (esus_atend_individual_w.ie_sorol_dengue IS NOT NULL AND esus_atend_individual_w.ie_sorol_dengue::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_sorol_dengue) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_sorol_dengue_sol IS NOT NULL AND esus_atend_individual_w.ie_sorol_dengue_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_sorol_dengue_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_sorol_hiv IS NOT NULL AND esus_atend_individual_w.ie_sorol_hiv::text <> '') or (esus_atend_individual_w.ie_sorol_hiv_solicit IS NOT NULL AND esus_atend_individual_w.ie_sorol_hiv_solicit::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700432) ||': ';
                if (esus_atend_individual_w.ie_sorol_hiv IS NOT NULL AND esus_atend_individual_w.ie_sorol_hiv::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_sorol_hiv) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_sorol_hiv_solicit IS NOT NULL AND esus_atend_individual_w.ie_sorol_hiv_solicit::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_sorol_hiv_solicit);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_antiglobulina_tia IS NOT NULL AND esus_atend_individual_w.ie_antiglobulina_tia::text <> '') or (esus_atend_individual_w.ie_antiglob_tia_solic IS NOT NULL AND esus_atend_individual_w.ie_antiglob_tia_solic::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700434) ||': ';
                if (esus_atend_individual_w.ie_antiglobulina_tia IS NOT NULL AND esus_atend_individual_w.ie_antiglobulina_tia::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_antiglobulina_tia) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_antiglob_tia_solic IS NOT NULL AND esus_atend_individual_w.ie_antiglob_tia_solic::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_antiglob_tia_solic);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_teste_gravidez IS NOT NULL AND esus_atend_individual_w.ie_teste_gravidez::text <> '') or (esus_atend_individual_w.ie_teste_gravid_sol IS NOT NULL AND esus_atend_individual_w.ie_teste_gravid_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700438) ||': ';
                if (esus_atend_individual_w.ie_teste_gravidez IS NOT NULL AND esus_atend_individual_w.ie_teste_gravidez::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_teste_gravidez) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_teste_gravid_sol IS NOT NULL AND esus_atend_individual_w.ie_teste_gravid_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_teste_gravid_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_ultrasson_obst IS NOT NULL AND esus_atend_individual_w.ie_ultrasson_obst::text <> '') or (esus_atend_individual_w.ie_ultras_obste_soli IS NOT NULL AND esus_atend_individual_w.ie_ultras_obste_soli::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700440) ||': ';
                if (esus_atend_individual_w.ie_ultrasson_obst IS NOT NULL AND esus_atend_individual_w.ie_ultrasson_obst::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_ultrasson_obst) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_ultras_obste_soli IS NOT NULL AND esus_atend_individual_w.ie_ultras_obste_soli::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_ultras_obste_soli);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_urocultura IS NOT NULL AND esus_atend_individual_w.ie_urocultura::text <> '') or (esus_atend_individual_w.ie_urocultura_solic IS NOT NULL AND esus_atend_individual_w.ie_urocultura_solic::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700442) ||': ';
                if (esus_atend_individual_w.ie_urocultura IS NOT NULL AND esus_atend_individual_w.ie_urocultura::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_urocultura) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_urocultura_solic IS NOT NULL AND esus_atend_individual_w.ie_urocultura_solic::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_urocultura_solic);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(926833) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            if (esus_atend_individual_w.ie_teste_pezinho IS NOT NULL AND esus_atend_individual_w.ie_teste_pezinho::text <> '') or (esus_atend_individual_w.ie_teste_pezinho_sol IS NOT NULL AND esus_atend_individual_w.ie_teste_pezinho_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(299330) ||': ';
                if (esus_atend_individual_w.ie_teste_pezinho IS NOT NULL AND esus_atend_individual_w.ie_teste_pezinho::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_teste_pezinho) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_teste_pezinho_sol IS NOT NULL AND esus_atend_individual_w.ie_teste_pezinho_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_teste_pezinho_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_teste_olhinho IS NOT NULL AND esus_atend_individual_w.ie_teste_olhinho::text <> '') or (esus_atend_individual_w.ie_teste_olhinho_sol IS NOT NULL AND esus_atend_individual_w.ie_teste_olhinho_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(299329) ||': ';
                if (esus_atend_individual_w.ie_teste_olhinho IS NOT NULL AND esus_atend_individual_w.ie_teste_olhinho::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_teste_olhinho) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_teste_olhinho_sol IS NOT NULL AND esus_atend_individual_w.ie_teste_olhinho_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_teste_olhinho_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_teste_orelhinha IS NOT NULL AND esus_atend_individual_w.ie_teste_orelhinha::text <> '') or (esus_atend_individual_w.ie_teste_orelhin_sol IS NOT NULL AND esus_atend_individual_w.ie_teste_orelhin_sol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700436) ||': ';
                if (esus_atend_individual_w.ie_teste_orelhinha IS NOT NULL AND esus_atend_individual_w.ie_teste_orelhinha::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(310059) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_teste_orelhinha) || ' / ';
                end if;
                if (esus_atend_individual_w.ie_teste_orelhin_sol IS NOT NULL AND esus_atend_individual_w.ie_teste_orelhin_sol::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(298654) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_teste_orelhin_sol);
                end if;
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10);
            end if;

            if (esus_atend_individual_w.ie_ficou_observ IS NOT NULL AND esus_atend_individual_w.ie_ficou_observ::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700446) ||': ' || obter_expressao_sim_nao(esus_atend_individual_w.ie_ficou_observ) ||chr(13)||chr(10);
            end if;

            cd_pessoa_fisica_w  := esus_atend_individual_w.cd_pessoa_fisica;
            nr_atendimento_w    := esus_atend_individual_w.nr_atendimento;
            cd_profissional_w   := esus_atend_individual_w.cd_profissional;
        end if;

        if (ds_tabela_p = 'ESUS_AVAL_ELEGIBILIDADE') then
        
            ds_evolucao_w := ds_evolucao_w || wheb_rtf_pck.get_negrito(true) || obter_desc_expressao(970375) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(704373) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            select  *
            into STRICT    esus_aval_elegibilidade_w
            from    esus_aval_elegibilidade
            where   nr_sequencia = nr_sequencia_p;

            if (esus_aval_elegibilidade_w.ie_con_ava_acamado IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_acamado::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(318368) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_acamado) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_domicilia IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_domicilia::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699002) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_domicilia) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_ulc_ferid IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_ulc_ferid::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699066) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_ulc_ferid) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_acom_nutr IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_acom_nutr::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699068) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_acom_nutr) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_sonda_sng IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_sonda_sng::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699070) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_sonda_sng) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_sonta_sne IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_sonta_sne::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699072) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_sonta_sne) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_gastrosto IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_gastrosto::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699074) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_gastrosto) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_colostomi IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_colostomi::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699076) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_colostomi) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_cistostom IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_cistostom::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699078) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_cistostom) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_sonda_svd IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_sonda_svd::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699080) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_sonda_svd) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_acom_preo IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_acom_preo::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699084) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_acom_preo) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_acom_poso IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_acom_poso::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699086) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_acom_poso) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_adap_orte IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_adap_orte::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701600) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_adap_orte) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_reab_domi IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_reab_domi::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699090) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_reab_domi) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_cuid_onco IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_cuid_onco::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699092) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_cuid_onco) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_nao_oncol IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_nao_oncol::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699094) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_nao_oncol) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_oxige_dom IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_oxige_dom::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699096) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_oxige_dom) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_traqueost IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_traqueost::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699098) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_traqueost) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_sup_cpap IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_sup_cpap::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699104) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_sup_cpap) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_sup_bipap IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_sup_bipap::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699106) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_sup_bipap) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_dia_perit IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_dia_perit::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699108) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_dia_perit) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_paracente IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_paracente::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699110) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_paracente) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_med_paren IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_med_paren::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(699112) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_med_paren) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_con_ava_hig_bronq IS NOT NULL AND esus_aval_elegibilidade_w.ie_con_ava_hig_bronq::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701618) ||': ' || obter_expressao_sim_nao(esus_aval_elegibilidade_w.ie_con_ava_hig_bronq) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.cd_cid_principal IS NOT NULL AND esus_aval_elegibilidade_w.cd_cid_principal::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701630) ||': ' || substr(obter_desc_cid(esus_aval_elegibilidade_w.cd_cid_principal),1,255) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.cd_cid_secundario_1 IS NOT NULL AND esus_aval_elegibilidade_w.cd_cid_secundario_1::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701632) ||': ' || substr(obter_desc_cid(esus_aval_elegibilidade_w.cd_cid_secundario_1),1,255) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.cd_cid_secundario_2 IS NOT NULL AND esus_aval_elegibilidade_w.cd_cid_secundario_2::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701634) ||': ' || substr(obter_desc_cid(esus_aval_elegibilidade_w.cd_cid_secundario_2),1,255) ||chr(13)||chr(10);
            end if;

            if (esus_aval_elegibilidade_w.ie_conclusao IS NOT NULL AND esus_aval_elegibilidade_w.ie_conclusao::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(285638) ||': ' || obter_desc_expressao(case esus_aval_elegibilidade_w.ie_conclusao when 1 then 698282 when 2 then 698284 when 3 then 698286 when 4 then 596864 end) ||chr(13)||chr(10);
            end if;

            cd_pessoa_fisica_w  := esus_aval_elegibilidade_w.cd_pessoa_fisica;
            cd_profissional_w   := esus_aval_elegibilidade_w.cd_profissional;
        end if;

        if (ds_tabela_p = 'ESUS_VISITA_DOMICILIAR') then
            
            ds_evolucao_w := ds_evolucao_w || wheb_rtf_pck.get_negrito(true) || obter_desc_expressao(970371) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(283171) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            select  *
            into STRICT    esus_visita_domiciliar_w
            from    esus_visita_domiciliar
            where   nr_sequencia = nr_sequencia_p;

            if (esus_visita_domiciliar_w.ie_acomp_gestante IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_gestante::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(290889) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_gestante) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_puerpera IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_puerpera::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701338) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_puerpera) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_rec_nascido IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_rec_nascido::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701340) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_rec_nascido) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_crianca IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_crianca::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(489689) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_crianca) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pes_desnutr IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pes_desnutr::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701342) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pes_desnutr) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pes_rea_def IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pes_rea_def::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701344) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pes_rea_def) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pes_hiperte IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pes_hiperte::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701346) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pes_hiperte) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pes_diabete IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pes_diabete::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701348) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pes_diabete) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pessoa_asma IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pessoa_asma::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701350) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pessoa_asma) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pessoa_dpoc IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pessoa_dpoc::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701352) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pessoa_dpoc) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pess_cancer IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pess_cancer::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701416) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pess_cancer) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pes_doe_cro IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pes_doe_cro::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701354) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pes_doe_cro) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pes_hanseni IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pes_hanseni::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701356) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pes_hanseni) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_pes_tubercu IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_pes_tubercu::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701358) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_pes_tubercu) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_sintom_resp IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_sintom_resp::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701360) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_sintom_resp) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_tabagista IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_tabagista::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701362) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_tabagista) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_domic_acama IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_domic_acama::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701364) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_domic_acama) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_con_vul_soc IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_con_vul_soc::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701366) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_con_vul_soc) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_con_bol_fam IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_con_bol_fam::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701336) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_con_bol_fam) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_saude_menta IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_saude_menta::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(701370) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_saude_menta) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_usua_alcool IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_usua_alcool::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700392) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_usua_alcool) ||chr(13)||chr(10);
            end if;

            if (esus_visita_domiciliar_w.ie_acomp_usua_drogas IS NOT NULL AND esus_visita_domiciliar_w.ie_acomp_usua_drogas::text <> '') then
                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(700394) ||': ' || obter_expressao_sim_nao(esus_visita_domiciliar_w.ie_acomp_usua_drogas) ||chr(13)||chr(10);
            end if;

            cd_pessoa_fisica_w  := esus_visita_domiciliar_w.cd_pessoa_fisica;
            nr_atendimento_w    := esus_visita_domiciliar_w.nr_atendimento;
            cd_profissional_w   := esus_visita_domiciliar_w.cd_profissional;
        end if;

        if (ds_tabela_p = 'ESUS_ZICA_MICROCEFALIA') then
            
            ds_evolucao_w := ds_evolucao_w || wheb_rtf_pck.get_negrito(true) || obter_desc_expressao(864434) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(749548) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            select  *
            into STRICT    esus_zica_microcefalia_w
            from    esus_zica_microcefalia
            where   nr_sequencia = nr_sequencia_p;

            if (esus_zica_microcefalia_w.dt_teste_olhinho IS NOT NULL AND esus_zica_microcefalia_w.dt_teste_olhinho::text <> '') or (esus_zica_microcefalia_w.ie_result_te_olhinho IS NOT NULL AND esus_zica_microcefalia_w.ie_result_te_olhinho::text <> '') then
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(749550) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_zica_microcefalia_w.dt_teste_olhinho IS NOT NULL AND esus_zica_microcefalia_w.dt_teste_olhinho::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(286750) ||': ' || esus_zica_microcefalia_w.dt_teste_olhinho ||chr(13)||chr(10);
                end if;

                if (esus_zica_microcefalia_w.ie_result_te_olhinho IS NOT NULL AND esus_zica_microcefalia_w.ie_result_te_olhinho::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(297817) ||': ' || obter_desc_radio_group(749580, esus_zica_microcefalia_w.ie_result_te_olhinho) ||chr(13)||chr(10);
                end if;
            end if;

            if (esus_zica_microcefalia_w.dt_exame_fundo_olho IS NOT NULL AND esus_zica_microcefalia_w.dt_exame_fundo_olho::text <> '') or (esus_zica_microcefalia_w.ie_result_ex_fu_olho IS NOT NULL AND esus_zica_microcefalia_w.ie_result_ex_fu_olho::text <> '') then
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(749552) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_zica_microcefalia_w.dt_exame_fundo_olho IS NOT NULL AND esus_zica_microcefalia_w.dt_exame_fundo_olho::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(286750) ||': ' || esus_zica_microcefalia_w.dt_exame_fundo_olho ||chr(13)||chr(10);
                end if;

                if (esus_zica_microcefalia_w.ie_result_ex_fu_olho IS NOT NULL AND esus_zica_microcefalia_w.ie_result_ex_fu_olho::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(297817) ||': ' || obter_desc_radio_group(749576, esus_zica_microcefalia_w.ie_result_ex_fu_olho) ||chr(13)||chr(10);
                end if;
            end if;

            if (esus_zica_microcefalia_w.dt_teste_orelhinha IS NOT NULL AND esus_zica_microcefalia_w.dt_teste_orelhinha::text <> '') or (esus_zica_microcefalia_w.ie_result_te_orelhin IS NOT NULL AND esus_zica_microcefalia_w.ie_result_te_orelhin::text <> '') then
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(749556) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_zica_microcefalia_w.dt_teste_orelhinha IS NOT NULL AND esus_zica_microcefalia_w.dt_teste_orelhinha::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(286750) ||': ' || esus_zica_microcefalia_w.dt_teste_orelhinha ||chr(13)||chr(10);
                end if;

                if (esus_zica_microcefalia_w.ie_result_te_orelhin IS NOT NULL AND esus_zica_microcefalia_w.ie_result_te_orelhin::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(297817) ||': ' || obter_desc_radio_group(749604, esus_zica_microcefalia_w.ie_result_te_orelhin) ||chr(13)||chr(10);
                end if;
            end if;

            if (esus_zica_microcefalia_w.dt_ultras_transfon IS NOT NULL AND esus_zica_microcefalia_w.dt_ultras_transfon::text <> '') or (esus_zica_microcefalia_w.ie_result_ult_transf IS NOT NULL AND esus_zica_microcefalia_w.ie_result_ult_transf::text <> '') then
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(749564) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_zica_microcefalia_w.dt_ultras_transfon IS NOT NULL AND esus_zica_microcefalia_w.dt_ultras_transfon::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(286750) ||': ' || esus_zica_microcefalia_w.dt_ultras_transfon ||chr(13)||chr(10);
                end if;

                if (esus_zica_microcefalia_w.ie_result_ult_transf IS NOT NULL AND esus_zica_microcefalia_w.ie_result_ult_transf::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(297817) ||': ' || obter_desc_radio_group(749610, esus_zica_microcefalia_w.ie_result_ult_transf) ||chr(13)||chr(10);
                end if;
            end if;

            if (esus_zica_microcefalia_w.dt_tomo_comput IS NOT NULL AND esus_zica_microcefalia_w.dt_tomo_comput::text <> '') or (esus_zica_microcefalia_w.ie_result_tomo_compu IS NOT NULL AND esus_zica_microcefalia_w.ie_result_tomo_compu::text <> '') then
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(488539) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_zica_microcefalia_w.dt_tomo_comput IS NOT NULL AND esus_zica_microcefalia_w.dt_tomo_comput::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(286750) ||': ' || esus_zica_microcefalia_w.dt_tomo_comput ||chr(13)||chr(10);
                end if;

                if (esus_zica_microcefalia_w.ie_result_tomo_compu IS NOT NULL AND esus_zica_microcefalia_w.ie_result_tomo_compu::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(297817) ||': ' || obter_desc_radio_group(749622, esus_zica_microcefalia_w.ie_result_tomo_compu) ||chr(13)||chr(10);
                end if;
            end if;

            if (esus_zica_microcefalia_w.dt_resso_magnetica IS NOT NULL AND esus_zica_microcefalia_w.dt_resso_magnetica::text <> '') or (esus_zica_microcefalia_w.ie_result_ress_magne IS NOT NULL AND esus_zica_microcefalia_w.ie_result_ress_magne::text <> '') then
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(486368) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_zica_microcefalia_w.dt_resso_magnetica IS NOT NULL AND esus_zica_microcefalia_w.dt_resso_magnetica::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(286750) ||': ' || esus_zica_microcefalia_w.dt_resso_magnetica ||chr(13)||chr(10);
                end if;

                if (esus_zica_microcefalia_w.ie_result_ress_magne IS NOT NULL AND esus_zica_microcefalia_w.ie_result_ress_magne::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(297817) ||': ' || obter_desc_radio_group(749632, esus_zica_microcefalia_w.ie_result_ress_magne) ||chr(13)||chr(10);
                end if;
            end if;

            cd_pessoa_fisica_w  := esus_zica_microcefalia_w.cd_pessoa_fisica;
            nr_atendimento_w    := esus_zica_microcefalia_w.nr_atendimento;
            cd_profissional_w   := esus_zica_microcefalia_w.cd_profissional;
        end if;

        if (ds_tabela_p = 'ESUS_MARC_CONS_ALIMENT') then
            
            ds_evolucao_w := ds_evolucao_w || wheb_rtf_pck.get_negrito(true) || obter_desc_expressao(702294) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

            select  *
            into STRICT    esus_marc_cons_aliment_w
            from    esus_marc_cons_aliment
            where   nr_sequencia = nr_sequencia_p;

            if (esus_marc_cons_aliment_w.ie_cri_men_leit_peit IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_men_leit_peit::text <> '') or (esus_marc_cons_aliment_w.ie_crian_cons_mingau IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_cons_mingau::text <> '') or (esus_marc_cons_aliment_w.ie_cri_cons_agua_cha IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_agua_cha::text <> '') or (esus_marc_cons_aliment_w.ie_cri_con_leite_vac IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_leite_vac::text <> '') or (esus_marc_cons_aliment_w.ie_cri_cons_form_inf IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_form_inf::text <> '') or (esus_marc_cons_aliment_w.ie_cri_cons_suco_fru IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_suco_fru::text <> '') or (esus_marc_cons_aliment_w.ie_crian_consu_fruta IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_consu_fruta::text <> '') or (esus_marc_cons_aliment_w.ie_cri_con_comid_sal IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_comid_sal::text <> '') or (esus_marc_cons_aliment_w.ie_cri_cons_out_alim IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_out_alim::text <> '') then
                
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(747825) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_marc_cons_aliment_w.ie_cri_men_leit_peit IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_men_leit_peit::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702617) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_men_leit_peit) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_crian_cons_mingau IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_cons_mingau::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702623) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_crian_cons_mingau) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_cons_agua_cha IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_agua_cha::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702627) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_cons_agua_cha) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_con_leite_vac IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_leite_vac::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702629) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_con_leite_vac) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_cons_form_inf IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_form_inf::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702633) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_cons_form_inf) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_cons_suco_fru IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_suco_fru::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702639) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_cons_suco_fru) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_crian_consu_fruta IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_consu_fruta::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702641) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_crian_consu_fruta) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_con_comid_sal IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_comid_sal::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702645) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_con_comid_sal) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_cons_out_alim IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_out_alim::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702651) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_cons_out_alim) ||chr(13)||chr(10);
                end if;
            end if;

            if (esus_marc_cons_aliment_w.ie_crian_leite_peito IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_leite_peito::text <> '') or (esus_marc_cons_aliment_w.ie_crian_comeu_fruta IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_comeu_fruta::text <> '') or (esus_marc_cons_aliment_w.ie_vezes_comeu_fruta IS NOT NULL AND esus_marc_cons_aliment_w.ie_vezes_comeu_fruta::text <> '') or (esus_marc_cons_aliment_w.ie_crianc_comida_sal IS NOT NULL AND esus_marc_cons_aliment_w.ie_crianc_comida_sal::text <> '') or (esus_marc_cons_aliment_w.ie_vezes_comida_sal IS NOT NULL AND esus_marc_cons_aliment_w.ie_vezes_comida_sal::text <> '') or (esus_marc_cons_aliment_w.ie_form_comid_oferec IS NOT NULL AND esus_marc_cons_aliment_w.ie_form_comid_oferec::text <> '') or (esus_marc_cons_aliment_w.ie_cri_cons_out_leit IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_out_leit::text <> '') or (esus_marc_cons_aliment_w.ie_cri_con_ming_leit IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_ming_leit::text <> '') or (esus_marc_cons_aliment_w.ie_cria_cons_iogurte IS NOT NULL AND esus_marc_cons_aliment_w.ie_cria_cons_iogurte::text <> '') or (esus_marc_cons_aliment_w.ie_cria_cons_legumes IS NOT NULL AND esus_marc_cons_aliment_w.ie_cria_cons_legumes::text <> '') or (esus_marc_cons_aliment_w.ie_cri_con_veg_alara IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_veg_alara::text <> '') or (esus_marc_cons_aliment_w.ie_cri_con_verd_folh IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_verd_folh::text <> '') or (esus_marc_cons_aliment_w.ie_crian_consu_carne IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_consu_carne::text <> '') or (esus_marc_cons_aliment_w.ie_crian_cons_figado IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_cons_figado::text <> '') or (esus_marc_cons_aliment_w.ie_crian_cons_feijao IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_cons_feijao::text <> '') or (esus_marc_cons_aliment_w.ie_cri_con_arroz_bat IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_arroz_bat::text <> '') or (esus_marc_cons_aliment_w.ie_cri_con_ham_embut IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_ham_embut::text <> '') or (esus_marc_cons_aliment_w.ie_cri_cons_beb_adoc IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_beb_adoc::text <> '') or (esus_marc_cons_aliment_w.ie_cri_con_macar_ins IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_macar_ins::text <> '') or (esus_marc_cons_aliment_w.ie_cri_con_doce_gulo IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_doce_gulo::text <> '') then
                
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(747827) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_marc_cons_aliment_w.ie_crian_leite_peito IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_leite_peito::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702617) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_crian_leite_peito) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_crian_comeu_fruta IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_comeu_fruta::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702657) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_crian_comeu_fruta) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_vezes_comeu_fruta IS NOT NULL AND esus_marc_cons_aliment_w.ie_vezes_comeu_fruta::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702665) ||': ' || obter_desc_radio_group(702667, esus_marc_cons_aliment_w.ie_vezes_comeu_fruta) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_crianc_comida_sal IS NOT NULL AND esus_marc_cons_aliment_w.ie_crianc_comida_sal::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702671) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_crianc_comida_sal) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_vezes_comida_sal IS NOT NULL AND esus_marc_cons_aliment_w.ie_vezes_comida_sal::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702665) ||': ' || obter_desc_radio_group(702667, esus_marc_cons_aliment_w.ie_vezes_comida_sal) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_form_comid_oferec IS NOT NULL AND esus_marc_cons_aliment_w.ie_form_comid_oferec::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702677) ||': ' || obter_desc_radio_group(702679, esus_marc_cons_aliment_w.ie_form_comid_oferec) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_cons_out_leit IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_out_leit::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702683) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_cons_out_leit) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_con_ming_leit IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_ming_leit::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702687) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_con_ming_leit) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cria_cons_iogurte IS NOT NULL AND esus_marc_cons_aliment_w.ie_cria_cons_iogurte::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702691) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cria_cons_iogurte) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cria_cons_legumes IS NOT NULL AND esus_marc_cons_aliment_w.ie_cria_cons_legumes::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747882) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cria_cons_legumes) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_con_veg_alara IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_veg_alara::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702699) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_con_veg_alara) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_con_verd_folh IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_verd_folh::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702703) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_con_verd_folh) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_crian_consu_carne IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_consu_carne::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702705) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_crian_consu_carne) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_crian_cons_figado IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_cons_figado::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(290082) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_crian_cons_figado) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_crian_cons_feijao IS NOT NULL AND esus_marc_cons_aliment_w.ie_crian_cons_feijao::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702711) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_crian_cons_feijao) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_con_arroz_bat IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_arroz_bat::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747888) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_con_arroz_bat) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_con_ham_embut IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_ham_embut::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747890) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_con_ham_embut) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_cons_beb_adoc IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_cons_beb_adoc::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702731) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_cons_beb_adoc) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_con_macar_ins IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_macar_ins::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747892) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_con_macar_ins) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cri_con_doce_gulo IS NOT NULL AND esus_marc_cons_aliment_w.ie_cri_con_doce_gulo::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747896) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cri_con_doce_gulo) ||chr(13)||chr(10);
                end if;
            end if;

            if (esus_marc_cons_aliment_w.ie_rel_refe_tv_celul IS NOT NULL AND esus_marc_cons_aliment_w.ie_rel_refe_tv_celul::text <> '') then
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(747829) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747900) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_rel_refe_tv_celul) ||chr(13)||chr(10);
            end if;

            if (esus_marc_cons_aliment_w.ie_tomou_cafe_manha IS NOT NULL AND esus_marc_cons_aliment_w.ie_tomou_cafe_manha::text <> '') or (esus_marc_cons_aliment_w.ie_fez_lanche_manha IS NOT NULL AND esus_marc_cons_aliment_w.ie_fez_lanche_manha::text <> '') or (esus_marc_cons_aliment_w.ie_refeicao_almoco IS NOT NULL AND esus_marc_cons_aliment_w.ie_refeicao_almoco::text <> '') or (esus_marc_cons_aliment_w.ie_fez_lanche_tarde IS NOT NULL AND esus_marc_cons_aliment_w.ie_fez_lanche_tarde::text <> '') or (esus_marc_cons_aliment_w.ie_refeicao_jantar IS NOT NULL AND esus_marc_cons_aliment_w.ie_refeicao_jantar::text <> '') or (esus_marc_cons_aliment_w.ie_refeicao_ceia IS NOT NULL AND esus_marc_cons_aliment_w.ie_refeicao_ceia::text <> '') then
                
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(747906) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_marc_cons_aliment_w.ie_tomou_cafe_manha IS NOT NULL AND esus_marc_cons_aliment_w.ie_tomou_cafe_manha::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(496367) ||': ' || obter_expressao_sim_nao(esus_marc_cons_aliment_w.ie_tomou_cafe_manha) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_fez_lanche_manha IS NOT NULL AND esus_marc_cons_aliment_w.ie_fez_lanche_manha::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702747) ||': ' || obter_expressao_sim_nao(esus_marc_cons_aliment_w.ie_fez_lanche_manha) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_refeicao_almoco IS NOT NULL AND esus_marc_cons_aliment_w.ie_refeicao_almoco::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(311578) ||': ' || obter_expressao_sim_nao(esus_marc_cons_aliment_w.ie_refeicao_almoco) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_fez_lanche_tarde IS NOT NULL AND esus_marc_cons_aliment_w.ie_fez_lanche_tarde::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(311579) ||': ' || obter_expressao_sim_nao(esus_marc_cons_aliment_w.ie_fez_lanche_tarde) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_refeicao_jantar IS NOT NULL AND esus_marc_cons_aliment_w.ie_refeicao_jantar::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(311580) ||': ' || obter_expressao_sim_nao(esus_marc_cons_aliment_w.ie_refeicao_jantar) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_refeicao_ceia IS NOT NULL AND esus_marc_cons_aliment_w.ie_refeicao_ceia::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(311581) ||': ' || obter_expressao_sim_nao(esus_marc_cons_aliment_w.ie_refeicao_ceia) ||chr(13)||chr(10);
                end if;
            end if;

            if (esus_marc_cons_aliment_w.ie_consumiu_feijao IS NOT NULL AND esus_marc_cons_aliment_w.ie_consumiu_feijao::text <> '') or (esus_marc_cons_aliment_w.ie_consu_fruta_fresc IS NOT NULL AND esus_marc_cons_aliment_w.ie_consu_fruta_fresc::text <> '') or (esus_marc_cons_aliment_w.ie_cons_verdur_legum IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_verdur_legum::text <> '') or (esus_marc_cons_aliment_w.ie_cons_hambur_embut IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_hambur_embut::text <> '') or (esus_marc_cons_aliment_w.ie_cons_bebid_adocad IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_bebid_adocad::text <> '') or (esus_marc_cons_aliment_w.ie_cons_macar_instan IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_macar_instan::text <> '') or (esus_marc_cons_aliment_w.ie_cons_doce_gulosei IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_doce_gulosei::text <> '') then
                
                ds_evolucao_w := ds_evolucao_w ||chr(13)||chr(10) || wheb_rtf_pck.get_negrito(true)|| obter_desc_expressao(747904) || wheb_rtf_pck.get_negrito(false) ||chr(13)||chr(10);

                if (esus_marc_cons_aliment_w.ie_consumiu_feijao IS NOT NULL AND esus_marc_cons_aliment_w.ie_consumiu_feijao::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702711) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_consumiu_feijao) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_consu_fruta_fresc IS NOT NULL AND esus_marc_cons_aliment_w.ie_consu_fruta_fresc::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702763) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_consu_fruta_fresc) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cons_verdur_legum IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_verdur_legum::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747902) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cons_verdur_legum) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cons_hambur_embut IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_hambur_embut::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747890) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cons_hambur_embut) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cons_bebid_adocad IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_bebid_adocad::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(702731) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cons_bebid_adocad) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cons_macar_instan IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_macar_instan::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747892) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cons_macar_instan) ||chr(13)||chr(10);
                end if;

                if (esus_marc_cons_aliment_w.ie_cons_doce_gulosei IS NOT NULL AND esus_marc_cons_aliment_w.ie_cons_doce_gulosei::text <> '') then
                    ds_evolucao_w := ds_evolucao_w || obter_desc_expressao(747896) ||': ' || obter_desc_radio_group(702619, esus_marc_cons_aliment_w.ie_cons_doce_gulosei) ||chr(13)||chr(10);
                end if;
            end if;

            cd_pessoa_fisica_w  := esus_marc_cons_aliment_w.cd_pessoa_fisica;
            nr_atendimento_w    := esus_marc_cons_aliment_w.nr_atendimento;
            cd_profissional_w   := esus_marc_cons_aliment_w.cd_profissional;
        end if;

        ds_cabecalho_w := '{\rtf1\ansi\ansicpg1252\deff0\deflang1046{\fonttbl{\f0\fswiss\fcharset0 '||ds_fonte_w||';}}'||
                   '{\*\generator Msftedit 5.41.15.1507;}\viewkind4\uc1\pard\f0\fs'||nr_tam_fonte_w||' ';

        ds_rodape_w	:= '}';

        ds_evolucao_w := replace(ds_evolucao_w, chr(13)||chr(10), ' \par ');
        ds_conteudo_w := ds_cabecalho_w||ds_evolucao_w||ds_rodape_w;

        if (coalesce(cd_pessoa_fisica_w,'X') <> 'X') and coalesce(ie_tipo_evolucao_w, 'X') <> 'X' then
                begin
                
                insert into evolucao_paciente(
                            cd_evolucao,
                            dt_evolucao,
                            ie_tipo_evolucao,
                            cd_pessoa_fisica,
                            dt_atualizacao,
                            nm_usuario,
                            nr_atendimento,
                            ds_evolucao,
                            cd_medico,
                            dt_liberacao,
                            ie_evolucao_clinica,
                            ie_situacao)
                values (     nextval('evolucao_paciente_seq'),
                            clock_timestamp(),
                            ie_tipo_evolucao_w,
                            cd_pessoa_fisica_w,
                            clock_timestamp(),
                            obter_usuario_ativo,
                            nr_atendimento_w,
                            ds_conteudo_w,
                            cd_profissional_w,
                            clock_timestamp(),
                            cd_tipo_evolucao_w,
                            'A');
                commit;

                end;
        end if;

    end if;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_evolucao_esus ( nr_sequencia_p bigint, ds_tabela_p text) FROM PUBLIC;

