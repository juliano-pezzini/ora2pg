-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pls_importar_retorno_sib ( nr_seq_linha_p bigint, ie_tipo_registro_p bigint, cd_usuario_plano_p text, nm_beneficiario_p text, dt_nascimento_p timestamp, ie_sexo_p text, nr_cpf_p text, nr_pis_pasep_p text, nm_mae_p text, cd_plano_ans_p text, dt_adesao_plano_p timestamp, dt_rescisao_contrato_p timestamp, dt_reativacao_contrato_p timestamp, ds_logradouro_p text, nr_endereco_p text, ds_complemento_p text, ds_bairro_p text, sg_uf_p text, cd_cep_p text, ie_vinculo_beneficiario_p bigint, cd_alteracao_plano_p bigint, ie_cobertura_parcial_p text, cd_plano_anterior_p text, nr_cns_p bigint, nr_identidade_p text, ds_orgao_emissor_p pessoa_fisica.ds_orgao_emissor_ci%type, cd_pais_emissor_p bigint, cd_cgc_p text, cd_titular_plano_p text, ie_item_exc_cobertura_p bigint, dt_migracao_p timestamp, nr_cei_p bigint, dt_inclusao_p timestamp, dt_exclusao_p timestamp, ie_situacao_nome_p bigint, ie_situacao_nasc_p bigint, ie_situacao_sexo_p bigint, ie_situacao_cpf_p bigint, ie_situacao_pis_p bigint, ie_situacao_mae_p bigint, ie_situacao_plano_p bigint, ie_situacao_adesao_plano_p bigint, ie_situacao_cancelamento_p bigint, ie_situacao_reinclusao_p bigint, ie_situacao_uf_p bigint, ie_situacao_cep_p bigint, ie_situacao_vinculo_p bigint, ie_situacao_alteracao_p bigint, ie_situacao_cobertura_p bigint, ie_situacao_cod_plano_p bigint, ie_situacao_cns_p bigint, ie_situacao_identidade_p bigint, ie_situacao_orgao_emissor_p bigint, ie_situacao_pais_p bigint, ie_situacao_cgc_p bigint, ie_situacao_titular_p bigint, ie_situacao_exc_cobert_p bigint, ie_situacao_migracao_p bigint, ie_situacao_cei_p bigint, ds_ans_p text, ie_tipo_retorno_p text, cd_motivo_inclusao_p bigint, nr_cco_p bigint, ie_digito_cco_p bigint, nr_plano_ans_p bigint, cd_municipio_ibge_p text, ie_resid_brasil_p bigint, nr_seq_motivo_cancelamento_p bigint, dt_alteracao_registro_p timestamp, dt_ultima_reinclusao_p timestamp, ie_situacao_cod_plano_ant_p bigint, ie_situacao_ibge_municipio_p bigint, ie_situacao_resid_brasil_p bigint, ie_situacao_motivo_canc_p bigint, nr_seq_lote_sib_p bigint, ie_carteira_anterior_p text, ie_enviar_sib_p text, nm_usuario_p text) AS $body$
BEGIN
if (nm_usuario_p IS NOT NULL AND nm_usuario_p::text <> '') then
	begin
	insert into pls_retorno_sib(
		nr_sequencia,
		dt_atualizacao,
		nm_usuario,
		dt_atualizacao_nrec,
		nm_usuario_nrec,
		nr_seq_linha,
		ie_tipo_registro,
		cd_usuario_plano,
		nm_beneficiario,
		dt_nascimento,
		ie_sexo,
		nr_cpf,
		nr_pis_pasep,
		nm_mae,
		cd_plano_ans,
		dt_adesao_plano,
		dt_rescisao_contrato,
		dt_reativacao_contrato,
		ds_logradouro,
		nr_endereco,
		ds_complemento,
		ds_bairro,
		sg_uf,
		cd_cep,
		ie_vinculo_beneficiario,
		cd_alteracao_plano,
		ie_cobertura_parcial,
		cd_plano_anterior,
		nr_cns,
		nr_identidade,
		ds_orgao_emissor,
		cd_pais_emissor,
		cd_cgc,
		cd_titular_plano,
		ie_item_exc_cobertura,
		dt_migracao,
		nr_cei,
		dt_inclusao,
		dt_exclusao,
		ie_situacao_nome,
		ie_situacao_nasc,
		ie_situacao_sexo,
		ie_situacao_cpf,
		ie_situacao_pis,
		ie_situacao_mae,
		ie_situacao_plano,
		ie_situacao_adesao_plano,
		ie_situacao_cancelamento,
		ie_situacao_reinclusao,
		ie_situacao_uf,
		ie_situacao_cep,
		ie_situacao_vinculo,
		ie_situacao_alteracao,
		ie_situacao_cobertura,
		ie_situacao_cod_plano,
		ie_situacao_cns,
		ie_situacao_identidade,
		ie_situacao_orgao_emissor,
		ie_situacao_pais,
		ie_situacao_cgc,
		ie_situacao_titular,
		ie_situacao_exc_cobert,
		ie_situacao_migracao,
		ie_situacao_cei,
		ds_ans,
		ie_tipo_retorno,
		cd_motivo_inclusao,
		nr_cco,
		ie_digito_cco,
		nr_plano_ans,
		cd_municipio_ibge,
		ie_resid_brasil,
		nr_seq_motivo_cancelamento,
		dt_alteracao_registro,
		dt_ultima_reinclusao,
		ie_situacao_cod_plano_ant,
		ie_situacao_ibge_municipio,
		ie_situacao_resid_brasil,
		ie_situacao_motivo_canc,
		nr_seq_lote_sib,
		ie_carteira_anterior,
		ie_enviar_sib)
	values (
		nextval('pls_retorno_sib_seq'),
		clock_timestamp(),
		nm_usuario_p,
		clock_timestamp(),
		nm_usuario_p,
		nr_seq_linha_p,
		ie_tipo_registro_p,
		cd_usuario_plano_p,
		nm_beneficiario_p,
		dt_nascimento_p,
		ie_sexo_p,
		nr_cpf_p,
		nr_pis_pasep_p,
		nm_mae_p,
		cd_plano_ans_p,
		dt_adesao_plano_p,
		dt_rescisao_contrato_p,
		dt_reativacao_contrato_p,
		ds_logradouro_p,
		nr_endereco_p,
		ds_complemento_p,
		ds_bairro_p,
		sg_uf_p,
		cd_cep_p,
		ie_vinculo_beneficiario_p,
		cd_alteracao_plano_p,
		ie_cobertura_parcial_p,
		cd_plano_anterior_p,
		nr_cns_p,
		nr_identidade_p,
		ds_orgao_emissor_p,
		cd_pais_emissor_p,
		cd_cgc_p,
		cd_titular_plano_p,
		ie_item_exc_cobertura_p,
		dt_migracao_p,
		nr_cei_p,
		dt_inclusao_p,
		dt_exclusao_p,
		ie_situacao_nome_p,
		ie_situacao_nasc_p,
		ie_situacao_sexo_p,
		ie_situacao_cpf_p,
		ie_situacao_pis_p,
		ie_situacao_mae_p,
		ie_situacao_plano_p,
		ie_situacao_adesao_plano_p,
		ie_situacao_cancelamento_p,
		ie_situacao_reinclusao_p,
		ie_situacao_uf_p,
		ie_situacao_cep_p,
		ie_situacao_vinculo_p,
		ie_situacao_alteracao_p,
		ie_situacao_cobertura_p,
		ie_situacao_cod_plano_p,
		ie_situacao_cns_p,
		ie_situacao_identidade_p,
		ie_situacao_orgao_emissor_p,
		ie_situacao_pais_p,
		ie_situacao_cgc_p,
		ie_situacao_titular_p,
		ie_situacao_exc_cobert_p,
		ie_situacao_migracao_p,
		ie_situacao_cei_p,
		ds_ans_p,
		ie_tipo_retorno_p,
		cd_motivo_inclusao_p,
		nr_cco_p,
		ie_digito_cco_p,
		nr_plano_ans_p,
		cd_municipio_ibge_p,
		ie_resid_brasil_p,
		nr_seq_motivo_cancelamento_p,
		dt_alteracao_registro_p,
		dt_ultima_reinclusao_p,
		ie_situacao_cod_plano_ant_p,
		ie_situacao_ibge_municipio_p,
		ie_situacao_resid_brasil_p,
		ie_situacao_motivo_canc_p,
		nr_seq_lote_sib_p,
		ie_carteira_anterior_p,
		ie_enviar_sib_p);
	end;
end if;
commit;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_importar_retorno_sib ( nr_seq_linha_p bigint, ie_tipo_registro_p bigint, cd_usuario_plano_p text, nm_beneficiario_p text, dt_nascimento_p timestamp, ie_sexo_p text, nr_cpf_p text, nr_pis_pasep_p text, nm_mae_p text, cd_plano_ans_p text, dt_adesao_plano_p timestamp, dt_rescisao_contrato_p timestamp, dt_reativacao_contrato_p timestamp, ds_logradouro_p text, nr_endereco_p text, ds_complemento_p text, ds_bairro_p text, sg_uf_p text, cd_cep_p text, ie_vinculo_beneficiario_p bigint, cd_alteracao_plano_p bigint, ie_cobertura_parcial_p text, cd_plano_anterior_p text, nr_cns_p bigint, nr_identidade_p text, ds_orgao_emissor_p pessoa_fisica.ds_orgao_emissor_ci%type, cd_pais_emissor_p bigint, cd_cgc_p text, cd_titular_plano_p text, ie_item_exc_cobertura_p bigint, dt_migracao_p timestamp, nr_cei_p bigint, dt_inclusao_p timestamp, dt_exclusao_p timestamp, ie_situacao_nome_p bigint, ie_situacao_nasc_p bigint, ie_situacao_sexo_p bigint, ie_situacao_cpf_p bigint, ie_situacao_pis_p bigint, ie_situacao_mae_p bigint, ie_situacao_plano_p bigint, ie_situacao_adesao_plano_p bigint, ie_situacao_cancelamento_p bigint, ie_situacao_reinclusao_p bigint, ie_situacao_uf_p bigint, ie_situacao_cep_p bigint, ie_situacao_vinculo_p bigint, ie_situacao_alteracao_p bigint, ie_situacao_cobertura_p bigint, ie_situacao_cod_plano_p bigint, ie_situacao_cns_p bigint, ie_situacao_identidade_p bigint, ie_situacao_orgao_emissor_p bigint, ie_situacao_pais_p bigint, ie_situacao_cgc_p bigint, ie_situacao_titular_p bigint, ie_situacao_exc_cobert_p bigint, ie_situacao_migracao_p bigint, ie_situacao_cei_p bigint, ds_ans_p text, ie_tipo_retorno_p text, cd_motivo_inclusao_p bigint, nr_cco_p bigint, ie_digito_cco_p bigint, nr_plano_ans_p bigint, cd_municipio_ibge_p text, ie_resid_brasil_p bigint, nr_seq_motivo_cancelamento_p bigint, dt_alteracao_registro_p timestamp, dt_ultima_reinclusao_p timestamp, ie_situacao_cod_plano_ant_p bigint, ie_situacao_ibge_municipio_p bigint, ie_situacao_resid_brasil_p bigint, ie_situacao_motivo_canc_p bigint, nr_seq_lote_sib_p bigint, ie_carteira_anterior_p text, ie_enviar_sib_p text, nm_usuario_p text) FROM PUBLIC;

