-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE man_gerar_w_painel_os (dt_mes_p text, dt_ano_p text, nr_grupo_planej_p text, nr_seq_tipo_equip_p text, nr_seq_prioridade_p text, nr_grupo_trabalho_p text, nm_usuario_exec_p text, cd_pessoa_solicitante_p text, nr_seq_localizacao_p text, cd_centro_custo_p text, ie_tipo_quebra_p text, nr_seq_tipo_ordem_p text, ie_tipo_ordem_p text, qt_dias_pr_atraso_p bigint, nr_seq_grupo_trabalho_p text, nm_usuario_p text) AS $body$
DECLARE


dt_ordem_w		timestamp;
dt_fim_mes_w		timestamp;
dt_aux_w		timestamp;
qt_ordem_w1		bigint := 0;
qt_ordem_w2 		bigint := 0;
qt_ordem_w3 		bigint := 0;
qt_ordem_w4	 	bigint := 0;
qt_ordem_w5 		bigint := 0;
qt_ordem_w6 		bigint := 0;
qt_ordem_w7 		bigint := 0;
qt_ordem_w8 		bigint := 0;
qt_ordem_w9 		bigint := 0;
qt_ordem_w10 		bigint := 0;
qt_ordem_w11 		bigint := 0;
qt_ordem_w12 		bigint := 0;
qt_ordem_w13 		bigint := 0;
qt_ordem_w14 		bigint := 0;
qt_ordem_w15 		bigint := 0;
qt_ordem_w16 		bigint := 0;
qt_ordem_w17 		bigint := 0;
qt_ordem_w18 		bigint := 0;
qt_ordem_w19 		bigint := 0;
qt_ordem_w20 		bigint := 0;
qt_ordem_w21 		bigint := 0;
qt_ordem_w22 		bigint := 0;
qt_ordem_w23 		bigint := 0;
qt_ordem_w24 		bigint := 0;
qt_ordem_w25 		bigint := 0;
qt_ordem_w26 		bigint := 0;
qt_ordem_w27 		bigint := 0;
qt_ordem_w28 		bigint := 0;
qt_ordem_w29 		bigint := 0;
qt_ordem_w30 		bigint := 0;
qt_ordem_w31		bigint := 0;
qt_ordem_ww1		bigint := 0;
qt_ordem_ww2 		bigint := 0;
qt_ordem_ww3 		bigint := 0;
qt_ordem_ww4	 	bigint := 0;
qt_ordem_ww5 		bigint := 0;
qt_ordem_ww6 		bigint := 0;
qt_ordem_ww7 		bigint := 0;
qt_ordem_ww8 		bigint := 0;
qt_ordem_ww9 		bigint := 0;
qt_ordem_ww10 		bigint := 0;
qt_ordem_ww11 		bigint := 0;
qt_ordem_ww12 		bigint := 0;
qt_ordem_ww13 		bigint := 0;
qt_ordem_ww14 		bigint := 0;
qt_ordem_ww15 		bigint := 0;
qt_ordem_ww16 		bigint := 0;
qt_ordem_ww17 		bigint := 0;
qt_ordem_ww18 		bigint := 0;
qt_ordem_ww19 		bigint := 0;
qt_ordem_ww20 		bigint := 0;
qt_ordem_ww21 		bigint := 0;
qt_ordem_ww22 		bigint := 0;
qt_ordem_ww23 		bigint := 0;
qt_ordem_ww24 		bigint := 0;
qt_ordem_ww25 		bigint := 0;
qt_ordem_ww26 		bigint := 0;
qt_ordem_ww27 		bigint := 0;
qt_ordem_ww28 		bigint := 0;
qt_ordem_ww29 		bigint := 0;
qt_ordem_ww30 		bigint := 0;
qt_ordem_ww31		bigint := 0;
ie_dia_util_w1		varchar(15) := 'S';
ie_dia_util_w2		varchar(15) := 'S';
ie_dia_util_w3 		varchar(15) := 'S';
ie_dia_util_w4 		varchar(15) := 'S';
ie_dia_util_w5 		varchar(15) := 'S';
ie_dia_util_w6		varchar(15) := 'S';
ie_dia_util_w7		varchar(15) := 'S';
ie_dia_util_w8 		varchar(15) := 'S';
ie_dia_util_w9  	varchar(15) := 'S';
ie_dia_util_w10 	varchar(15) := 'S';
ie_dia_util_w11		varchar(15) := 'S';
ie_dia_util_w12 	varchar(15) := 'S';
ie_dia_util_w13  	varchar(15) := 'S';
ie_dia_util_w14  	varchar(15) := 'S';
ie_dia_util_w15       	varchar(15) := 'S';
ie_dia_util_w16  	varchar(15) := 'S';
ie_dia_util_w17     	varchar(15) := 'S';
ie_dia_util_w18 	varchar(15) := 'S';
ie_dia_util_w19    	varchar(15) := 'S';
ie_dia_util_w20  	varchar(15) := 'S';
ie_dia_util_w21    	varchar(15) := 'S';
ie_dia_util_w22     	varchar(15) := 'S';
ie_dia_util_w23 	varchar(15) := 'S';
ie_dia_util_w24   	varchar(15) := 'S';
ie_dia_util_w25     	varchar(15) := 'S';
ie_dia_util_w26  	varchar(15) := 'S';
ie_dia_util_w27   	varchar(15) := 'S';
ie_dia_util_w28     	varchar(15) := 'S';
ie_dia_util_w29   	varchar(15) := 'S';
ie_dia_util_w30   	varchar(15) := 'S';
ie_dia_util_w31     	varchar(15) := 'S';
ie_dia_util_aux_w1	varchar(15) := 'S';
ie_dia_util_aux_w2	varchar(15) := 'S';
ie_dia_util_aux_w3 	varchar(15) := 'S';
ie_dia_util_aux_w4 	varchar(15) := 'S';
ie_dia_util_aux_w5 	varchar(15) := 'S';
ie_dia_util_aux_w6	varchar(15) := 'S';
ie_dia_util_aux_w7	varchar(15) := 'S';
ie_dia_util_aux_w8 	varchar(15) := 'S';
ie_dia_util_aux_w9  	varchar(15) := 'S';
ie_dia_util_aux_w10 	varchar(15) := 'S';
ie_dia_util_aux_w11	varchar(15) := 'S';
ie_dia_util_aux_w12 	varchar(15) := 'S';
ie_dia_util_aux_w13  	varchar(15) := 'S';
ie_dia_util_aux_w14  	varchar(15) := 'S';
ie_dia_util_aux_w15     varchar(15) := 'S';
ie_dia_util_aux_w16  	varchar(15) := 'S';
ie_dia_util_aux_w17     varchar(15) := 'S';
ie_dia_util_aux_w18 	varchar(15) := 'S';
ie_dia_util_aux_w19    	varchar(15) := 'S';
ie_dia_util_aux_w20  	varchar(15) := 'S';
ie_dia_util_aux_w21    	varchar(15) := 'S';
ie_dia_util_aux_w22     varchar(15) := 'S';
ie_dia_util_aux_w23 	varchar(15) := 'S';
ie_dia_util_aux_w24   	varchar(15) := 'S';
ie_dia_util_aux_w25    	varchar(15) := 'S';
ie_dia_util_aux_w26  	varchar(15) := 'S';
ie_dia_util_aux_w27   	varchar(15) := 'S';
ie_dia_util_aux_w28     varchar(15) := 'S';
ie_dia_util_aux_w29   	varchar(15) := 'S';
ie_dia_util_aux_w30   	varchar(15) := 'S';
ie_dia_util_aux_w31     varchar(15) := 'S';
pr_atraso_w		double precision;
pr_atraso_w1		double precision;
pr_atraso_w2		double precision;
pr_atraso_w3		double precision;
pr_atraso_w4		double precision;
pr_atraso_w5		double precision;
pr_atraso_w6		double precision;
pr_atraso_w7		double precision;
pr_atraso_w8		double precision;
pr_atraso_w9		double precision;
pr_atraso_w10		double precision;
pr_atraso_w11		double precision;
pr_atraso_w12		double precision;
pr_atraso_w13		double precision;
pr_atraso_w14		double precision;
pr_atraso_w15		double precision;
pr_atraso_w16		double precision;
pr_atraso_w17		double precision;
pr_atraso_w18		double precision;
pr_atraso_w19		double precision;
pr_atraso_w20		double precision;
pr_atraso_w21		double precision;
pr_atraso_w22		double precision;
pr_atraso_w23		double precision;
pr_atraso_w24		double precision;
pr_atraso_w25		double precision;
pr_atraso_w26		double precision;
pr_atraso_w27		double precision;
pr_atraso_w28		double precision;
pr_atraso_w29		double precision;
pr_atraso_w30		double precision;
pr_atraso_w31		double precision;
cd_estabelecimento_w	smallint := wheb_usuario_pck.get_cd_estabelecimento;
ie_status_ordem_w	varchar(1);
nr_seq_tipo_ordem_w	bigint;
qt_os_status_w		bigint;
qt_atrasada_w		bigint;
qt_total_atrasada_w	bigint := 0;
qt_total_os_w		bigint := 0;

C01 CURSOR FOR
	SELECT	a.ie_status_ordem,
		CASE WHEN ie_tipo_quebra_p='TC' THEN a.nr_seq_tipo_ordem WHEN ie_tipo_quebra_p='TD' THEN  a.ie_tipo_ordem WHEN ie_tipo_quebra_p='EP' THEN a.nr_seq_estagio END ,
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='01' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='02' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='03' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='04' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='05' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='06' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='07' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='08' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='09' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='10' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='11' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='12' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='13' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='14' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='15' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='16' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='17' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='18' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='19' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='20' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='21' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='22' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='23' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='24' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='25' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='26' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='27' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='28' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='29' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='30' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='31' THEN 1  ELSE 0 END ),
		count(*)
	from	man_ordem_servico a,
		man_equipamento	c
	where	c.nr_sequencia	= a.nr_seq_equipamento
	and	((ie_tipo_quebra_p = 'TC' AND a.nr_seq_tipo_ordem IS NOT NULL AND a.nr_seq_tipo_ordem::text <> '') or
		(ie_tipo_quebra_p = 'TD' AND a.ie_tipo_ordem IS NOT NULL AND a.ie_tipo_ordem::text <> '') or
		(ie_tipo_quebra_p = 'EP' AND a.nr_seq_estagio IS NOT NULL AND a.nr_seq_estagio::text <> ''))
	and	a.dt_ordem_servico between dt_ordem_w and last_day(dt_ordem_w) + 86399/86400
	and	((a.nr_grupo_planej = nr_grupo_planej_p) or (coalesce(nr_grupo_planej_p,'0') = '0'))
	and	((a.nr_grupo_trabalho = nr_seq_grupo_trabalho_p) or (coalesce(nr_seq_grupo_trabalho_p,'0') = '0'))
	and	((c.nr_seq_tipo_equip = nr_seq_tipo_equip_p) or (coalesce(nr_seq_tipo_equip_p,'0') = '0'))
	and	((a.ie_prioridade = nr_seq_prioridade_p) or (coalesce(nr_seq_prioridade_p,'0') = '0'))
	and	((coalesce(nr_grupo_trabalho_p::text, '') = '') or ((nr_grupo_trabalho_p IS NOT NULL AND nr_grupo_trabalho_p::text <> '') and (obter_se_contido(a.nr_grupo_trabalho,substr(nr_grupo_trabalho_p,2,length(nr_grupo_trabalho_p))) = substr(nr_grupo_trabalho_p,1,1))))
	and	((coalesce(nm_usuario_exec_p::text, '') = '') or ((nm_usuario_exec_p IS NOT NULL AND nm_usuario_exec_p::text <> '') and (obter_se_contido(a.nm_usuario_exec,substr(nm_usuario_exec_p,2,length(nm_usuario_exec_p))) = substr(nm_usuario_exec_p,1,1))))
	and	((coalesce(cd_pessoa_solicitante_p::text, '') = '') or ((cd_pessoa_solicitante_p IS NOT NULL AND cd_pessoa_solicitante_p::text <> '') and (obter_se_contido(a.cd_pessoa_solicitante,substr(cd_pessoa_solicitante_p,2,length(cd_pessoa_solicitante_p))) = substr(cd_pessoa_solicitante_p,1,1))))
	and	((coalesce(nr_seq_localizacao_p::text, '') = '') or ((nr_seq_localizacao_p IS NOT NULL AND nr_seq_localizacao_p::text <> '') and (obter_se_contido(a.nr_seq_localizacao,substr(nr_seq_localizacao_p,2,length(nr_seq_localizacao_p))) = substr(nr_seq_localizacao_p,1,1))))
	and	((coalesce(cd_centro_custo_p::text, '') = '') or ((cd_centro_custo_p IS NOT NULL AND cd_centro_custo_p::text <> '') and (obter_se_contido(c.cd_centro_custo,substr(cd_centro_custo_p,2,length(cd_centro_custo_p))) = substr(cd_centro_custo_p,1,1))))
	and	((coalesce(nr_seq_tipo_ordem_p::text, '') = '') or ((nr_seq_tipo_ordem_p IS NOT NULL AND nr_seq_tipo_ordem_p::text <> '') and (obter_se_contido(a.nr_seq_tipo_ordem,substr(nr_seq_tipo_ordem_p,2,length(nr_seq_tipo_ordem_p))) = substr(nr_seq_tipo_ordem_p,1,1))))
	and	((coalesce(ie_tipo_ordem_p::text, '') = '') or ((ie_tipo_ordem_p IS NOT NULL AND ie_tipo_ordem_p::text <> '') and (obter_se_contido(a.ie_tipo_ordem,substr(ie_tipo_ordem_p,2,length(ie_tipo_ordem_p))) = substr(ie_tipo_ordem_p,1,1))))
	group by a.ie_status_ordem,
		CASE WHEN ie_tipo_quebra_p='TC' THEN a.nr_seq_tipo_ordem WHEN ie_tipo_quebra_p='TD' THEN a.ie_tipo_ordem WHEN ie_tipo_quebra_p='EP' THEN a.nr_seq_estagio END
	order by 1,2;


BEGIN
--truncate table	'w_painel_os';
delete	from w_painel_os;
commit;

select  to_date('01'||'/'||dt_mes_p||'/'||dt_ano_p, 'dd/mm/yyyy')
into STRICT    dt_ordem_w
;

ie_dia_util_w1	:=	substr(obter_se_dia_util(dt_ordem_w, cd_estabelecimento_w),1,15);
ie_dia_util_w2	:=	substr(obter_se_dia_util(dt_ordem_w + 1, cd_estabelecimento_w),1,15);
ie_dia_util_w3	:=	substr(obter_se_dia_util(dt_ordem_w + 2, cd_estabelecimento_w),1,15);
ie_dia_util_w4	:=	substr(obter_se_dia_util(dt_ordem_w + 3, cd_estabelecimento_w),1,15);
ie_dia_util_w5	:=	substr(obter_se_dia_util(dt_ordem_w + 4, cd_estabelecimento_w),1,15);
ie_dia_util_w6	:=	substr(obter_se_dia_util(dt_ordem_w + 5, cd_estabelecimento_w),1,15);
ie_dia_util_w7	:=	substr(obter_se_dia_util(dt_ordem_w + 6, cd_estabelecimento_w),1,15);
ie_dia_util_w8	:=	substr(obter_se_dia_util(dt_ordem_w + 7, cd_estabelecimento_w),1,15);
ie_dia_util_w9	:=	substr(obter_se_dia_util(dt_ordem_w + 8, cd_estabelecimento_w),1,15);
ie_dia_util_w10	:=	substr(obter_se_dia_util(dt_ordem_w + 9, cd_estabelecimento_w),1,15);
ie_dia_util_w11	:=	substr(obter_se_dia_util(dt_ordem_w + 10, cd_estabelecimento_w),1,15);
ie_dia_util_w12	:=	substr(obter_se_dia_util(dt_ordem_w + 11, cd_estabelecimento_w),1,15);
ie_dia_util_w13	:=	substr(obter_se_dia_util(dt_ordem_w + 12, cd_estabelecimento_w),1,15);
ie_dia_util_w14	:=	substr(obter_se_dia_util(dt_ordem_w + 13, cd_estabelecimento_w),1,15);
ie_dia_util_w15	:=	substr(obter_se_dia_util(dt_ordem_w + 14, cd_estabelecimento_w),1,15);
ie_dia_util_w16	:=	substr(obter_se_dia_util(dt_ordem_w + 15, cd_estabelecimento_w),1,15);
ie_dia_util_w17	:=	substr(obter_se_dia_util(dt_ordem_w + 16, cd_estabelecimento_w),1,15);
ie_dia_util_w18	:=	substr(obter_se_dia_util(dt_ordem_w + 17, cd_estabelecimento_w),1,15);
ie_dia_util_w19	:=	substr(obter_se_dia_util(dt_ordem_w + 18, cd_estabelecimento_w),1,15);
ie_dia_util_w20	:=	substr(obter_se_dia_util(dt_ordem_w + 19, cd_estabelecimento_w),1,15);
ie_dia_util_w21	:=	substr(obter_se_dia_util(dt_ordem_w + 20, cd_estabelecimento_w),1,15);
ie_dia_util_w22	:=	substr(obter_se_dia_util(dt_ordem_w + 21, cd_estabelecimento_w),1,15);
ie_dia_util_w23	:=	substr(obter_se_dia_util(dt_ordem_w + 22, cd_estabelecimento_w),1,15);
ie_dia_util_w24	:=	substr(obter_se_dia_util(dt_ordem_w + 23, cd_estabelecimento_w),1,15);
ie_dia_util_w25	:=	substr(obter_se_dia_util(dt_ordem_w + 24, cd_estabelecimento_w),1,15);
ie_dia_util_w26	:=	substr(obter_se_dia_util(dt_ordem_w + 25, cd_estabelecimento_w),1,15);
ie_dia_util_w27	:=	substr(obter_se_dia_util(dt_ordem_w + 26, cd_estabelecimento_w),1,15);
ie_dia_util_w28	:=	substr(obter_se_dia_util(dt_ordem_w + 27, cd_estabelecimento_w),1,15);
ie_dia_util_w29	:=	substr(obter_se_dia_util(dt_ordem_w + 28, cd_estabelecimento_w),1,15);
ie_dia_util_w30	:=	substr(obter_se_dia_util(dt_ordem_w + 29, cd_estabelecimento_w),1,15);
ie_dia_util_w31	:=	substr(obter_se_dia_util(dt_ordem_w + 30, cd_estabelecimento_w),1,15);

ie_dia_util_aux_w1	:=	ie_dia_util_w1;
ie_dia_util_aux_w2	:=	ie_dia_util_w2;
ie_dia_util_aux_w3	:=	ie_dia_util_w3;
ie_dia_util_aux_w4	:=	ie_dia_util_w4;
ie_dia_util_aux_w5	:=	ie_dia_util_w5;
ie_dia_util_aux_w6	:=	ie_dia_util_w6;
ie_dia_util_aux_w7	:=	ie_dia_util_w7;
ie_dia_util_aux_w8	:=	ie_dia_util_w8;
ie_dia_util_aux_w9	:=	ie_dia_util_w9;
ie_dia_util_aux_w10	:=	ie_dia_util_w10;
ie_dia_util_aux_w11	:=	ie_dia_util_w11;
ie_dia_util_aux_w12	:=	ie_dia_util_w12;
ie_dia_util_aux_w13	:=	ie_dia_util_w13;
ie_dia_util_aux_w14	:=	ie_dia_util_w14;
ie_dia_util_aux_w15	:=	ie_dia_util_w15;
ie_dia_util_aux_w16	:=	ie_dia_util_w16;
ie_dia_util_aux_w17	:=	ie_dia_util_w17;
ie_dia_util_aux_w18	:=	ie_dia_util_w18;
ie_dia_util_aux_w19	:=	ie_dia_util_w19;
ie_dia_util_aux_w20	:=	ie_dia_util_w20;
ie_dia_util_aux_w21	:=	ie_dia_util_w21;
ie_dia_util_aux_w22	:=	ie_dia_util_w22;
ie_dia_util_aux_w23	:=	ie_dia_util_w23;
ie_dia_util_aux_w24	:=	ie_dia_util_w24;
ie_dia_util_aux_w25	:=	ie_dia_util_w25;
ie_dia_util_aux_w26	:=	ie_dia_util_w26;
ie_dia_util_aux_w27	:=	ie_dia_util_w27;
ie_dia_util_aux_w28	:=	ie_dia_util_w28;
ie_dia_util_aux_w29	:=	ie_dia_util_w29;
ie_dia_util_aux_w30	:=	ie_dia_util_w30;
ie_dia_util_aux_w31	:=	ie_dia_util_w31;

open C01;
loop
fetch C01 into
	ie_status_ordem_w,
	nr_seq_tipo_ordem_w,
	qt_ordem_w1,
	qt_ordem_w2,
	qt_ordem_w3,
	qt_ordem_w4,
	qt_ordem_w5,
	qt_ordem_w6,
	qt_ordem_w7,
	qt_ordem_w8,
	qt_ordem_w9,
	qt_ordem_w10,
	qt_ordem_w11,
	qt_ordem_w12,
	qt_ordem_w13,
	qt_ordem_w14,
	qt_ordem_w15,
	qt_ordem_w16,
	qt_ordem_w17,
	qt_ordem_w18,
	qt_ordem_w19,
	qt_ordem_w20,
	qt_ordem_w21,
	qt_ordem_w22,
	qt_ordem_w23,
	qt_ordem_w24,
	qt_ordem_w25,
	qt_ordem_w26,
	qt_ordem_w27,
	qt_ordem_w28,
	qt_ordem_w29,
	qt_ordem_w30,
	qt_ordem_w31,
	qt_total_os_w;
EXIT WHEN NOT FOUND; /* apply on C01 */
	begin

	select	sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='01' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='02' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='03' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='04' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='05' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='06' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='07' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='08' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='09' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='10' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='11' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='12' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='13' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='14' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='15' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='16' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='17' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='18' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='19' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='20' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='21' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='22' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='23' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='24' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='25' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='26' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='27' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='28' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='29' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='30' THEN 1  ELSE 0 END ),
		sum(CASE WHEN to_char(a.dt_ordem_servico,'dd')='31' THEN 1  ELSE 0 END ),
		count(*)
	into STRICT	qt_ordem_ww1,
		qt_ordem_ww2 ,
		qt_ordem_ww3 ,
		qt_ordem_ww4,
		qt_ordem_ww5 ,
		qt_ordem_ww6 ,
		qt_ordem_ww7 ,
		qt_ordem_ww8 ,
		qt_ordem_ww9 ,
		qt_ordem_ww10 ,
		qt_ordem_ww11 ,
		qt_ordem_ww12 ,
		qt_ordem_ww13 ,
		qt_ordem_ww14 ,
		qt_ordem_ww15 ,
		qt_ordem_ww16 ,
		qt_ordem_ww17 ,
		qt_ordem_ww18 ,
		qt_ordem_ww19 ,
		qt_ordem_ww20 ,
		qt_ordem_ww21 ,
		qt_ordem_ww22 ,
		qt_ordem_ww23 ,
		qt_ordem_ww24 ,
		qt_ordem_ww25 ,
		qt_ordem_ww26 ,
		qt_ordem_ww27 ,
		qt_ordem_ww28 ,
		qt_ordem_ww29 ,
		qt_ordem_ww30 ,
		qt_ordem_ww31,
		qt_total_atrasada_w
	from	man_ordem_servico a,
		man_equipamento	c
	where	c.nr_sequencia	= a.nr_seq_equipamento
	and	((ie_tipo_quebra_p = 'TC' AND a.nr_seq_tipo_ordem = nr_seq_tipo_ordem_w) or
		(ie_tipo_quebra_p = 'TD' AND a.ie_tipo_ordem = nr_seq_tipo_ordem_w) or
		(ie_tipo_quebra_p = 'EP' AND a.nr_seq_estagio = nr_seq_tipo_ordem_w))
	and	a.ie_status_ordem = ie_status_ordem_w
	and	coalesce(a.dt_fim_real::text, '') = ''
	and	a.dt_conclusao_desejada < clock_timestamp()
	and	a.dt_ordem_servico between dt_ordem_w and last_day(dt_ordem_w) + 86399/86400
	and	((a.nr_grupo_planej = nr_grupo_planej_p) or (coalesce(nr_grupo_planej_p,'0') = '0'))
	and	((a.nr_grupo_trabalho = nr_seq_grupo_trabalho_p) or (coalesce(nr_seq_grupo_trabalho_p,'0') = '0'))
	and	((c.nr_seq_tipo_equip = nr_seq_tipo_equip_p) or (coalesce(nr_seq_tipo_equip_p,'0') = '0'))
	and	((a.ie_prioridade = nr_seq_prioridade_p) or (coalesce(nr_seq_prioridade_p,'0') = '0'))
	and	((coalesce(nr_grupo_trabalho_p::text, '') = '') or ((nr_grupo_trabalho_p IS NOT NULL AND nr_grupo_trabalho_p::text <> '') and (obter_se_contido(a.nr_grupo_trabalho,substr(nr_grupo_trabalho_p,2,length(nr_grupo_trabalho_p))) = substr(nr_grupo_trabalho_p,1,1))))
	and	((coalesce(nm_usuario_exec_p::text, '') = '') or ((nm_usuario_exec_p IS NOT NULL AND nm_usuario_exec_p::text <> '') and (obter_se_contido(a.nm_usuario_exec,substr(nm_usuario_exec_p,2,length(nm_usuario_exec_p))) = substr(nm_usuario_exec_p,1,1))))
	and	((coalesce(cd_pessoa_solicitante_p::text, '') = '') or ((cd_pessoa_solicitante_p IS NOT NULL AND cd_pessoa_solicitante_p::text <> '') and (obter_se_contido(a.cd_pessoa_solicitante,substr(cd_pessoa_solicitante_p,2,length(cd_pessoa_solicitante_p))) = substr(cd_pessoa_solicitante_p,1,1))))
	and	((coalesce(nr_seq_localizacao_p::text, '') = '') or ((nr_seq_localizacao_p IS NOT NULL AND nr_seq_localizacao_p::text <> '') and (obter_se_contido(a.nr_seq_localizacao,substr(nr_seq_localizacao_p,2,length(nr_seq_localizacao_p))) = substr(nr_seq_localizacao_p,1,1))))
	and	((coalesce(cd_centro_custo_p::text, '') = '') or ((cd_centro_custo_p IS NOT NULL AND cd_centro_custo_p::text <> '') and (obter_se_contido(c.cd_centro_custo,substr(cd_centro_custo_p,2,length(cd_centro_custo_p))) = substr(cd_centro_custo_p,1,1))))
	and	((coalesce(nr_seq_tipo_ordem_p::text, '') = '') or ((nr_seq_tipo_ordem_p IS NOT NULL AND nr_seq_tipo_ordem_p::text <> '') and (obter_se_contido(a.nr_seq_tipo_ordem,substr(nr_seq_tipo_ordem_p,2,length(nr_seq_tipo_ordem_p))) = substr(nr_seq_tipo_ordem_p,1,1))))
	and	((coalesce(ie_tipo_ordem_p::text, '') = '') or ((ie_tipo_ordem_p IS NOT NULL AND ie_tipo_ordem_p::text <> '') and (obter_se_contido(a.ie_tipo_ordem,substr(ie_tipo_ordem_p,2,length(ie_tipo_ordem_p))) = substr(ie_tipo_ordem_p,1,1))));

	pr_atraso_w1	:= (dividir(qt_ordem_ww1, qt_ordem_w1) * 100);
	pr_atraso_w2	:= (dividir(qt_ordem_ww2, qt_ordem_w2) * 100);
	pr_atraso_w3	:= (dividir(qt_ordem_ww3, qt_ordem_w3) * 100);
	pr_atraso_w4	:= (dividir(qt_ordem_ww4, qt_ordem_w4) * 100);
	pr_atraso_w5	:= (dividir(qt_ordem_ww5, qt_ordem_w5) * 100);
	pr_atraso_w6	:= (dividir(qt_ordem_ww6, qt_ordem_w6) * 100);
	pr_atraso_w7	:= (dividir(qt_ordem_ww7, qt_ordem_w7) * 100);
	pr_atraso_w8	:= (dividir(qt_ordem_ww8, qt_ordem_w8) * 100);
	pr_atraso_w9	:= (dividir(qt_ordem_ww9, qt_ordem_w9) * 100);
	pr_atraso_w10	:= (dividir(qt_ordem_ww10, qt_ordem_w10) * 100);
	pr_atraso_w11	:= (dividir(qt_ordem_ww11, qt_ordem_w11) * 100);
	pr_atraso_w12	:= (dividir(qt_ordem_ww12, qt_ordem_w12) * 100);
	pr_atraso_w13	:= (dividir(qt_ordem_ww13, qt_ordem_w13) * 100);
	pr_atraso_w14	:= (dividir(qt_ordem_ww14, qt_ordem_w14) * 100);
	pr_atraso_w15	:= (dividir(qt_ordem_ww15, qt_ordem_w15) * 100);
	pr_atraso_w16	:= (dividir(qt_ordem_ww16, qt_ordem_w16) * 100);
	pr_atraso_w17	:= (dividir(qt_ordem_ww17, qt_ordem_w17) * 100);
	pr_atraso_w18	:= (dividir(qt_ordem_ww18, qt_ordem_w18) * 100);
	pr_atraso_w19	:= (dividir(qt_ordem_ww19, qt_ordem_w19) * 100);
	pr_atraso_w20	:= (dividir(qt_ordem_ww20, qt_ordem_w20) * 100);
	pr_atraso_w21	:= (dividir(qt_ordem_ww21, qt_ordem_w21) * 100);
	pr_atraso_w22	:= (dividir(qt_ordem_ww22, qt_ordem_w22) * 100);
	pr_atraso_w23	:= (dividir(qt_ordem_ww23, qt_ordem_w23) * 100);
	pr_atraso_w24	:= (dividir(qt_ordem_ww24, qt_ordem_w24) * 100);
	pr_atraso_w25	:= (dividir(qt_ordem_ww25, qt_ordem_w25) * 100);
	pr_atraso_w26	:= (dividir(qt_ordem_ww26, qt_ordem_w26) * 100);
	pr_atraso_w27	:= (dividir(qt_ordem_ww27, qt_ordem_w27) * 100);
	pr_atraso_w28	:= (dividir(qt_ordem_ww28, qt_ordem_w28) * 100);
	pr_atraso_w29	:= (dividir(qt_ordem_ww29, qt_ordem_w29) * 100);
	pr_atraso_w30	:= (dividir(qt_ordem_ww30, qt_ordem_w30) * 100);
	pr_atraso_w31	:= (dividir(qt_ordem_ww31, qt_ordem_w31) * 100);

	pr_atraso_w	:= (dividir(	qt_ordem_ww1 + qt_ordem_ww2 + qt_ordem_ww3 + qt_ordem_ww4 + qt_ordem_ww5 + qt_ordem_ww6 + qt_ordem_ww7 +
					qt_ordem_ww8 + qt_ordem_ww9 + qt_ordem_ww10 + qt_ordem_ww11 + qt_ordem_ww12 + qt_ordem_ww13 + qt_ordem_ww14 +
					qt_ordem_ww15 + qt_ordem_ww16 + qt_ordem_ww17 + qt_ordem_ww18 + qt_ordem_ww19 + qt_ordem_ww20 + qt_ordem_ww21 +
					qt_ordem_ww22 + qt_ordem_ww23 + qt_ordem_ww24 + qt_ordem_ww25 + qt_ordem_ww26 + qt_ordem_ww27 + qt_ordem_ww28 + qt_ordem_ww29 +
					qt_ordem_ww30 + qt_ordem_ww31,
					qt_ordem_w1 + qt_ordem_w2 + qt_ordem_w3 + qt_ordem_w4 + qt_ordem_w5 + qt_ordem_w6 + qt_ordem_w7 + qt_ordem_w8 + qt_ordem_w9 + qt_ordem_w10 +
					qt_ordem_w11 + qt_ordem_w12 + qt_ordem_w13 + qt_ordem_w14 + qt_ordem_w15 + qt_ordem_w16 + qt_ordem_w17 + qt_ordem_w18 + qt_ordem_w19 + qt_ordem_w20 +
					qt_ordem_w21 + qt_ordem_w22 + qt_ordem_w23 + qt_ordem_w24 + qt_ordem_w25 + qt_ordem_w26 + qt_ordem_w27 + qt_ordem_w28 + qt_ordem_w29 + qt_ordem_w30 + qt_ordem_w31) * 100);

	qt_atrasada_w	:=	(	qt_ordem_ww1 + qt_ordem_ww2 + qt_ordem_ww3 + qt_ordem_ww4 + qt_ordem_ww5 + qt_ordem_ww6 + qt_ordem_ww7 +
					qt_ordem_ww8 + qt_ordem_ww9 + qt_ordem_ww10 + qt_ordem_ww11 + qt_ordem_ww12 + qt_ordem_ww13 + qt_ordem_ww14 +
					qt_ordem_ww15 + qt_ordem_ww16 + qt_ordem_ww17 + qt_ordem_ww18 + qt_ordem_ww19 + qt_ordem_ww20 + qt_ordem_ww21 +
					qt_ordem_ww22 + qt_ordem_ww23 + qt_ordem_ww24 + qt_ordem_ww25 + qt_ordem_ww26 + qt_ordem_ww27 + qt_ordem_ww28 + qt_ordem_ww29 +
					qt_ordem_ww30 + qt_ordem_ww31);

	qt_os_status_w	:= 	(	qt_ordem_w1 + qt_ordem_w2 + qt_ordem_w3 + qt_ordem_w4 + qt_ordem_w5 + qt_ordem_w6 + qt_ordem_w7 + qt_ordem_w8 + qt_ordem_w9 + qt_ordem_w10 +
					qt_ordem_w11 + qt_ordem_w12 + qt_ordem_w13 + qt_ordem_w14 + qt_ordem_w15 + qt_ordem_w16 + qt_ordem_w17 + qt_ordem_w18 + qt_ordem_w19 + qt_ordem_w20 +
					qt_ordem_w21 + qt_ordem_w22 + qt_ordem_w23 + qt_ordem_w24 + qt_ordem_w25 + qt_ordem_w26 + qt_ordem_w27 + qt_ordem_w28 + qt_ordem_w29 + qt_ordem_w30 + qt_ordem_w31);


	if (pr_atraso_w1 > qt_dias_pr_atraso_p) then
		ie_dia_util_w1 := substr(ie_dia_util_w1,1,1) || 'A';
	end if;

	if (pr_atraso_w2 > qt_dias_pr_atraso_p) then
		ie_dia_util_w2 := substr(ie_dia_util_w2,1,1) || 'A';
	end if;

	if (pr_atraso_w3 > qt_dias_pr_atraso_p) then
		ie_dia_util_w3 :=  substr(ie_dia_util_w3,1,1) || 'A';
	end if;

	if (pr_atraso_w4 > qt_dias_pr_atraso_p) then
		ie_dia_util_w4 := substr(ie_dia_util_w4,1,1) || 'A';
	end if;

	if (pr_atraso_w5 > qt_dias_pr_atraso_p) then
		ie_dia_util_w5 := substr(ie_dia_util_w5,1,1) || 'A';
	end if;

	if (pr_atraso_w6 > qt_dias_pr_atraso_p) then
		ie_dia_util_w6 := substr(ie_dia_util_w6,1,1) || 'A';
	end if;

	if (pr_atraso_w7 > qt_dias_pr_atraso_p) then
		ie_dia_util_w7 := substr(ie_dia_util_w7,1,1) || 'A';
	end if;

	if (pr_atraso_w8 > qt_dias_pr_atraso_p) then
		ie_dia_util_w8 := substr(ie_dia_util_w8,1,1) || 'A';
	end if;

	if (pr_atraso_w9 > qt_dias_pr_atraso_p) then
		ie_dia_util_w9 := substr(ie_dia_util_w9,1,1) ||'A';
	end if;

	if (pr_atraso_w10 > qt_dias_pr_atraso_p) then
		ie_dia_util_w10 := substr(ie_dia_util_w10,1,1) || 'A';
	end if;

	if (pr_atraso_w11 > qt_dias_pr_atraso_p) then
		ie_dia_util_w11 := substr(ie_dia_util_w11,1,1) || 'A';
	end if;

	if (pr_atraso_w12 > qt_dias_pr_atraso_p) then
		ie_dia_util_w12 := substr(ie_dia_util_w12,1,1) || 'A';
	end if;

	if (pr_atraso_w13 > qt_dias_pr_atraso_p) then
		ie_dia_util_w13 := substr(ie_dia_util_w13,1,1) || 'A';
	end if;

	if (pr_atraso_w14 > qt_dias_pr_atraso_p) then
		ie_dia_util_w14 := substr(ie_dia_util_w14,1,1) || 'A';
	end if;

	if (pr_atraso_w15 > qt_dias_pr_atraso_p) then
		ie_dia_util_w15 := substr(ie_dia_util_w15,1,1) ||'A';
	end if;

	if (pr_atraso_w16 > qt_dias_pr_atraso_p) then
		ie_dia_util_w16 := substr(ie_dia_util_w16,1,1) ||'A';
	end if;

	if (pr_atraso_w17 > qt_dias_pr_atraso_p) then
		ie_dia_util_w17 := substr(ie_dia_util_w17,1,1) ||'A';
	end if;

	if (pr_atraso_w18 > qt_dias_pr_atraso_p) then
		ie_dia_util_w18 := substr(ie_dia_util_w18,1,1) ||'A';
	end if;

	if (pr_atraso_w19 > qt_dias_pr_atraso_p) then
		ie_dia_util_w19 := substr(ie_dia_util_w19,1,1) ||'A';
	end if;

	if (pr_atraso_w20 > qt_dias_pr_atraso_p) then
		ie_dia_util_w20 := substr(ie_dia_util_w20,1,1) ||'A';
	end if;

	if (pr_atraso_w21 > qt_dias_pr_atraso_p) then
		ie_dia_util_w21 := substr(ie_dia_util_w21,1,1) ||'A';
	end if;

	if (pr_atraso_w22 > qt_dias_pr_atraso_p) then
		ie_dia_util_w22 := substr(ie_dia_util_w22,1,1) || 'A';
	end if;

	if (pr_atraso_w23 > qt_dias_pr_atraso_p) then
		ie_dia_util_w23 := substr(ie_dia_util_w23,1,1) || 'A';
	end if;

	if (pr_atraso_w24 > qt_dias_pr_atraso_p) then
		ie_dia_util_w24 := substr(ie_dia_util_w24,1,1) || 'A';
	end if;

	if (pr_atraso_w25 > qt_dias_pr_atraso_p) then
		ie_dia_util_w25 := substr(ie_dia_util_w25,1,1) || 'A';
	end if;

	if (pr_atraso_w26 > qt_dias_pr_atraso_p) then
		ie_dia_util_w26 := substr(ie_dia_util_w26,1,1) || 'A';
	end if;

	if (pr_atraso_w27 > qt_dias_pr_atraso_p) then
		ie_dia_util_w27 := substr(ie_dia_util_w27,1,1) || 'A';
	end if;

	if (pr_atraso_w28 > qt_dias_pr_atraso_p) then
		ie_dia_util_w28 := substr(ie_dia_util_w28,1,1) || 'A';
	end if;

	if (pr_atraso_w29 > qt_dias_pr_atraso_p) then
		ie_dia_util_w29 := substr(ie_dia_util_w29,1,1) || 'A';
	end if;

	if (pr_atraso_w30 > qt_dias_pr_atraso_p) then
		ie_dia_util_w30 := substr(ie_dia_util_w30,1,1) || 'A';
	end if;

	if (pr_atraso_w31 > qt_dias_pr_atraso_p) then
		ie_dia_util_w31 := substr(ie_dia_util_w31,1,1) || 'A';
	end if;



	insert into w_painel_os(
			ie_status,
			nr_seq_tipo_ordem,
			nm_usuario,
			nm_usuario_nrec,
			dt_atualizacao,
			dt_atualizacao_nrec,
			dt_ordem,
			qt_ordem,
			qt_ordem2,
			qt_ordem3,
			qt_ordem4,
			qt_ordem5,
			qt_ordem6,
			qt_ordem7,
			qt_ordem8,
			qt_ordem9,
			qt_ordem10,
			qt_ordem11,
			qt_ordem12,
			qt_ordem13,
			qt_ordem14,
			qt_ordem15,
			qt_ordem16,
			qt_ordem17,
			qt_ordem18,
			qt_ordem19,
			qt_ordem20,
			qt_ordem21,
			qt_ordem22,
			qt_ordem23,
			qt_ordem24,
			qt_ordem25,
			qt_ordem26,
			qt_ordem27,
			qt_ordem28,
			qt_ordem29,
			qt_ordem30,
			qt_ordem31,
			ie_dia_util1,
			ie_dia_util2,
			ie_dia_util3,
			ie_dia_util4,
			ie_dia_util5,
			ie_dia_util6,
			ie_dia_util7,
			ie_dia_util8,
			ie_dia_util9,
			ie_dia_util10,
			ie_dia_util11,
			ie_dia_util12,
			ie_dia_util13,
			ie_dia_util14,
			ie_dia_util15,
			ie_dia_util16,
			ie_dia_util17,
			ie_dia_util18,
			ie_dia_util19,
			ie_dia_util20,
			ie_dia_util21,
			ie_dia_util22,
			ie_dia_util23,
			ie_dia_util24,
			ie_dia_util25,
			ie_dia_util26,
			ie_dia_util27,
			ie_dia_util28,
			ie_dia_util29,
			ie_dia_util30,
			ie_dia_util31,
			ie_tipo_campo,
			pr_atraso,
			qt_total_status,
			qt_atrasada,
			qt_total_atras,
			qt_total_os)
		values (	ie_status_ordem_w,
			nr_seq_tipo_ordem_w,
			nm_usuario_p,
			nm_usuario_p,
			clock_timestamp(),
			clock_timestamp(),
			dt_ordem_w,
			qt_ordem_w1,
			qt_ordem_w2,
			qt_ordem_w3,
			qt_ordem_w4,
			qt_ordem_w5,
			qt_ordem_w6,
			qt_ordem_w7,
			qt_ordem_w8,
			qt_ordem_w9,
			qt_ordem_w10,
			qt_ordem_w11,
			qt_ordem_w12,
			qt_ordem_w13,
			qt_ordem_w14,
			qt_ordem_w15,
			qt_ordem_w16,
			qt_ordem_w17,
			qt_ordem_w18,
			qt_ordem_w19,
			qt_ordem_w20,
			qt_ordem_w21,
			qt_ordem_w22,
			qt_ordem_w23,
			qt_ordem_w24,
			qt_ordem_w25,
			qt_ordem_w26,
			qt_ordem_w27,
			qt_ordem_w28,
			qt_ordem_w29,
			qt_ordem_w30,
			qt_ordem_w31,
			ie_dia_util_w1,
			ie_dia_util_w2,
			ie_dia_util_w3,
			ie_dia_util_w4,
			ie_dia_util_w5,
			ie_dia_util_w6,
			ie_dia_util_w7,
			ie_dia_util_w8,
			ie_dia_util_w9,
			ie_dia_util_w10,
			ie_dia_util_w11,
			ie_dia_util_w12,
			ie_dia_util_w13,
			ie_dia_util_w14,
			ie_dia_util_w15,
			ie_dia_util_w16,
			ie_dia_util_w17,
			ie_dia_util_w18,
			ie_dia_util_w19,
			ie_dia_util_w20,
			ie_dia_util_w21,
			ie_dia_util_w22,
			ie_dia_util_w23,
			ie_dia_util_w24,
			ie_dia_util_w25,
			ie_dia_util_w26,
			ie_dia_util_w27,
			ie_dia_util_w28,
			ie_dia_util_w29,
			ie_dia_util_w30,
			ie_dia_util_w31,
			ie_tipo_quebra_p,
			pr_atraso_w,
			qt_os_status_w,
			qt_atrasada_w,
			qt_total_atrasada_w,
			qt_total_os_w);

		ie_dia_util_w1	:=	ie_dia_util_aux_w1;
		ie_dia_util_w2	:=	ie_dia_util_aux_w2;
		ie_dia_util_w3	:=	ie_dia_util_aux_w3;
		ie_dia_util_w4	:=	ie_dia_util_aux_w4;
		ie_dia_util_w5	:=	ie_dia_util_aux_w5;
		ie_dia_util_w6	:=	ie_dia_util_aux_w6;
		ie_dia_util_w7	:=	ie_dia_util_aux_w7;
		ie_dia_util_w8	:=	ie_dia_util_aux_w8;
		ie_dia_util_w9	:=	ie_dia_util_aux_w9;
		ie_dia_util_w10	:=	ie_dia_util_aux_w10;
		ie_dia_util_w11	:=	ie_dia_util_aux_w11;
		ie_dia_util_w12	:=	ie_dia_util_aux_w12;
		ie_dia_util_w13	:=	ie_dia_util_aux_w13;
		ie_dia_util_w14	:=	ie_dia_util_aux_w14;
		ie_dia_util_w15	:=	ie_dia_util_aux_w15;
		ie_dia_util_w16	:=	ie_dia_util_aux_w16;
		ie_dia_util_w17	:=	ie_dia_util_aux_w17;
		ie_dia_util_w18	:=	ie_dia_util_aux_w18;
		ie_dia_util_w19	:=	ie_dia_util_aux_w19;
		ie_dia_util_w20	:=	ie_dia_util_aux_w20;
		ie_dia_util_w21	:=	ie_dia_util_aux_w21;
		ie_dia_util_w22	:=	ie_dia_util_aux_w22;
		ie_dia_util_w23	:=	ie_dia_util_aux_w23;
		ie_dia_util_w24	:=	ie_dia_util_aux_w24;
		ie_dia_util_w25	:=	ie_dia_util_aux_w25;
		ie_dia_util_w26	:=	ie_dia_util_aux_w26;
		ie_dia_util_w27	:=	ie_dia_util_aux_w27;
		ie_dia_util_w28	:=	ie_dia_util_aux_w28;
		ie_dia_util_w29	:=	ie_dia_util_aux_w29;
		ie_dia_util_w30	:=	ie_dia_util_aux_w30;
		ie_dia_util_w31	:=	ie_dia_util_aux_w31;

	end;
end loop;
close C01;

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE man_gerar_w_painel_os (dt_mes_p text, dt_ano_p text, nr_grupo_planej_p text, nr_seq_tipo_equip_p text, nr_seq_prioridade_p text, nr_grupo_trabalho_p text, nm_usuario_exec_p text, cd_pessoa_solicitante_p text, nr_seq_localizacao_p text, cd_centro_custo_p text, ie_tipo_quebra_p text, nr_seq_tipo_ordem_p text, ie_tipo_ordem_p text, qt_dias_pr_atraso_p bigint, nr_seq_grupo_trabalho_p text, nm_usuario_p text) FROM PUBLIC;

