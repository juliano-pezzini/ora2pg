-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gerar_w_int_local_estoque ( cd_centro_custo_p text, cd_comprador_consig_p text, cd_estabelecimento_p text, cd_pessoa_solic_consig_p text, ds_complemento_p text, ds_local_estoque_p text, ie_baixa_disp_p text, ie_centro_custo_nf_p text, ie_centro_custo_ordem_p text, ie_centro_inventario_p text, ie_considera_transf_padrao_p text, ie_consiste_saldo_rep_p text, ie_externo_p text, ie_gera_lote_p text, ie_limpa_requisicao_p text, ie_local_entrega_oc_p text, ie_permite_digitacao_p text, ie_permite_emprestimo_p text, ie_permite_estoque_negativo_p text, ie_permite_oc_p text, ie_ponto_pedido_p text, ie_proprio_p text, ie_req_automatica_p text, ie_req_mat_estoque_p text, ie_situacao_p text, ie_tipo_local_p text, qt_dia_ajuste_maximo_p text, qt_dia_ajuste_minimo_p text, qt_dia_consumo_p text, nm_usuario_p text, nr_seq_local_estoque_p INOUT text) AS $body$
DECLARE







nr_seq_local_estoque_w	bigint;
ds_erro_w	varchar(4000);


BEGIN

delete FROM w_int_local_estoque
where nm_usuario = nm_usuario_p;

select	nextval('w_int_local_estoque_seq')
into STRICT	nr_seq_local_estoque_w
;

insert into w_int_local_estoque(
			nr_sequencia,
			cd_centro_custo,
			cd_comprador_consig,
			cd_estabelecimento,
			cd_pessoa_solic_consig,
			ds_complemento,
			ds_local_estoque,
			ie_baixa_disp,
			ie_centro_custo_nf,
			ie_centro_custo_ordem,
			ie_centro_inventario,
			ie_considera_transf_padrao,
			ie_consiste_saldo_rep,
			ie_externo,
			ie_gera_lote,
			ie_limpa_requisicao,
			ie_local_entrega_oc,
			ie_permite_digitacao,
			ie_permite_emprestimo,
			ie_permite_estoque_negativo,
			ie_permite_oc,
			ie_ponto_pedido,
			ie_proprio,
			ie_req_automatica,
			ie_req_mat_estoque,
			ie_situacao,
			ie_tipo_local,
			qt_dia_ajuste_maximo,
			qt_dia_ajuste_minimo,
			qt_dia_consumo,
			nm_usuario,
			nm_usuario_nrec,
			dt_atualizacao,
			dt_atualizacao_nrec)
values ( nr_seq_local_estoque_w,
	cd_centro_custo_p,
	cd_comprador_consig_p,
	cd_estabelecimento_p,
	cd_pessoa_solic_consig_p,
	ds_complemento_p,
	ds_local_estoque_p,
	ie_baixa_disp_p,
	ie_centro_custo_nf_p,
	ie_centro_custo_ordem_p,
	ie_centro_inventario_p,
	ie_considera_transf_padrao_p,
	ie_consiste_saldo_rep_p,
	ie_externo_p,
	ie_gera_lote_p,
	ie_limpa_requisicao_p,
	ie_local_entrega_oc_p,
	ie_permite_digitacao_p,
	ie_permite_emprestimo_p,
	ie_permite_estoque_negativo_p,
	ie_permite_oc_p,
	ie_ponto_pedido_p,
	ie_proprio_p,
	ie_req_automatica_p,
	ie_req_mat_estoque_p,
	ie_situacao_p,
	ie_tipo_local_p,
	(qt_dia_ajuste_maximo_p)::numeric ,
	(qt_dia_ajuste_minimo_p)::numeric ,
	(qt_dia_consumo_p)::numeric ,
	nm_usuario_p,
	nm_usuario_p,
	clock_timestamp(),
	clock_timestamp());

nr_seq_local_estoque_p := nr_seq_local_estoque_w;

commit;


end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_w_int_local_estoque ( cd_centro_custo_p text, cd_comprador_consig_p text, cd_estabelecimento_p text, cd_pessoa_solic_consig_p text, ds_complemento_p text, ds_local_estoque_p text, ie_baixa_disp_p text, ie_centro_custo_nf_p text, ie_centro_custo_ordem_p text, ie_centro_inventario_p text, ie_considera_transf_padrao_p text, ie_consiste_saldo_rep_p text, ie_externo_p text, ie_gera_lote_p text, ie_limpa_requisicao_p text, ie_local_entrega_oc_p text, ie_permite_digitacao_p text, ie_permite_emprestimo_p text, ie_permite_estoque_negativo_p text, ie_permite_oc_p text, ie_ponto_pedido_p text, ie_proprio_p text, ie_req_automatica_p text, ie_req_mat_estoque_p text, ie_situacao_p text, ie_tipo_local_p text, qt_dia_ajuste_maximo_p text, qt_dia_ajuste_minimo_p text, qt_dia_consumo_p text, nm_usuario_p text, nr_seq_local_estoque_p INOUT text) FROM PUBLIC;

