-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gerar_carga_bradesco ( cd_edicao_p bigint, cd_procedimento_p text, cd_moeda_p bigint, nm_usuario_p text, vl_ind_emp_p text, qt_filme_p text, nr_aux_p text, nr_inc_p text, qt_porte_anestesico_p text, ie_origem_proced_p bigint, dt_inicio_vigencia_p timestamp ) AS $body$
DECLARE


ds_erro_w	varchar(4000);


BEGIN
begin
insert into preco_amb(	cd_edicao_amb,
			cd_procedimento,
			vl_procedimento,
			cd_moeda,
			dt_atualizacao,
			nm_usuario,
			vl_custo_operacional,
			vl_anestesista,
			vl_medico,
			vl_filme,
			qt_filme,
			nr_auxiliares,
			nr_incidencia,
			qt_porte_anestesico,
			ie_origem_proced,
			vl_auxiliares,
			dt_inicio_vigencia,
			nr_sequencia)
values (	cd_edicao_p,
			(cd_procedimento_p)::numeric ,
                        0,
			cd_moeda_p,
                         clock_timestamp(),
			nm_usuario_p,
			0,
			0,
			(vl_ind_emp_p)::numeric ,
			0,
			(qt_filme_p)::numeric ,
			(nr_aux_p)::numeric ,
			(nr_inc_p)::numeric ,
			(qt_porte_anestesico_p)::numeric ,
			ie_origem_proced_p,
			0,
			dt_inicio_vigencia_p,
			nextval('preco_amb_seq'));
exception
	when others then
		ds_erro_w	:= sqlerrm(SQLSTATE);

	/*	insert into log_XXtasy(	cd_log,
					ds_log,
					dt_atualizacao,
					nm_usuario  ) values (	552,
								(ds_erro_w 					|| chr(13) || chr(10) ||
								'cd_edicao_p='		||cd_edicao_p		|| chr(13) || chr(10) ||
								'cd_procedimento_p='	||cd_procedimento_p	|| chr(13) || chr(10) ||
								'cd_moeda_p='		||cd_moeda_p		|| chr(13) || chr(10) ||
								'nm_usuario_p='		||nm_usuario_p		|| chr(13) || chr(10) ||
								'vl_ind_emp_p='		||vl_ind_emp_p		|| chr(13) || chr(10) ||
								'qt_filme_p='		||qt_filme_p		|| chr(13) || chr(10) ||
								'nr_aux_p='		||nr_aux_p		|| chr(13) || chr(10) ||
								'nr_inc_p='		||nr_inc_p		|| chr(13) || chr(10) ||
								'qt_porte_anestesico_p='||qt_porte_anestesico_p	|| chr(13) || chr(10) ||
								'ie_origem_proced_p='	||ie_origem_proced_p	|| chr(13) || chr(10) ||
								'dt_inicio_vigencia_p='	|| dt_inicio_vigencia_p),
								sysdate,
								nm_usuario_p);	 */
end;
commit;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_carga_bradesco ( cd_edicao_p bigint, cd_procedimento_p text, cd_moeda_p bigint, nm_usuario_p text, vl_ind_emp_p text, qt_filme_p text, nr_aux_p text, nr_inc_p text, qt_porte_anestesico_p text, ie_origem_proced_p bigint, dt_inicio_vigencia_p timestamp ) FROM PUBLIC;

