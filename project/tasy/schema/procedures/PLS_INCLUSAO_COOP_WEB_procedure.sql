-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pls_inclusao_coop_web ( nm_cooperado_p text, nr_cpf_p text, dt_nascimento_p timestamp, nr_telefone_p text, nr_crm_p text, sg_estado_p text, ds_email_p text, nm_mae_p text, ds_observacao_p text, ie_origem_cadastro_p text, nm_usuario_p text, uf_crm_p text, nr_seq_inclusao_p INOUT bigint) AS $body$
DECLARE


nr_seq_inclusao_w	bigint;

/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade: inserir solicitação de inclusão do cooperado no portal web, na função OPSW - Canais.
-------------------------------------------------------------------------------------------------------------------
Locais de chamada direta:
[  ]  Objetos do dicionário [ ] Tasy (Delphi/Java) [ X] Portal [  ]  Relatórios [ ] Outros:
 ------------------------------------------------------------------------------------------------------------------
Pontos de atenção:
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
BEGIN

select nextval('pls_inclusao_cooperado_seq')
into STRICT	nr_seq_inclusao_w
;

insert into 	pls_inclusao_cooperado(	nr_sequencia, nm_cooperado, nr_cpf,
		dt_nascimento, nr_telefone, nr_crm,
		sg_estado, ds_email, nm_mae,
		ds_observacao, ie_origem_cadastro, nm_usuario,
		dt_atualizacao, dt_atualizacao_nrec, nm_usuario_nrec,
		uf_crm)
values (	nr_seq_inclusao_w, nm_cooperado_p, nr_cpf_p,
		dt_nascimento_p, nr_telefone_p, nr_crm_p,
		sg_estado_p, ds_email_p, nm_mae_p,
		ds_observacao_p, ie_origem_cadastro_p, nm_usuario_p,
		clock_timestamp(), clock_timestamp(), nm_usuario_p,
		uf_crm_p);

nr_seq_inclusao_p := nr_seq_inclusao_w;

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_inclusao_coop_web ( nm_cooperado_p text, nr_cpf_p text, dt_nascimento_p timestamp, nr_telefone_p text, nr_crm_p text, sg_estado_p text, ds_email_p text, nm_mae_p text, ds_observacao_p text, ie_origem_cadastro_p text, nm_usuario_p text, uf_crm_p text, nr_seq_inclusao_p INOUT bigint) FROM PUBLIC;

