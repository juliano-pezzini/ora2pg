-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE duplicar_atributo ( nm_Tabela_p text, nm_atributo_p text, nm_atributo_new_p text, nm_usuario_p text) AS $body$
BEGIN

insert into tabela_atributo(
	nm_tabela, nm_atributo, nr_sequencia_criacao, ie_obrigatorio,
	ie_tipo_atributo, dt_atualizacao, nm_usuario, qt_tamanho,
	qt_decimais, ie_criar_alterar, ds_atributo, cd_exp_desc, ie_situacao,
	qt_tamanho_calculo, qt_seq_inicio, qt_seq_incremento,
	dt_criacao, vl_default, ie_componente, ds_valores, cd_exp_valores,
	cd_dominio, qt_tam_delphi, ds_label, cd_exp_label, nr_seq_apresent,
	ds_label_grid, cd_exp_label_grid, nr_seq_ordem, qt_coluna, ds_mascara, 
	qt_desloc_direita, qt_tam_label, qt_tam_grid, ie_readonly,
	ie_tabstop, nr_seq_localizador, qt_altura, ie_criar_descricao,
	nm_atributo_pai, ie_log_exclusao,ie_log_update,ie_atualizar_versao,ie_criar_desc_fk,
	ds_cor, qt_tam_fonte, ds_estilo_fonte, ie_aplicabilidade_estilo, DS_LABEL_LONGO, CD_EXP_LABEL_LONGO, IE_INFORMACAO_SENSIVEL)
SELECT nm_tabela, nm_atributo_new_p, nr_sequencia_criacao + 2,
	ie_obrigatorio,  ie_tipo_atributo, clock_timestamp(),
	nm_usuario_p, qt_tamanho,  qt_decimais,
	ie_criar_alterar, ds_atributo, cd_exp_desc, ie_situacao,
	qt_tamanho_calculo, qt_seq_inicio, qt_seq_incremento,
	clock_timestamp(), vl_default, ie_componente, ds_valores, cd_exp_valores, 
	cd_dominio, qt_tam_delphi, ds_label, cd_exp_label, nr_seq_apresent,
	ds_label_grid,  cd_exp_label_grid, nr_seq_ordem, qt_coluna, ds_mascara,
	qt_desloc_direita, qt_tam_label, qt_tam_grid, ie_readonly,
	ie_tabstop, nr_seq_localizador, qt_altura, ie_criar_descricao,
	nm_atributo_pai, ie_log_exclusao,ie_log_update,ie_atualizar_versao,ie_criar_desc_fk,
	ds_cor, qt_tam_fonte, ds_estilo_fonte, ie_aplicabilidade_estilo, DS_LABEL_LONGO, CD_EXP_LABEL_LONGO, IE_INFORMACAO_SENSIVEL
from	tabela_atributo
where	nm_tabela 	= nm_tabela_p
and	nm_atributo	= nm_atributo_p;

commit;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE duplicar_atributo ( nm_Tabela_p text, nm_atributo_p text, nm_atributo_new_p text, nm_usuario_p text) FROM PUBLIC;

