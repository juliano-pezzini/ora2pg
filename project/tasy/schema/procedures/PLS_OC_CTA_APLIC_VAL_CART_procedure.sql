-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pls_oc_cta_aplic_val_cart () AS $body$
DECLARE


/* +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade:  Aplicar a validação de carteira do beneficiário conforme informado na
	regra para as contas ou itens que passaram pelos filtros da regra.
-------------------------------------------------------------------------------------------------------------------
Locais de chamada direta:
[ X]  Objetos do dicionário [ ] Tasy (Delphi/Java) [  ] Portal [  ]  Relatórios [ ] Outros:
 ------------------------------------------------------------------------------------------------------------------
Pontos de atenção:


Alterações:
 ------------------------------------------------------------------------------------------------------------------
 jjung OS 601977 10/06/2013 -

 Alteração: 	Linha 37 : 	Alterado a restrição do cursor C01 para  usar o exists e ao invés do in.

 Motivo:	Para que quando entrar procedimentos na tabela de seleção apenas seja validado
	uma vez a mesma conta.
 ------------------------------------------------------------------------------------------------------------------
 jjung OS 602057 - 18/06/2013

 Alteração:	Retirado o campo dados_filtro_w.ieececao e substituido pelo ie_gera_ocorrencia.

 Motivo:	Foi identificado que a lógica do campo ie_excecao era muito confusa e poderia
	trazer problemas.
 ------------------------------------------------------------------------------------------------------------------
 jjung 29/06/2013

Alteração:	Adicionado parametro nos métodos de atualização dos campos IE_VALIDO e IE_VALIDO_TEMP
	da PLS_TIPOS_OCOR_PCK

Motivo:	Se tornou necessário diferenciar os filtros das validações na hora de realizar esta operação
	para que os filtros de exceção funcionem corretamente.
------------------------------------------------------------------------------------------------------------------
jjung OS 613532 02/07/2013 -

Alteração:	Mudado select do cursor C01 para buscar da view pls_oc_cta_selecao_ocor_v
	direto e não acessar a view pls_conta_ocor_v usando o exists

Motivo:	Foi identificado que desta forma evitasse o acesso full a tabela pls_conta na execução
	do select e que desta forma o Oracle "se vira" melhor com a execução do select.
------------------------------------------------------------------------------------------------------------------
jjung 14/10/2013 - Substituída pela procedure PLS_OC_CTA_TRATAR_VAL_2
------------------------------------------------------------------------------------------------------------------
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ */
BEGIN

null;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_oc_cta_aplic_val_cart () FROM PUBLIC;

