-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pfcs_delete_fr4_pa (nr_seq_indicator_p bigint) AS $body$
DECLARE


pfcs_panel_seq_w			pfcs_panel.nr_sequencia%type;
cd_estabelecimento_w			bigint;
nm_usuario_p 				varchar(20);


BEGIN

CALL pfcs_generate_fr4_pa(nr_seq_indicator_p);
nm_usuario_p := 'asimovbr';
cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 1, ie_level_p => 'O', ie_info_p => 'C');

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3005;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3005;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3002;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3002;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3003;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3003;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3004;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 300;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(215/8) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Queue';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 1 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Queue';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3044;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3044;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(39/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Reception';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 2 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Reception';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3050;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3050;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(80/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Triage';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 1 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Triage';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3057;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3057;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(120/2) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Call';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 1 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Call';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3067;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3067;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(55/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Exams';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 2 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Exams';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3075;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3075;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(65/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Medication';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 2 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Medication';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3082;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3082;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3081;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3081;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(190/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Outcome';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 2 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Outcome';

cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 39, ie_level_p => 'O', ie_info_p => 'C');

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3012;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3012;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3013;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3013;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3014;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3014;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3029;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3029;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(393/14) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Queue';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 3 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Queue';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3046;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3046;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(42/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Reception';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 2 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Reception';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3052;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3052;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3054;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3054;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(63/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Triage';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 0 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Triage';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3059;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3059;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3061;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3061;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(111/2) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Call';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 0 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Call';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3069;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3069;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(47/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Exams';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 0 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Exams';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3077;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3077;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(116/3) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Medication';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 0 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Medication';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3085;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3085;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(212/2) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Outcome';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 2 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Outcome';

cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 11, ie_level_p => 'O', ie_info_p => 'C');

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3030;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3030;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3032;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3032;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3033;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3033;

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3034;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3034;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(264/10) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Queue';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 2 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Queue';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3048;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3048;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(41/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Reception';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 2 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Reception';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3055;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3055;	

UPDATE PFCS_PANEL SET VL_INDICATOR = 0 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Triage';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 0 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Triage';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3063;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3063;	

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3064;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3064;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(124/2) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Call';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 0 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Call';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3071;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3071;	

UPDATE PFCS_PANEL SET VL_INDICATOR = round(124/2) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Exams';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 0 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Exams';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3079;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3079;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(59/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Medication';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 1 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Medication';

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL = 3087;
DELETE FROM pfcs_panel_detail WHERE NR_SEQUENCIA = 3087;

UPDATE PFCS_PANEL SET VL_INDICATOR = round(82/1) WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Outcome';
UPDATE PFCS_PANEL SET VL_INDICATOR_AUX = 0 WHERE NR_SEQ_INDICATOR = nr_seq_indicator_p and nr_seq_operational_level = cd_estabelecimento_w and ds_reference_value = 'Outcome';

CALL pfcs_pck.pfcs_update_detail(
	nr_seq_indicator_p => nr_seq_indicator_p,
	nr_seq_panel_p => pfcs_panel_seq_w,
	nr_seq_operational_level_p => cd_estabelecimento_w,
	nm_usuario_p => nm_usuario_p);
commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pfcs_delete_fr4_pa (nr_seq_indicator_p bigint) FROM PUBLIC;

