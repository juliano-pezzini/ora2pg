-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gravar_bordero_pagar_consist (nr_bordero_p bigint, nr_titulo_p bigint, nm_usuario_p text, ie_tipo_consistencia_p text, cd_consistencia_p bigint, ds_consistencia_p text) AS $body$
DECLARE


/* Utilizada no HTML5, para as consistêncais ao vincular um título pagar ao bordero de pagamento

ie_tipo_consistencia_p
I - Mensagem informativa
P - Mensagem de confirmação (Pergunta)

cd_consistencia_p - Considerado para as mensagens de confirmação

119591 - Existem adiantamentos em aberto para o favorecido do título. Deseja continar ?
119540 - O título já está inserido em outro borderô! Continuar inserção do título?
*/
BEGIN

insert into BORDERO_TIT_PAGAR_CONSIST(nr_sequencia,
	dt_atualizacao,
	nm_usuario,
	nr_bordero,
	nr_titulo,
	ie_tipo_consistencia,
	cd_consistencia,
	ds_consistencia)
values (nextval('bordero_tit_pagar_consist_seq'),
	clock_timestamp(),
	nm_usuario_p,
	nr_bordero_p,
	nr_titulo_p,
	ie_tipo_consistencia_p,
	cd_consistencia_p,
	ds_consistencia_p);

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gravar_bordero_pagar_consist (nr_bordero_p bigint, nr_titulo_p bigint, nm_usuario_p text, ie_tipo_consistencia_p text, cd_consistencia_p bigint, ds_consistencia_p text) FROM PUBLIC;

