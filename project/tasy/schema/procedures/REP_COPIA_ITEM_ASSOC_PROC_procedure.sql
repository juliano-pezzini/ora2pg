-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE rep_copia_item_assoc_proc ( nr_Prescricao_p bigint, nr_prescricao_original_p bigint, nr_sequencia_proc_ant_p bigint, nr_sequencia_proc_p bigint, ie_procedimento_p text, cd_perfil_p bigint, nr_seq_material_p bigint, nm_usuario_p text, ds_horarios_p text, ie_modificar_p text) AS $body$
DECLARE


dt_inicio_prescr_w		timestamp;
dt_inicio_item_w		timestamp;
nr_agrup_acum_w			bigint;
cd_unidade_medida_w		varchar(20);
nr_sequencia_w			bigint;
qt_unitaria_w			double precision;
qt_material_w			double precision;
ds_horarios_w			varchar(2000);
ds_horarios_reordenados_w varchar(2000);
ds_erro_w				varchar(2000);
nr_sequencia_diluicao_w	integer;
hr_prim_horario_w		varchar(5);
nr_dia_util_w			bigint;
cd_material_w			integer;
nr_horas_validade_w		integer;
ie_origem_inf_w			varchar(1);
cd_estabelecimento_w	smallint;
cd_intervalo_w			varchar(7);
ie_via_aplicacao_w		varchar(5);
dt_prim_horario_w		varchar(20);
cd_classif_setor_w		varchar(2);
VarGerarKit_w			varchar(2);
ie_agrupador_w			smallint;
ie_acm_w				varchar(1);
ie_nao_padronizado_w	varchar(1);
VarCopiaJust_w			varchar(1);
dt_proxima_dose_w		timestamp;
ie_regra_disp_w			varchar(1);/* Rafael em 15/3/8 OS86206 */
cd_perfil_w				integer;
cd_setor_atendimento_w	bigint;
ie_prescr_agora_pa_w	varchar(1);
ie_ajustar_disp_assoc_w	varchar(1);
nr_atendimento_w		bigint;
ie_cobra_paciente_w		varchar(15);
ds_observacao_w			varchar(4000);
ds_observacao_enf_w		varchar(2000);
qt_dose_w				double precision;
nr_seq_regra_w			bigint;
nr_agrupamento_w		bigint;
cd_motivo_baixa_w		bigint;
dt_baixa_w				timestamp;
ie_utiliza_kit_w		varchar(15);
cd_unidade_medida_dose_w varchar(30);
qt_conversao_dose_w		double precision;
nr_ocorrencia_w			double precision;
qt_total_dispensar_w	double precision;
cd_fornec_consignado_w	varchar(30);
nr_sequencia_solucao_w	integer;
nr_sequencia_proc_w		integer;
qt_solucao_w			double precision;
ds_dose_diferenciada_w	varchar(50);
ie_medicacao_paciente_w	varchar(30);
nr_sequencia_dieta_w	integer;
ie_suspenso_w			varchar(30);
ie_se_necessario_w		varchar(30);
qt_min_aplicacao_w		bigint;
ie_bomba_infusao_w		varchar(30);
ie_aplic_bolus_w		varchar(30);
ie_aplic_lenta_w		varchar(30);
ie_objetivo_w			varchar(30);
cd_topografia_cih_w		bigint;
ie_origem_infeccao_w	varchar(30);
cd_amostra_cih_w		bigint;
cd_microorganismo_cih_w	bigint;
ie_uso_antimicrobiano_w	varchar(30);
cd_protocolo_w			bigint;
nr_seq_protocolo_w		bigint;
nr_seq_mat_protocolo_w	bigint;
qt_hora_aplicacao_w		bigint;
ie_recons_diluente_fixo_w varchar(30);
qt_vel_infusao_w		double precision;
ds_justificativa_w		varchar(2000);
ie_sem_aprazamento_w	varchar(1);
ie_indicacao_w			varchar(1);
qt_total_dias_lib_w		integer;
nr_seq_substituto_w		integer;
ie_lado_w				varchar(1);
dt_inicio_medic_w		timestamp;
qt_dia_prim_hor_w		bigint;
qt_vol_adic_reconst_w	double precision;
qt_hora_intervalo_w		smallint;
qt_min_intervalo_w		integer;
ie_urgencia_w			varchar(10);
ie_loop_w				varchar(1);
qt_itens_w				bigint;
ds_horarios2_w			varchar(300);
ie_intervalo_dif_w		varchar(1);
ie_kit_gerado_w			varchar(1);
ie_glicemia_w			varchar(1);
ie_permite_alterar_w		prescr_material.ie_permite_alterar%type;
qt_divisor_w			double precision;
ie_checar_adep_w	prescr_material.ie_checar_adep%type;
cd_intervalo_proc_w		prescr_procedimento.cd_intervalo%type;
nr_ocorrencia_proc_w	prescr_procedimento.nr_ocorrencia%type;
nr_ocorrencia_auxiliar_w		prescr_procedimento.nr_ocorrencia%type;
nr_seq_anterior_w		prescr_material.nr_seq_anterior%type;

c01 CURSOR FOR
SELECT  a.nr_sequencia,
		a.ie_origem_inf,
		a.cd_material,
		a.cd_unidade_medida,
		a.qt_dose,
		a.qt_unitaria,
		a.qt_material,
		a.cd_intervalo,
		reordenar_horarios(dt_inicio_prescr_w, reordenar_horarios_copia(a.ds_horarios)),
		a.ds_horarios,
		substr(a.ds_observacao,1,4000),
		a.ds_observacao_enf,
		a.ie_via_aplicacao,
		a.nr_agrupamento,
		coalesce(a.ie_cobra_paciente,'S'),
		CASE WHEN coalesce(a.ie_regra_disp,'X')='D' THEN  a.cd_motivo_baixa  ELSE CASE WHEN coalesce(a.ie_cobra_paciente,'S')='S' THEN  0  ELSE a.cd_motivo_baixa END  END ,
		CASE WHEN coalesce(a.ie_regra_disp,'X')='D' THEN  clock_timestamp()  ELSE CASE WHEN coalesce(a.ie_cobra_paciente,'S')='S' THEN  null  ELSE clock_timestamp() END  END ,
		a.ie_utiliza_kit,
		a.cd_unidade_medida_dose,
		a.qt_conversao_dose,
		a.qt_total_dispensar,
		a.cd_fornec_consignado,
		CASE WHEN coalesce(a.nr_sequencia_solucao::text, '') = '' THEN  null  ELSE a.nr_sequencia_solucao END ,
		CASE WHEN coalesce(nr_sequencia_proc_p::text, '') = '' THEN  null  ELSE nr_sequencia_proc_p END ,
		a.qt_solucao,
		a.ds_dose_diferenciada,
		a.ie_medicacao_paciente,
		CASE WHEN coalesce(a.nr_sequencia_diluicao::text, '') = '' THEN  null  ELSE a.nr_sequencia_diluicao + nr_seq_material_p END ,
		CASE WHEN a.ie_se_necessario='S' THEN  null  ELSE a.hr_prim_horario END ,
		CASE WHEN coalesce(a.nr_sequencia_dieta::text, '') = '' THEN null  ELSE a.nr_sequencia_dieta END ,
		a.ie_agrupador,
		a.nr_dia_util,
		CASE WHEN b.ie_situacao='A' THEN  'N'  ELSE 'S' END ,
		a.ie_se_necessario,
		a.qt_min_aplicacao,
		a.ie_bomba_infusao,
		coalesce(a.ie_aplic_bolus,'N'),
		coalesce(a.ie_aplic_lenta,'N'),
		coalesce(a.ie_acm,'N'),
		a.ie_objetivo,
		a.cd_topografia_cih,
		a.ie_origem_infeccao,
		a.cd_amostra_cih,
		a.cd_microorganismo_cih,
		coalesce(a.ie_uso_antimicrobiano,'N'),
		a.cd_protocolo,
		a.nr_seq_protocolo,
		a.nr_seq_mat_protocolo,
		a.qt_hora_aplicacao,
		'N',
		a.qt_vel_infusao,
		CASE WHEN VarCopiaJust_w='S' THEN a.ds_justificativa  ELSE '' END ,
		a.ie_sem_aprazamento,
		a.ie_indicacao,
		a.dt_proxima_dose,
		a.qt_total_dias_lib,
		a.nr_seq_substituto,
		a.ie_lado,
		a.dt_inicio_medic,
		a.qt_dia_prim_hor,
		CASE WHEN coalesce(a.ie_regra_disp,'X')='D' THEN  a.ie_regra_disp  ELSE null END ,
		a.qt_vol_adic_reconst,
		a.qt_hora_intervalo,
		a.qt_min_intervalo,
		a.ie_urgencia,
		coalesce(a.ie_intervalo_dif,'N'),
		ie_glicemia,
		coalesce(a.ie_permite_alterar, 'S'),
		ie_checar_adep,
		a.nr_ocorrencia,
		coalesce(a.nr_seq_anterior,a.nr_sequencia)
From	Material b,
		Prescr_Material a
where	a.cd_material 		= b.cd_material
and		a.nr_prescricao 	= nr_prescricao_original_p
and		((a.ie_suspenso 	<> 'S') or (ie_modificar_p = 'S'))
and		b.ie_situacao		= 'A'
and		((a.ie_origem_inf		<> 'K') or (VarGerarKit_w = 'S'))
and		a.ie_agrupador		= 5
and		a.nr_sequencia_proc	= nr_sequencia_proc_ant_p
and		((coalesce(a.nr_sequencia_diluicao::text, '') = '') or
		 (a.nr_sequencia_diluicao not in (
				SELECT	x.nr_sequencia
				from	material y,
						prescr_material x
				where	y.cd_material = x.cd_material
				and		((y.ie_situacao <> 'A') or
						 ((ie_nao_padronizado_w = 'N') and (coalesce(substr(obter_se_material_padronizado(cd_estabelecimento_w, y.cd_material),1,1) ,'S') = 'N')))
				and		x.nr_prescricao = nr_prescricao_original_p)))
and	exists (select 1
	
	where	coalesce(a.nr_sequencia_proc::text, '') = ''
	
union all

	select 1
	
	where	ie_procedimento_p = 'S'
	
union all

	select 1
	from	Procedimento_prescricao c,
		Prescr_procedimento b
	where	ie_procedimento_p 	= 'C'
	and	(a.nr_sequencia_proc IS NOT NULL AND a.nr_sequencia_proc::text <> '')
	and	b.nr_prescricao		= nr_prescricao_original_p
	and	b.nr_sequencia		= a.nr_sequencia_proc
	and	b.cd_procedimento	= c.cd_procedimento
	and	b.ie_origem_proced	= c.ie_origem_proced
	and	c.ie_copia		= 'S')
and (not exists (
			select	nr_prescricao
			from	prescr_procedimento d
			where	a.nr_prescricao		= d.nr_prescricao
			and	a.nr_sequencia_proc	= d.nr_sequencia
			and	d.ie_suspenso		= 'S') or (ie_modificar_p = 'S'))
order by a.nr_sequencia;


BEGIN

select	coalesce(max(cd_estabelecimento),1),
		max(cd_setor_atendimento),
		max(nr_atendimento)
into STRICT	cd_estabelecimento_w,
		cd_setor_atendimento_w,
		nr_atendimento_w
from	prescr_medica
where	nr_prescricao = nr_prescricao_original_p;

cd_perfil_w	:= cd_perfil_p;
ie_nao_padronizado_w := Obter_Param_Usuario(924, 111, cd_perfil_w, nm_usuario_p, cd_estabelecimento_w, ie_nao_padronizado_w);
VarCopiaJust_w := Obter_Param_Usuario(924, 135, cd_perfil_w, nm_usuario_p, cd_estabelecimento_w, VarCopiaJust_w);
ie_prescr_agora_pa_w := Obter_Param_Usuario(924, 311, cd_perfil_w, nm_usuario_p, cd_estabelecimento_w, ie_prescr_agora_pa_w);
ie_ajustar_disp_assoc_w := Obter_Param_Usuario(924, 922, cd_perfil_w, nm_usuario_p, cd_estabelecimento_w, ie_ajustar_disp_assoc_w);
VarGerarKit_w := Obter_Param_Usuario(924, 810, cd_perfil_p, nm_usuario_p, cd_estabelecimento_w, VarGerarKit_w);

select	max(dt_inicio_prescr),
		max(nr_horas_validade)
into STRICT	dt_inicio_prescr_w,
		nr_horas_validade_w
from	prescr_medica
where	nr_prescricao	= nr_prescricao_p;

select	coalesce(max(nr_agrupamento),0)
into STRICT	nr_agrup_acum_w
from	prescr_material
where	nr_prescricao = nr_prescricao_p;

ie_kit_gerado_w := 'N';
open C01;
loop
fetch C01 into	
	nr_sequencia_w,
	ie_origem_inf_w,
	cd_material_w,
	cd_unidade_medida_w,
	qt_dose_w,
	qt_unitaria_w,
	qt_material_w,
	cd_intervalo_w,
	ds_horarios_reordenados_w,
	ds_horarios_w,
	ds_observacao_w,
	ds_observacao_enf_w,
	ie_via_aplicacao_w,
	nr_agrupamento_w,
	ie_cobra_paciente_w,
	cd_motivo_baixa_w,
	dt_baixa_w,
	ie_utiliza_kit_w,
	cd_unidade_medida_dose_w,
	qt_conversao_dose_w,
	qt_total_dispensar_w,
	cd_fornec_consignado_w,
	nr_sequencia_solucao_w,
	nr_sequencia_proc_w,
	qt_solucao_w,
	ds_dose_diferenciada_w,
	ie_medicacao_paciente_w,
	nr_sequencia_diluicao_w,
	hr_prim_horario_w,
	nr_sequencia_dieta_w,
	ie_agrupador_w,
	nr_dia_util_w,
	ie_suspenso_w,
	ie_se_necessario_w,
	qt_min_aplicacao_w,
	ie_bomba_infusao_w,
	ie_aplic_bolus_w,
	ie_aplic_lenta_w,
	ie_acm_w,
	ie_objetivo_w,
	cd_topografia_cih_w,
	ie_origem_infeccao_w,
	cd_amostra_cih_w,
	cd_microorganismo_cih_w,
	ie_uso_antimicrobiano_w,
	cd_protocolo_w,
	nr_seq_protocolo_w,
	nr_seq_mat_protocolo_w,
	qt_hora_aplicacao_w,
	ie_recons_diluente_fixo_w,
	qt_vel_infusao_w,
	ds_justificativa_w,
	ie_sem_aprazamento_w,
	ie_indicacao_w,
	dt_proxima_dose_w,
	qt_total_dias_lib_w,
	nr_seq_substituto_w,
	ie_lado_w,
	dt_inicio_medic_w,
	qt_dia_prim_hor_w,
	ie_regra_disp_w,
	qt_vol_adic_reconst_w,
	qt_hora_intervalo_w,
	qt_min_intervalo_w,
	ie_urgencia_w,
	ie_intervalo_dif_w,
	ie_glicemia_w,
	ie_permite_alterar_w,
	ie_checar_adep_w,
	nr_ocorrencia_w,
	nr_seq_anterior_w;
EXIT WHEN NOT FOUND; /* apply on C01 */
	
	nr_sequencia_w	:= nr_sequencia_w + nr_seq_material_p;
	nr_agrupamento_w := nr_agrupamento_w + nr_agrup_acum_w;
	
	select	max(nr_ocorrencia),
			max(cd_intervalo)
	into STRICT	nr_ocorrencia_proc_w,
			cd_intervalo_proc_w
	from	prescr_procedimento
	where	nr_prescricao = nr_prescricao_p
	and		nr_sequencia = nr_sequencia_proc_p;
	
	ie_loop_w	:= 'S';
	while(ie_loop_w = 'S') loop
		select	count(*)
		into STRICT	qt_itens_w
		from	prescr_material
		where	nr_prescricao	= nr_prescricao_p
		and	nr_sequencia	= nr_sequencia_w;
		if (qt_itens_w	= 0) then
			ie_loop_w	:= 'N';
		else	
			nr_sequencia_w	:= nr_sequencia_w + 1;
		end if;
	end loop;
	
	if (ie_intervalo_dif_w = 'N') then
		if (coalesce(hr_prim_horario_w::text, '') = '') then
			dt_inicio_item_w	:= dt_inicio_prescr_w;
		else
			dt_inicio_item_w	:= PKG_DATE_UTILS.get_Time(dt_inicio_prescr_w, hr_prim_horario_w);
		end if;
		
		select	coalesce(max(cd_intervalo), cd_intervalo_w),
			coalesce(max(qt_hora_intervalo),0),
			coalesce(max(qt_min_intervalo),0)
		into STRICT	cd_intervalo_w,
			qt_hora_intervalo_w,
			qt_min_intervalo_w
		from	prescr_procedimento
		where	nr_prescricao	= nr_prescricao_p
		and	nr_sequencia	= nr_sequencia_proc_p;
	end if;
	
	if (coalesce(ie_intervalo_dif_w,'N') = 'N') then
		ds_horarios_w	:= coalesce(ds_horarios_p,ds_horarios_w);
	end if;
	
	begin
	Insert  into Prescr_Material(
		nr_prescricao,
		nr_sequencia,
		ie_origem_inf,
		cd_material,
		cd_unidade_medida,
		qt_dose,
		qt_unitaria,
		qt_material,
		dt_atualizacao,
		nm_usuario,
		cd_intervalo,
		ds_horarios,
		ds_observacao,
		ds_observacao_enf,
		ie_via_aplicacao,
		nr_agrupamento,
		ie_cobra_paciente,
		cd_motivo_baixa,
		dt_baixa,
		ie_utiliza_kit,
		cd_unidade_medida_dose,
		qt_conversao_dose,
		nr_ocorrencia,
		qt_total_dispensar,
		cd_fornec_consignado,
		nr_sequencia_solucao,
		nr_sequencia_proc,
		qt_solucao,
		ds_dose_diferenciada,
		ie_medicacao_paciente,
		nr_sequencia_diluicao,
		hr_prim_horario,
		nr_sequencia_dieta,
		ie_agrupador,
		nr_dia_util,
		ie_suspenso,
		ie_se_necessario,
		qt_min_aplicacao,
		ie_bomba_infusao,
		ie_aplic_bolus,
		ie_aplic_lenta,
		ie_acm,
		ie_objetivo,
		cd_topografia_cih,
		ie_origem_infeccao,
		cd_amostra_cih,
		cd_microorganismo_cih,
		ie_uso_antimicrobiano,
		cd_protocolo,
		nr_seq_protocolo,
		nr_seq_mat_protocolo,
		qt_hora_aplicacao,
		ie_recons_diluente_fixo,
		qt_vel_infusao,
		ds_justificativa,
		ie_sem_aprazamento,
		ie_indicacao,
		dt_proxima_dose,
		qt_total_dias_lib,
		nr_seq_substituto,
		ie_lado,
		dt_inicio_medic,
		qt_dia_prim_hor,
		ie_regra_disp,
		qt_vol_adic_reconst,
		qt_hora_intervalo,
		qt_min_intervalo,
		ie_urgencia,
		nr_prescricao_original,
		nr_seq_anterior,
		ie_intervalo_dif,
		ie_glicemia,
		ie_permite_alterar,
		ie_checar_adep)
	values (nr_prescricao_p,
		nr_sequencia_w,
		ie_origem_inf_w,
		cd_material_w,
		cd_unidade_medida_w,
		qt_dose_w,
		qt_unitaria_w,
		qt_material_w,
		clock_timestamp(),
		nm_usuario_p,
		cd_intervalo_w,
		ds_horarios_w,
		ds_observacao_w,
		ds_observacao_enf_w,
		ie_via_aplicacao_w,
		nr_agrupamento_w,
		ie_cobra_paciente_w,
		cd_motivo_baixa_w,
		dt_baixa_w,
		ie_utiliza_kit_w,
		cd_unidade_medida_dose_w,
		qt_conversao_dose_w,
		CASE WHEN cd_intervalo_w=cd_intervalo_proc_w THEN  nr_ocorrencia_proc_w WHEN coalesce(cd_intervalo_w::text, '') = '' THEN  nr_ocorrencia_proc_w  ELSE nr_ocorrencia_w END ,
		qt_total_dispensar_w,
		cd_fornec_consignado_w,
		nr_sequencia_solucao_w,
		nr_sequencia_proc_w,
		qt_solucao_w,
		ds_dose_diferenciada_w,
		ie_medicacao_paciente_w,
		nr_sequencia_diluicao_w,
		hr_prim_horario_w,
		nr_sequencia_dieta_w,
		ie_agrupador_w,
		nr_dia_util_w,
		ie_suspenso_w,
		ie_se_necessario_w,
		qt_min_aplicacao_w,
		ie_bomba_infusao_w,
		ie_aplic_bolus_w,
		ie_aplic_lenta_w,
		ie_acm_w,
		ie_objetivo_w,
		cd_topografia_cih_w,
		ie_origem_infeccao_w,
		cd_amostra_cih_w,
		cd_microorganismo_cih_w,
		ie_uso_antimicrobiano_w,
		cd_protocolo_w,
		nr_seq_protocolo_w,
		nr_seq_mat_protocolo_w,
		qt_hora_aplicacao_w,
		ie_recons_diluente_fixo_w,
		qt_vel_infusao_w,
		ds_justificativa_w,
		ie_sem_aprazamento_w,
		ie_indicacao_w,
		dt_proxima_dose_w,
		qt_total_dias_lib_w,
		nr_seq_substituto_w,
		ie_lado_w,
		dt_inicio_medic_w,
		qt_dia_prim_hor_w,
		ie_regra_disp_w,
		qt_vol_adic_reconst_w,
		qt_hora_intervalo_w,
		qt_min_intervalo_w,
		'N',
		nr_prescricao_original_p,
		nr_seq_anterior_w,
		ie_intervalo_dif_w,
		ie_glicemia_w,
		ie_permite_alterar_w,
		ie_checar_adep_w);
	exception when others then
		ds_erro_w	:= ds_erro_w;
	end;
	if (coalesce(wheb_usuario_pck.get_ie_commit, 'S') = 'S') then commit; end if;

	if (ie_ajustar_disp_assoc_w = 'S') then

		qt_divisor_w	:= obter_conversao_unid_med(cd_material_w, cd_unidade_medida_dose_w);
		if (coalesce(qt_divisor_w, 0) = 0) then
			qt_divisor_w := 1;
		end if;

		qt_unitaria_w := qt_dose_w / qt_divisor_w;

		if (coalesce(cd_intervalo_w::text, '') = '') or (cd_intervalo_w = cd_intervalo_proc_w) then
			nr_ocorrencia_auxiliar_w := nr_ocorrencia_proc_w;
		else
			nr_ocorrencia_auxiliar_w := nr_ocorrencia_w;
		end if;
		
		SELECT * FROM Obter_Quant_Dispensar(	cd_estabelecimento_w, cd_material_w, nr_prescricao_p, nr_sequencia_w, cd_intervalo_w, ie_via_aplicacao_w, qt_unitaria_w, 0, nr_ocorrencia_auxiliar_w, ds_dose_diferenciada_w, ie_origem_inf_w, cd_unidade_medida_dose_w, 1, qt_material_w, qt_total_dispensar_w, ie_regra_disp_w, ds_erro_w, ie_se_necessario_w, ie_acm_w) INTO STRICT qt_material_w, qt_total_dispensar_w, ie_regra_disp_w, ds_erro_w;

		update	prescr_material
		set 	nr_ocorrencia		= nr_ocorrencia_auxiliar_w,
			qt_total_dispensar	= qt_total_dispensar_w,
			qt_material			= coalesce(qt_material_w,0),
			ie_regra_disp		= CASE WHEN coalesce(ie_regra_disp,'X')='D' THEN  ie_regra_disp  ELSE ie_regra_disp_w END
		where	nr_prescricao 		= nr_prescricao_p
		and	nr_sequencia		= nr_sequencia_w;

	end if;
	ie_kit_gerado_w := 'S';
	if (coalesce(wheb_usuario_pck.get_ie_commit, 'S') = 'S') then commit; end if;

end loop;
close C01;

CALL atualizar_ie_kit_gerado(ie_kit_gerado_w,nr_prescricao_p,nr_sequencia_proc_p,'PRESCR_PROCEDIMENTO');

if (coalesce(wheb_usuario_pck.get_ie_commit, 'S') = 'S') then commit; end if;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE rep_copia_item_assoc_proc ( nr_Prescricao_p bigint, nr_prescricao_original_p bigint, nr_sequencia_proc_ant_p bigint, nr_sequencia_proc_p bigint, ie_procedimento_p text, cd_perfil_p bigint, nr_seq_material_p bigint, nm_usuario_p text, ds_horarios_p text, ie_modificar_p text) FROM PUBLIC;

