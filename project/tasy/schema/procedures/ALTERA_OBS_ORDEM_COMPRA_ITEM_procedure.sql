-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE altera_obs_ordem_compra_item ( ds_observacao_p text, nr_ordem_compra_p bigint, cd_material_p bigint) AS $body$
DECLARE

ds_erro_w      varchar(255);

BEGIN
	BEGIN
		UPDATE	ordem_compra_item
		   SET	ds_observacao = ds_observacao || ds_observacao_p
		 WHERE	nr_ordem_compra = nr_ordem_compra_p
		   AND	cd_material = cd_material_p;
	EXCEPTION
	WHEN OTHERS THEN
		ROLLBACK;
		ds_erro_w  := substr(sqlerrm, 1,255);
		CALL WHEB_MENSAGEM_PCK.Exibir_Mensagem_Abort(349843);
		END;
COMMIT;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE altera_obs_ordem_compra_item ( ds_observacao_p text, nr_ordem_compra_p bigint, cd_material_p bigint) FROM PUBLIC;

