-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE cpoe_add_fav_dieta ( nr_seq_xml_p cpoe_parse_xml.nr_sequencia%type, nm_usuario_p cpoe_procedimento.nm_usuario%type) AS $body$
DECLARE

					 
cd_dieta_w						cpoe_dieta.cd_dieta%type;
cd_intervalo_w					cpoe_dieta.cd_intervalo%type;
cd_material_w					cpoe_dieta.cd_material%type;
cd_mat_prod1_w					cpoe_dieta.cd_mat_prod1%type;
cd_mat_prod2_w					cpoe_dieta.cd_mat_prod2%type;
cd_mat_prod3_w					cpoe_dieta.cd_mat_prod3%type;
cd_mat_prod4_w					cpoe_dieta.cd_mat_prod4%type;
cd_mat_prod5_w					cpoe_dieta.cd_mat_prod5%type;
cd_mat_prod_adic1_w				cpoe_dieta.cd_mat_prod_adic1%type;
cd_mat_prod_adic2_w				cpoe_dieta.cd_mat_prod_adic2%type;
cd_mat_prod_adic3_w				cpoe_dieta.cd_mat_prod_adic3%type;
cd_mat_prod_adic4_w				cpoe_dieta.cd_mat_prod_adic4%type;
cd_mat_prod_adic5_w				cpoe_dieta.cd_mat_prod_adic5%type;
cd_mat_prod_adic6_w				cpoe_dieta.cd_mat_prod_adic6%type;
cd_mat_dil_w					cpoe_dieta.cd_mat_dil%type;
cd_unidade_medida_dose_w		cpoe_dieta.cd_unidade_medida_dose%type;
cd_unid_med_prod1_w				cpoe_dieta.cd_unid_med_prod1%type;
cd_unid_med_prod2_w				cpoe_dieta.cd_unid_med_prod2%type;
cd_unid_med_prod3_w				cpoe_dieta.cd_unid_med_prod3%type;
cd_unid_med_prod4_w				cpoe_dieta.cd_unid_med_prod4%type;
cd_unid_med_prod5_w				cpoe_dieta.cd_unid_med_prod5%type;
cd_unid_med_prod_adic1_w		cpoe_dieta.cd_unid_med_prod_adic1%type;
cd_unid_med_prod_adic2_w		cpoe_dieta.cd_unid_med_prod_adic2%type;
cd_unid_med_prod_adic3_w		cpoe_dieta.cd_unid_med_prod_adic3%type;
cd_unid_med_prod_adic4_w		cpoe_dieta.cd_unid_med_prod_adic4%type;
cd_unid_med_prod_adic5_w		cpoe_dieta.cd_unid_med_prod_adic5%type;
cd_unid_med_prod_adic6_w		cpoe_dieta.cd_unid_med_prod_adic6%type;
cd_unid_med_dose_dil_w			cpoe_dieta.cd_unid_med_dose_dil%type;
ds_dose_diferenciada_w			cpoe_dieta.ds_dose_diferenciada%type;
ds_evento_w						cpoe_dieta.ds_evento%type;
ie_acm_w						cpoe_dieta.ie_acm%type;
ie_administracao_w				cpoe_dieta.ie_administracao%type;
ie_aplic_bolus_w				cpoe_dieta.ie_aplic_bolus%type;
ie_bomba_infusao_w				cpoe_dieta.ie_bomba_infusao%type;
ie_continuo_w					cpoe_dieta.ie_continuo%type;
ie_dose_unica_w					cpoe_dieta.ie_dose_unica%type;
ie_duracao_w					cpoe_dieta.ie_duracao%type;
ie_evento_unico_w				cpoe_dieta.ie_evento_unico%type;
ie_inicio_w						cpoe_dieta.ie_inicio%type;
ie_jejum_w						cpoe_dieta.ie_jejum%type;
ie_jejum_antes_w				cpoe_dieta.ie_jejum_antes%type;
ie_jejum_depois_w				cpoe_dieta.ie_jejum_depois%type;
ie_leite_materno_w				cpoe_dieta.ie_leite_materno%type;
ie_opcao_antes_w				cpoe_dieta.ie_opcao_antes%type;
ie_opcao_depois_w				cpoe_dieta.ie_opcao_depois%type;
ie_referencia_w					cpoe_dieta.ie_referencia%type;
ie_se_necessario_w				cpoe_dieta.ie_se_necessario%type;
ie_tipo_dieta_w					cpoe_dieta.ie_tipo_dieta%type;
ie_tipo_dosagem_w				cpoe_dieta.ie_tipo_dosagem%type;
ie_urgencia_w					cpoe_dieta.ie_urgencia%type;
ie_via_aplicacao_w				cpoe_dieta.ie_via_aplicacao%type;
ie_via_leite1_w					cpoe_dieta.ie_via_leite1%type;
ie_via_leite2_w					cpoe_dieta.ie_via_leite2%type;
ie_via_leite3_w					cpoe_dieta.ie_via_leite3%type;
ie_via_leite4_w					cpoe_dieta.ie_via_leite4%type;
ie_via_leite5_w					cpoe_dieta.ie_via_leite5%type;
nr_etapas_w						cpoe_dieta.nr_etapas%type;
nr_ocorrencia_w					cpoe_dieta.nr_ocorrencia%type;
nr_seq_disp_succao_w			cpoe_dieta.nr_seq_disp_succao%type;
nr_seq_objetivo_w				cpoe_dieta.nr_seq_objetivo%type;
nr_seq_tipo_w					cpoe_dieta.nr_seq_tipo%type;
nr_seq_via_acesso_w				cpoe_dieta.nr_seq_via_acesso%type;
qt_dose_w						cpoe_dieta.qt_dose%type;
qt_dose_prod1_w					cpoe_dieta.qt_dose_prod1%type;
qt_dose_prod2_w					cpoe_dieta.qt_dose_prod2%type;
qt_dose_prod3_w					cpoe_dieta.qt_dose_prod3%type;
qt_dose_prod4_w					cpoe_dieta.qt_dose_prod4%type;
qt_dose_prod5_w					cpoe_dieta.qt_dose_prod5%type;
qt_dose_prod_adic1_w			cpoe_dieta.qt_dose_prod_adic1%type;
qt_dose_prod_adic2_w			cpoe_dieta.qt_dose_prod_adic2%type;
qt_dose_prod_adic3_w			cpoe_dieta.qt_dose_prod_adic3%type;
qt_dose_prod_adic4_w			cpoe_dieta.qt_dose_prod_adic4%type;
qt_dose_prod_adic5_w			cpoe_dieta.qt_dose_prod_adic5%type;
qt_dose_prod_adic6_w			cpoe_dieta.qt_dose_prod_adic6%type;
qt_porcentagem_adic1_w			cpoe_dieta.qt_porcentagem_adic1%type;
qt_porcentagem_adic2_w			cpoe_dieta.qt_porcentagem_adic2%type;
qt_porcentagem_adic3_w			cpoe_dieta.qt_porcentagem_adic3%type;
qt_porcentagem_adic4_w			cpoe_dieta.qt_porcentagem_adic4%type;
qt_porcentagem_adic5_w			cpoe_dieta.qt_porcentagem_adic5%type;
qt_porcentagem_adic6_w			cpoe_dieta.qt_porcentagem_adic6%type;
qt_dose_dil_w					cpoe_dieta.qt_dose_dil%type;
qt_hora_ant_w					cpoe_dieta.qt_hora_ant%type;
qt_hora_aplicacao_w				cpoe_dieta.qt_hora_aplicacao%type;
qt_hora_depois_w				cpoe_dieta.qt_hora_depois%type;
qt_min_ant_w					cpoe_dieta.qt_min_ant%type;
qt_min_depois_w					cpoe_dieta.qt_min_depois%type;
qt_parametro_w					cpoe_dieta.qt_parametro%type;
qt_tempo_aplic_w				cpoe_dieta.qt_tempo_aplic%type;
qt_tempo_pausa_w				cpoe_dieta.qt_tempo_pausa%type;
qt_tempo_ref_w					cpoe_dieta.qt_tempo_ref%type;
qt_vel_infusao_w				cpoe_dieta.qt_vel_infusao%type;
qt_volume_w						cpoe_dieta.qt_volume%type;
qt_volume_total_w				cpoe_dieta.qt_volume_total%type;
ds_orientacao_w					cpoe_dieta.ds_orientacao%type;
qt_hora_fase_w					cpoe_dieta.qt_hora_fase%type;
ds_observacao_w					cpoe_dieta.ds_observacao%type;
ts_inicio_pausa_w				varchar(100);
dt_inicio_pausa_w				cpoe_dieta.dt_inicio_pausa%type;
nr_seq_solubilidade_w			cpoe_dieta.nr_seq_solubilidade%type;
nr_seq_temperatura_w			cpoe_dieta.nr_seq_temperatura%type;

c01 CURSOR FOR 
SELECT	ExtractValue( value( pes ) , 'JSONOBJECT/CD_DIETA') cd_dieta, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_INTERVALO') cd_intervalo, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MATERIAL') cd_material, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD1') cd_mat_prod1, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD2') cd_mat_prod2, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD3') cd_mat_prod3, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD4') cd_mat_prod4, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD5') cd_mat_prod5, 
	  ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD_ADIC1') cd_mat_prod_adic1, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD_ADIC2') cd_mat_prod_adic2, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD_ADIC3') cd_mat_prod_adic3, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD_ADIC4') cd_mat_prod_adic4, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD_ADIC5') cd_mat_prod_adic5, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_PROD_ADIC6') cd_mat_prod_adic6, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_MAT_DIL') cd_mat_dil, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNIDADE_MEDIDA_DOSE') cd_unidade_medida_dose, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD1') cd_unid_med_prod1, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD2') cd_unid_med_prod2, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD3') cd_unid_med_prod3, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD4') cd_unid_med_prod4, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD5') cd_unid_med_prod5, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD_ADIC1') cd_unid_med_prod_adic1, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD_ADIC2') cd_unid_med_prod_adic2, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD_ADIC3') cd_unid_med_prod_adic3, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD_ADIC4') cd_unid_med_prod_adic4, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD_ADIC5') cd_unid_med_prod_adic5, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_PROD_ADIC6') cd_unid_med_prod_adic6, 
		ExtractValue( value( pes ) , 'JSONOBJECT/CD_UNID_MED_DOSE_DIL') cd_unid_med_dose_dil, 
		ExtractValue( value( pes ) , 'JSONOBJECT/DS_DOSE_DIFERENCIADA') ds_dose_diferenciada, 
		ExtractValue( value( pes ) , 'JSONOBJECT/DS_EVENTO') ds_evento, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_ACM') ie_acm, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_ADMINISTRACAO') ie_administracao, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_APLIC_BOLUS') ie_aplic_bolus, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_BOMBA_INFUSAO') ie_bomba_infusao, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_CONTINUO') ie_continuo, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_DOSE_UNICA') ie_dose_unica, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_DURACAO') ie_duracao, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_EVENTO_UNICO') ie_evento_unico, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_INICIO') ie_inicio, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_JEJUM') ie_jejum, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_JEJUM_ANTES') ie_jejum_antes, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_JEJUM_DEPOIS') ie_jejum_depois, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_LEITE_MATERNO') ie_leite_materno, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_OPCAO_ANTES') ie_opcao_antes, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_OPCAO_DEPOIS') ie_opcao_depois, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_REFERENCIA') ie_referencia, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_SE_NECESSARIO') ie_se_necessario, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_TIPO_DIETA') ie_tipo_dieta, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_TIPO_DOSAGEM') ie_tipo_dosagem, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_URGENCIA') ie_urgencia, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_VIA_APLICACAO') ie_via_aplicacao, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_VIA_LEITE1') ie_via_leite1, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_VIA_LEITE2') ie_via_leite2, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_VIA_LEITE3') ie_via_leite3, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_VIA_LEITE4') ie_via_leite4, 
		ExtractValue( value( pes ) , 'JSONOBJECT/IE_VIA_LEITE5') ie_via_leite5, 
		ExtractValue( value( pes ) , 'JSONOBJECT/NR_ETAPAS') nr_etapas, 
		ExtractValue( value( pes ) , 'JSONOBJECT/NR_OCORRENCIA') nr_ocorrencia, 
		ExtractValue( value( pes ) , 'JSONOBJECT/NR_SEQ_DISP_SUCCAO') nr_seq_disp_succao, 
		ExtractValue( value( pes ) , 'JSONOBJECT/NR_SEQ_OBJETIVO') nr_seq_objetivo, 
		ExtractValue( value( pes ) , 'JSONOBJECT/NR_SEQ_TIPO') nr_seq_tipo, 
		ExtractValue( value( pes ) , 'JSONOBJECT/NR_SEQ_VIA_ACESSO') nr_seq_via_acesso, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE') qt_dose, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD1') qt_dose_prod1, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD2') qt_dose_prod2, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD3') qt_dose_prod3, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD4') qt_dose_prod4, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD5') qt_dose_prod5, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD_ADIC1') qt_dose_prod_adic1, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD_ADIC2') qt_dose_prod_adic2, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD_ADIC3') qt_dose_prod_adic3, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD_ADIC4') qt_dose_prod_adic4, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD_ADIC5') qt_dose_prod_adic5, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_PROD_ADIC6') qt_dose_prod_adic6,		 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_PORCENTAGEM_ADIC1') qt_porcentagem_adic1, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_PORCENTAGEM_ADIC2') qt_porcentagem_adic2, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_PORCENTAGEM_ADIC3') qt_porcentagem_adic3, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_PORCENTAGEM_ADIC4') qt_porcentagem_adic4, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_PORCENTAGEM_ADIC5') qt_porcentagem_adic5, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_PORCENTAGEM_ADIC6') qt_porcentagem_adic6, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_DOSE_DIL') qt_dose_dil, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_HORA_ANT') qt_hora_ant, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_HORA_APLICACAO') qt_hora_aplicacao, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_HORA_DEPOIS') qt_hora_depois, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_MIN_ANT') qt_min_ant, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_MIN_DEPOIS') qt_min_depois, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_PARAMETRO') qt_parametro, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_TEMPO_APLIC') qt_tempo_aplic, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_TEMPO_PAUSA') qt_tempo_pausa, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_TEMPO_REF') qt_tempo_ref, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_VEL_INFUSAO') qt_vel_infusao, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_VOLUME') qt_volume, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_VOLUME_TOTAL') qt_volume_total, 
		ExtractValue( value( pes ) , 'JSONOBJECT/DS_ORIENTACAO') ds_orientacao, 
		ExtractValue( value( pes ) , 'JSONOBJECT/QT_HORA_FASE') qt_hora_fase, 
		ExtractValue( value( pes ) , 'JSONOBJECT/DS_OBSERVACAO') ds_observacao, 
		ExtractValue( value( pes ) , 'JSONOBJECT/DT_INICIO_PAUSA') dt_inicio_pausa, 
		ExtractValue( value( pes ) , 'JSONOBJECT/NR_SEQ_TEMPERATURA') dt_inicio_pausa, 
		ExtractValue( value( pes ) , 'JSONOBJECT/NR_SEQ_SOLUBILIDADE') dt_inicio_pausa 
from 	cpoe_parse_xml , 
		table( XMLSequence( extract( ds_xml, '/JSONOBJECT' ) ) ) pes 
where	nr_sequencia = nr_seq_xml_p;


BEGIN 
 
open c01;
loop 
fetch c01 into	cd_dieta_w, 
				cd_intervalo_w, 
				cd_material_w, 
				cd_mat_prod1_w, 
				cd_mat_prod2_w, 
				cd_mat_prod3_w, 
				cd_mat_prod4_w, 
				cd_mat_prod5_w, 
				cd_mat_prod_adic1_w, 
				cd_mat_prod_adic2_w, 
				cd_mat_prod_adic3_w, 
				cd_mat_prod_adic4_w, 
				cd_mat_prod_adic5_w, 
				cd_mat_prod_adic6_w,				 
				cd_mat_dil_w, 
				cd_unidade_medida_dose_w, 
				cd_unid_med_prod1_w, 
				cd_unid_med_prod2_w, 
				cd_unid_med_prod3_w, 
				cd_unid_med_prod4_w, 
				cd_unid_med_prod5_w,		 
				cd_unid_med_prod_adic1_w, 
				cd_unid_med_prod_adic2_w, 
				cd_unid_med_prod_adic3_w, 
				cd_unid_med_prod_adic4_w, 
				cd_unid_med_prod_adic5_w, 
				cd_unid_med_prod_adic6_w, 
				cd_unid_med_dose_dil_w, 
				ds_dose_diferenciada_w, 
				ds_evento_w, 
				ie_acm_w, 
				ie_administracao_w, 
				ie_aplic_bolus_w, 
				ie_bomba_infusao_w, 
				ie_continuo_w, 
				ie_dose_unica_w, 
				ie_duracao_w, 
				ie_evento_unico_w, 
				ie_inicio_w, 
				ie_jejum_w, 
				ie_jejum_antes_w, 
				ie_jejum_depois_w, 
				ie_leite_materno_w, 
				ie_opcao_antes_w, 
				ie_opcao_depois_w, 
				ie_referencia_w, 
				ie_se_necessario_w, 
				ie_tipo_dieta_w, 
				ie_tipo_dosagem_w, 
				ie_urgencia_w, 
				ie_via_aplicacao_w, 
				ie_via_leite1_w, 
				ie_via_leite2_w, 
				ie_via_leite3_w, 
				ie_via_leite4_w, 
				ie_via_leite5_w, 
				nr_etapas_w, 
				nr_ocorrencia_w, 
				nr_seq_disp_succao_w, 
				nr_seq_objetivo_w, 
				nr_seq_tipo_w, 
				nr_seq_via_acesso_w, 
				qt_dose_w, 
				qt_dose_prod1_w, 
				qt_dose_prod2_w, 
				qt_dose_prod3_w, 
				qt_dose_prod4_w, 
				qt_dose_prod5_w,				 
				qt_dose_prod_adic1_w, 
				qt_dose_prod_adic2_w, 
				qt_dose_prod_adic3_w, 
				qt_dose_prod_adic4_w, 
				qt_dose_prod_adic5_w, 
				qt_dose_prod_adic6_w, 
				qt_porcentagem_adic1_w, 
				qt_porcentagem_adic2_w, 
				qt_porcentagem_adic3_w, 
				qt_porcentagem_adic4_w, 
				qt_porcentagem_adic5_w, 
				qt_porcentagem_adic6_w, 
				qt_dose_dil_w, 
				qt_hora_ant_w, 
				qt_hora_aplicacao_w, 
				qt_hora_depois_w, 
				qt_min_ant_w, 
				qt_min_depois_w, 
				qt_parametro_w, 
				qt_tempo_aplic_w, 
				qt_tempo_pausa_w, 
				qt_tempo_ref_w, 
				qt_vel_infusao_w, 
				qt_volume_w, 
				qt_volume_total_w, 
				ds_orientacao_w, 
				qt_hora_fase_w, 
				ds_observacao_w, 
				ts_inicio_pausa_w, 
				nr_seq_temperatura_w, 
				nr_seq_solubilidade_w;
EXIT WHEN NOT FOUND; /* apply on c01 */
	begin 
	 
	if (ts_inicio_pausa_w IS NOT NULL AND ts_inicio_pausa_w::text <> '') then 
		begin 
		dt_inicio_pausa_w	:= to_timestamp(ts_inicio_pausa_w, 'YYYY-MM-DD HH24:MI:SS.FF');		
		exception 
		when others then 
		dt_inicio_pausa_w	:= null;
		end;
	end if;
 
	insert into cpoe_fav_dieta( 
				nr_sequencia, 
				nm_usuario, 
				dt_atualizacao, 
				nm_usuario_nrec, 
				dt_atualizacao_nrec, 
				cd_dieta, 
				cd_intervalo, 
				cd_material, 
				cd_mat_prod1, 
				cd_mat_prod2, 
				cd_mat_prod3, 
				cd_mat_prod4, 
				cd_mat_prod5, 
				cd_mat_prod_adic1, 
				cd_mat_prod_adic2, 
				cd_mat_prod_adic3, 
				cd_mat_prod_adic4, 
				cd_mat_prod_adic5, 
				cd_mat_prod_adic6, 
				cd_mat_dil, 
				cd_unidade_medida_dose, 
				cd_unid_med_prod1, 
				cd_unid_med_prod2, 
				cd_unid_med_prod3, 
				cd_unid_med_prod4, 
				cd_unid_med_prod5, 
				cd_unid_med_prod_adic1, 
				cd_unid_med_prod_adic2, 
				cd_unid_med_prod_adic3, 
				cd_unid_med_prod_adic4, 
				cd_unid_med_prod_adic5, 
				cd_unid_med_prod_adic6, 
				cd_unid_med_dose_dil, 
				ds_dose_diferenciada, 
				ds_evento, 
				ie_acm, 
				ie_administracao, 
				ie_aplic_bolus, 
				ie_bomba_infusao, 
				ie_continuo, 
				ie_dose_unica, 
				ie_duracao, 
				ie_evento_unico, 
				ie_inicio, 
				ie_jejum, 
				ie_jejum_antes, 
				ie_jejum_depois, 
				ie_leite_materno, 
				ie_opcao_antes, 
				ie_opcao_depois, 
				ie_referencia, 
				ie_se_necessario, 
				ie_tipo_dieta, 
				ie_tipo_dosagem, 
				ie_urgencia, 
				ie_via_aplicacao, 
				ie_via_leite1, 
				ie_via_leite2, 
				ie_via_leite3, 
				ie_via_leite4, 
				ie_via_leite5, 
				nr_etapas, 
				nr_ocorrencia, 
				nr_seq_disp_succao, 
				nr_seq_objetivo, 
				nr_seq_tipo, 
				nr_seq_via_acesso, 
				qt_dose, 
				qt_dose_prod1, 
				qt_dose_prod2, 
				qt_dose_prod3, 
				qt_dose_prod4, 
				qt_dose_prod5, 
				qt_dose_prod_adic1, 
				qt_dose_prod_adic2, 
				qt_dose_prod_adic3, 
				qt_dose_prod_adic4, 
				qt_dose_prod_adic5, 
				qt_dose_prod_adic6, 
				qt_porcentagem_adic1, 
				qt_porcentagem_adic2, 
				qt_porcentagem_adic3, 
				qt_porcentagem_adic4, 
				qt_porcentagem_adic5, 
				qt_porcentagem_adic6,	 
				qt_dose_dil, 
				qt_hora_ant, 
				qt_hora_aplicacao, 
				qt_hora_depois, 
				qt_min_ant, 
				qt_min_depois, 
				qt_parametro, 
				qt_tempo_aplic, 
				qt_tempo_pausa, 
				qt_tempo_ref, 
				qt_vel_infusao, 
				qt_volume, 
				qt_volume_total, 
				ds_orientacao, 
				qt_hora_fase, 
				ds_observacao, 
				dt_inicio_pausa, 
				nr_seq_solubilidade, 
				nr_seq_temperatura) 
			values ( 
				nextval('cpoe_fav_dieta_seq'), 
				nm_usuario_p, 
				clock_timestamp(), 
				nm_usuario_p, 
				clock_timestamp(), 
				cd_dieta_w, 
				cd_intervalo_w, 
				cd_material_w, 
				cd_mat_prod1_w, 
				cd_mat_prod2_w, 
				cd_mat_prod3_w, 
				cd_mat_prod4_w, 
				cd_mat_prod5_w, 
				cd_mat_prod_adic1_w, 
				cd_mat_prod_adic2_w, 
				cd_mat_prod_adic3_w, 
				cd_mat_prod_adic4_w, 
				cd_mat_prod_adic5_w, 
				cd_mat_prod_adic6_w, 
				cd_mat_dil_w, 
				cd_unidade_medida_dose_w, 
				cd_unid_med_prod1_w, 
				cd_unid_med_prod2_w, 
				cd_unid_med_prod3_w, 
				cd_unid_med_prod4_w, 
				cd_unid_med_prod5_w, 
				cd_unid_med_prod_adic1_w, 
				cd_unid_med_prod_adic2_w, 
				cd_unid_med_prod_adic3_w, 
				cd_unid_med_prod_adic4_w, 
				cd_unid_med_prod_adic5_w, 
				cd_unid_med_prod_adic6_w, 
				cd_unid_med_dose_dil_w, 
				ds_dose_diferenciada_w, 
				ds_evento_w, 
				ie_acm_w, 
				ie_administracao_w, 
				ie_aplic_bolus_w, 
				ie_bomba_infusao_w, 
				ie_continuo_w, 
				ie_dose_unica_w, 
				ie_duracao_w, 
				ie_evento_unico_w, 
				ie_inicio_w, 
				ie_jejum_w, 
				ie_jejum_antes_w, 
				ie_jejum_depois_w, 
				ie_leite_materno_w, 
				ie_opcao_antes_w, 
				ie_opcao_depois_w, 
				ie_referencia_w, 
				ie_se_necessario_w, 
				ie_tipo_dieta_w, 
				ie_tipo_dosagem_w, 
				ie_urgencia_w, 
				ie_via_aplicacao_w, 
				ie_via_leite1_w, 
				ie_via_leite2_w, 
				ie_via_leite3_w, 
				ie_via_leite4_w, 
				ie_via_leite5_w, 
				nr_etapas_w, 
				nr_ocorrencia_w, 
				nr_seq_disp_succao_w, 
				nr_seq_objetivo_w, 
				nr_seq_tipo_w, 
				nr_seq_via_acesso_w, 
				qt_dose_w, 
				qt_dose_prod1_w, 
				qt_dose_prod2_w, 
				qt_dose_prod3_w, 
				qt_dose_prod4_w, 
				qt_dose_prod5_w, 
				qt_dose_prod_adic1_w, 
				qt_dose_prod_adic2_w, 
				qt_dose_prod_adic3_w, 
				qt_dose_prod_adic4_w, 
				qt_dose_prod_adic5_w, 
				qt_dose_prod_adic6_w, 
				qt_porcentagem_adic1_w, 
				qt_porcentagem_adic2_w, 
				qt_porcentagem_adic3_w, 
				qt_porcentagem_adic4_w, 
				qt_porcentagem_adic5_w, 
				qt_porcentagem_adic6_w, 
				qt_dose_dil_w, 
				qt_hora_ant_w, 
				qt_hora_aplicacao_w, 
				qt_hora_depois_w, 
				qt_min_ant_w, 
				qt_min_depois_w, 
				qt_parametro_w, 
				qt_tempo_aplic_w, 
				qt_tempo_pausa_w,				 
				qt_tempo_ref_w, 
				qt_vel_infusao_w, 
				qt_volume_w, 
				qt_volume_total_w, 
				ds_orientacao_w, 
				qt_hora_fase_w, 
				ds_observacao_w, 
				dt_inicio_pausa_w, 
				nr_seq_solubilidade_w, 
				nr_seq_temperatura_w);
	commit;
	end;
end loop;
close c01;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE cpoe_add_fav_dieta ( nr_seq_xml_p cpoe_parse_xml.nr_sequencia%type, nm_usuario_p cpoe_procedimento.nm_usuario%type) FROM PUBLIC;

