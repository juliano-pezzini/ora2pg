-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE insert_san_doacao (cd_pessoa_fisica_p text, nr_seq_tipo_p bigint, ie_tipo_coleta_p bigint, nm_usuario_p text, cd_estabelecimento_p bigint) AS $body$
BEGIN				
	insert into san_doacao( 
    nr_sequencia, 
    cd_pessoa_fisica, 
    nr_seq_tipo, 
    cd_estabelecimento, 
    dt_doacao, 
    ie_tipo_coleta, 
    qt_coletada, 
    cd_pf_realizou, 
    ie_status, 
    dt_atualizacao, 
    nm_usuario, 
    qt_min_coleta, 
	  nm_usuario_nrec, 
	  dt_atualizacao_nrec, 
	  ie_avaliacao_final) 
values ( 
    nextval('san_doacao_seq'), 
    cd_pessoa_fisica_p, 
    nr_seq_tipo_p, 
    cd_estabelecimento_p, 
    clock_timestamp(), 
    ie_tipo_coleta_p, 
    0, 
    Obter_Pf_Usuario(nm_usuario_p,'C'), 
    0, 
    clock_timestamp(), 
    nm_usuario_p, 
    0, 
    nm_usuario_p, 
    clock_timestamp(), 
    'A');
	 
commit;
 
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE insert_san_doacao (cd_pessoa_fisica_p text, nr_seq_tipo_p bigint, ie_tipo_coleta_p bigint, nm_usuario_p text, cd_estabelecimento_p bigint) FROM PUBLIC;

