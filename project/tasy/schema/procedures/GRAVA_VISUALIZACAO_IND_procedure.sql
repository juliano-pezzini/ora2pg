-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE grava_visualizacao_ind ( NM_USUARIO_P text, NR_SEQ_INDICADOR_P bigint, DS_INDICADOR_P text, DS_TITULO_P text, NR_DIMENSAO_P bigint, NR_INFORMACAO_P bigint, IE_PERIODO_P text, NR_TIPO_DATA_P bigint, DS_FILTRO_GRAFICO_P text, DS_FILTRO_TEXTO_P text, QT_PERIODO_ANTES_P bigint, QT_PERIODO_APOS_P bigint, QT_ANTES_APOS_P bigint, IE_ANTES_APOS_P text, DS_OBJETIVO_P text, DS_COR_BARRAS_P text, DS_COR_FUNDO_P text, IE_TIPO_GRAFICO_P text, IE_TRES_DIMENSOES_P text, NR_SEQUENCIA_P INOUT bigint) AS $body$
BEGIN

SELECT	nextval('regra_indicador_visual_seq')
INTO STRICT	NR_SEQUENCIA_P
;

INSERT	INTO REGRA_INDICADOR_VISUAL(	NR_SEQUENCIA,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					CD_PERFIL,
					DS_INDICADOR,
					NR_DIMENSAO,
					NR_INFORMACAO,
					IE_PERIODO,
					NM_USUARIO_REGRA,
					NR_SEQ_INDICADOR,
					NR_TIPO_DATA,
					DS_TITULO,
					DS_FILTRO_GRAFICO,
					DS_FILTRO_TEXTO,
					QT_PERIODO_ANTES,
					QT_PERIODO_APOS,
					QT_ANTES_APOS,
					IE_ANTES_APOS,
					DS_OBJETIVO,
					DS_COR_BARRAS,
					DS_COR_FUNDO,
					IE_TIPO_GRAFICO,
					IE_TRES_DIMENSOES)
VALUES (	NR_SEQUENCIA_P,
		clock_timestamp(),
		NM_USUARIO_P,
		clock_timestamp(),
		NM_USUARIO_P,
		WHEB_USUARIO_PCK.GET_CD_PERFIL,
		DS_INDICADOR_P,
		NR_DIMENSAO_P,
		NR_INFORMACAO_P,
		IE_PERIODO_P,
		NULL,
		NR_SEQ_INDICADOR_P,
		NR_TIPO_DATA_P,
		DS_TITULO_P,
		DS_FILTRO_GRAFICO_P,
		DS_FILTRO_TEXTO_P,
		QT_PERIODO_ANTES_P,
		QT_PERIODO_APOS_P,
		QT_ANTES_APOS_P,
		IE_ANTES_APOS_P,
		DS_OBJETIVO_P,
		DS_COR_BARRAS_P,
		DS_COR_FUNDO_P,
		IE_TIPO_GRAFICO_P,
		IE_TRES_DIMENSOES_P);

COMMIT;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE grava_visualizacao_ind ( NM_USUARIO_P text, NR_SEQ_INDICADOR_P bigint, DS_INDICADOR_P text, DS_TITULO_P text, NR_DIMENSAO_P bigint, NR_INFORMACAO_P bigint, IE_PERIODO_P text, NR_TIPO_DATA_P bigint, DS_FILTRO_GRAFICO_P text, DS_FILTRO_TEXTO_P text, QT_PERIODO_ANTES_P bigint, QT_PERIODO_APOS_P bigint, QT_ANTES_APOS_P bigint, IE_ANTES_APOS_P text, DS_OBJETIVO_P text, DS_COR_BARRAS_P text, DS_COR_FUNDO_P text, IE_TIPO_GRAFICO_P text, IE_TRES_DIMENSOES_P text, NR_SEQUENCIA_P INOUT bigint) FROM PUBLIC;

