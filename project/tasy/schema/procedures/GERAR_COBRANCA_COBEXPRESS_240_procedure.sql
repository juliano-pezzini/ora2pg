-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gerar_cobranca_cobexpress_240 ( nr_seq_cobr_escrit_p cobranca_escritural.nr_sequencia%type, cd_estabelecimento_p cobranca_escritural.cd_estabelecimento%type, nm_usuario_p cobranca_escritural.nm_usuario%type) AS $body$
DECLARE


subtype varchar240 	is varchar(240);
subtype varchar40 	is varchar(40);
subtype number4 	is smallint;
subtype number5 	is integer;
subtype number6 	is integer;
subtype varchar30 	is varchar(30);

ds_conteudo_w			varchar240;

/* Header do arquivo */

nm_empresa_w			varchar30;
cd_cgc_w			estabelecimento.cd_cgc%type;
cd_agencia_bancaria_w		banco_estabelecimento.cd_agencia_bancaria%type;
cd_conta_w          banco_estabelecimento.cd_conta%type;
dt_remessa_retorno_w		cobranca_escritural.dt_remessa_retorno%type;
nr_remessa_w		cobranca_escritural.nr_remessa%type;
ds_mensagem_3_w		varchar40;
ds_mensagem_4_w		varchar40;
ie_digito_agencia_w		agencia_bancaria.ie_digito%type;


/* Detalhe */

cd_convenio_banco_w		banco_estabelecimento.cd_convenio_banco%type;
ie_digito_conta_w		banco_estabelecimento.ie_digito_conta%type;

/* Trailer de Lote */

vl_titulos_cobr_w		titulo_receber_cobr.vl_cobranca%type;
qt_titulos_cobr_w		titulo_receber_cobr.nr_sequencia%type;
qt_registro_lote_w		number4	:= 0;

/* Trailer do Arquivo */

qt_registro_w			number5	:= 0;
nr_seq_reg_lote_w		number6	:= 0;
ie_emissao_bloqueto_w		cobranca_escritural.ie_emissao_bloqueto%type;


C01 CURSOR FOR
SELECT	lpad(to_char(b.nr_titulo),10,'0') nr_titulo,
    lpad(coalesce(max(c.cd_agencia_bancaria),'0'),5,'0') cd_agencia_bancaria,
    coalesce(substr(max(e.ie_digito),1,1),'0') ie_digito_agen,
    lpad(coalesce(substr(max(c.nr_conta),1,12),'0'),12,'0') nr_conta,
    coalesce(substr(max(c.ie_digito_conta),1,1),'0') ie_dig_conta_corrente,
    lpad(max(b.nr_nosso_numero),12,'0') ds_nosso_numero,
    to_char(coalesce(max(b.dt_pagamento_previsto),clock_timestamp()),'DDMMYYYY') dt_vencimento,
    lpad(replace(to_char(max(b.vl_titulo), 'fm0000000000000.00'),'.',null),15,'0') vl_titulo,
    to_char(coalesce(max(b.dt_emissao),clock_timestamp()),'DDMMYYYY') dt_emissao,
    lpad(replace(to_char(max(b.vl_titulo) * max(b.tx_juros) / 100 / 30, 'fm0000000000000.00'),'.',null),15,'0') vl_juros_mora,
    to_char(coalesce(max(b.dt_vencimento),max(b.dt_pagamento_previsto),clock_timestamp()),'DDMMYYYY') ie_data_juros_multa,
    to_char(coalesce(max(b.dt_limite_desconto),clock_timestamp()),'DDMMYYYY') dt_limite_desconto,
    lpad(replace(to_char(max(b.TX_DESC_ANTECIPACAO), 'fm0000000000000.00'),'.',null),15,'0') vl_desconto,
    coalesce(CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN  '2'  ELSE '1' END ,'0') ie_tipo_inscricao,
    lpad(CASE WHEN CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN  2  ELSE 1 END =2 THEN obter_dados_pf_pj(max(b.cd_pessoa_fisica), max(b.cd_cgc), 'C') WHEN CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN  2  ELSE 1 END =1 THEN (substr(obter_dados_pf_pj(max(b.cd_pessoa_fisica), max(b.cd_cgc), 'C'),1,9) || substr(obter_dados_pf_pj(max(b.cd_pessoa_fisica), max(b.cd_cgc), 'C'),10,2))  ELSE '00000000000000' END ,15,'0') nr_inscricao,
    rpad(substr(coalesce(elimina_caractere_especial(obter_nome_pf_pj(max(b.cd_pessoa_fisica), max(b.cd_cgc))),' '),1,40),40,' ') nm_pessoa,
    rpad(substr(CASE WHEN coalesce(max(d.nr_seq_pagador)::text, '') = '' THEN 					   CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN coalesce(elimina_caractere_especial(obter_dados_pf_pj(null, max(b.cd_cgc),'R')),' ')  ELSE coalesce(elimina_caractere_especial(obter_compl_pf(max(b.cd_pessoa_fisica),1,'EDN')),' ') END   ELSE coalesce(elimina_caractere_especial(pls_obter_compl_pagador(max(d.nr_seq_pagador),'E')), ' ') END ,1,40),40,' ') ds_endereco,
    rpad(substr(CASE WHEN coalesce(max(d.nr_seq_pagador)::text, '') = '' THEN 					   CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN coalesce(elimina_caractere_especial(obter_dados_pf_pj(null, max(b.cd_cgc),'B')),' ')  ELSE coalesce(elimina_caractere_especial(obter_compl_pf(max(b.cd_pessoa_fisica),1,'B')),' ') END   ELSE coalesce(elimina_caractere_especial(pls_obter_compl_pagador(max(d.nr_seq_pagador),'B')), ' ') END ,1,15),15,' ') ds_bairro,
    lpad(substr(CASE WHEN coalesce(max(d.nr_seq_pagador)::text, '') = '' THEN 					  CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN coalesce(elimina_caractere_especial(obter_dados_pf_pj(null, max(b.cd_cgc),'CEP')),' ')  ELSE coalesce(elimina_caractere_especial(obter_compl_pf(max(b.cd_pessoa_fisica),1,'CEP')),' ') END   ELSE coalesce(elimina_caractere_especial(pls_obter_compl_pagador(max(d.nr_seq_pagador),'CEP')), ' ') END ,1,8),8,'0') cd_cep,
    rpad(substr(CASE WHEN coalesce(max(d.nr_seq_pagador)::text, '') = '' THEN 					  CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN coalesce(elimina_caractere_especial(obter_dados_pf_pj(null, max(b.cd_cgc),'CI')),' ')  ELSE coalesce(elimina_caractere_especial(obter_compl_pf(max(b.cd_pessoa_fisica),1,'CI')),' ') END   ELSE coalesce(elimina_caractere_especial(pls_obter_compl_pagador(max(d.nr_seq_pagador),'CI')), ' ') END ,1,15),15,' ') ds_cidade,
    rpad(substr(CASE WHEN coalesce(max(d.nr_seq_pagador)::text, '') = '' THEN 					  CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN coalesce(elimina_caractere_especial(obter_dados_pf_pj(null, max(b.cd_cgc),'UF')),' ')  ELSE coalesce(elimina_caractere_especial(obter_compl_pf(max(b.cd_pessoa_fisica),1,'UF')),' ') END   ELSE coalesce(elimina_caractere_especial(pls_obter_compl_pagador(max(d.nr_seq_pagador),'UF')), ' ') END ,1,2),2,' ') ds_uf,
    lpad(coalesce(max(b.nr_nosso_numero),' '),11,' ') nr_nosso_numero,
    lpad(coalesce(max(b.ie_dig_nosso_numero),' '),1,' ') ie_dig_nosso_numero,
    CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN '2'  ELSE '1' END  ie_tipo_inscricao_q,
    substr(CASE WHEN coalesce(max(b.cd_pessoa_fisica)::text, '') = '' THEN max(b.cd_cgc)  ELSE obter_dados_pf(max(b.cd_pessoa_fisica),'CPF') END ,1,15) nr_inscricao_q,
    substr(obter_nome_pf_pj(max(b.cd_pessoa_fisica), max(b.cd_cgc)),1,40) nm_pessoa_q,
    lpad(coalesce(substr(max(c.cd_ocorrencia),1,2),'01'),2,'0') cd_ocorrencia
FROM agencia_bancaria e, titulo_receber_cobr c, cobranca_escritural a, titulo_receber b
LEFT OUTER JOIN pls_mensalidade d ON (b.nr_seq_mensalidade = d.nr_sequencia)
WHERE a.nr_sequencia		= c.nr_seq_cobranca and c.nr_titulo		= b.nr_titulo  and a.nr_sequencia		= nr_seq_cobr_escrit_p group by lpad(to_char(b.nr_titulo),10,'0');

c01_w   c01%rowtype;
	

BEGIN

delete	from w_envio_banco
where	nm_usuario	= nm_usuario_p;

/* Header do Arquivo */

select	lpad(max(b.cd_cgc),14,'0') cd_cgc,
	lpad(coalesce(max(c.cd_agencia_bancaria),'0'),5,'0') cd_agencia_bancaria,
	lpad(coalesce(max(d.ie_digito),'0'),1,'0') ie_digito_agencia,
	rpad(substr(coalesce(elimina_caractere_especial(obter_razao_social(max(b.cd_cgc))),' '),1,30),30,' ') nm_empresa,
	lpad(coalesce(substr(max(c.cd_convenio_banco),1,20),' '),20,' ') cd_convenio_banco,
	to_char(coalesce(max(a.dt_remessa_retorno),clock_timestamp()),'DDMMYYYY') dt_remessa_retorno,
	lpad(coalesce(substr(max(c.cd_conta),1,12),'0'),12,'0') cd_conta,
	coalesce(substr(max(c.ie_digito_conta),1,1),' ') ie_dig_conta_corrente,
	substr(coalesce(obter_instrucao_bol_estab_fin(max(a.nr_titulo),max(a.cd_banco),1,coalesce(cd_estabelecimento_p,max(a.cd_estabelecimento))),' '),1,40) ds_mensagem_3,
	substr(coalesce(obter_instrucao_bol_estab_fin(max(a.nr_titulo),max(a.cd_banco),2,coalesce(cd_estabelecimento_p,max(a.cd_estabelecimento))),' '),1,40) ds_mensagem_4,
	coalesce(max(a.nr_remessa),'0')nr_remessa,
	coalesce(substr(max(a.ie_emissao_bloqueto),1,1),'1') ie_emissao_bloqueto
into STRICT	cd_cgc_w,
	cd_agencia_bancaria_w,
	ie_digito_agencia_w,
	nm_empresa_w,
	cd_convenio_banco_w,
	dt_remessa_retorno_w,
	cd_conta_w,
	ie_digito_conta_w,
	ds_mensagem_3_w,
	ds_mensagem_4_w,
	nr_remessa_w,
	ie_emissao_bloqueto_w
from	agencia_bancaria d,	
	banco_estabelecimento c,
	estabelecimento b,
	cobranca_escritural a
where	a.cd_estabelecimento	= b.cd_estabelecimento
and	a.nr_seq_conta_banco	= c.nr_sequencia
and	a.nr_sequencia		= nr_seq_cobr_escrit_p;

qt_registro_w	:= qt_registro_w + 1;

ds_conteudo_w	:= 	'084' || 			/*Pos 01 a 03*/
			'0000' ||  					/*Pos 04 a 07*/
			'0' ||  					/*Pos 08*/
			lpad(' ',9,' ') || 			/*09 a 17*/
			'2' || 						/*Pos 18*/
			lpad(cd_cgc_w,14,'0') || 	/*Pos 19 a 32*/
			cd_convenio_banco_w || 		/*Pos 33 a 52*/
			cd_agencia_bancaria_w || 	/*Pos 53 a 57*/
			ie_digito_agencia_w || 		/* Pos 58*/
			cd_conta_w || 				/*Pos 59 a 70*/
			ie_digito_conta_w || 		/*Pos 71*/
			' ' || 						/*Pos 72*/
			nm_empresa_w || 			/*Pos 73 a 102*/
			lpad(' ',40,' ') || 		/*Pos 103 a 142*/
			'1' || 						/*Pos 143*/
			lpad(' ',20,' ') || 		/* Pos 144 a 163*/
			'082' || 					/*Pos 164 a 166*/
			lpad(' ',74,' '); 			/*Pos 167 a 240*/
insert	into w_envio_banco(cd_estabelecimento,
	ds_conteudo,
	dt_atualizacao,
	dt_atualizacao_nrec,
	nm_usuario,
	nm_usuario_nrec,
	nr_sequencia,
	nr_seq_apres,
	nr_seq_apres_2)
values (cd_estabelecimento_p,
	ds_conteudo_w,
	clock_timestamp(),
	clock_timestamp(),
	nm_usuario_p,
	nm_usuario_p,
	nextval('w_envio_banco_seq'),
	1,
	1);

/*	Header do Lote	*/

qt_registro_lote_w	:= qt_registro_lote_w + 1;
qt_registro_w		:= qt_registro_w + 1;

ds_conteudo_w		:= 	'084' ||								/*Pos 01 a 03*/
				lpad(qt_registro_lote_w,4,'0') ||				/*Pos 04 a 07*/
				'1' ||											/*Pos 08*/
				'R' ||											/*Pos 09*/
				'01' ||											/*Pos 10 a 11*/
				rpad(' ',2,' ') || 								/*Pos 12 a 13*/
				'041' ||  										/*Pos 14 a 16*/
				' ' || 											/*Pos 17*/
				'2' || 											/*Pos 18*/
				lpad(cd_cgc_w,15,'0') || 						/*Pos 19 a 33*/
				cd_convenio_banco_w || 							/*Pos 34 a 53*/
				cd_agencia_bancaria_w || 						/*Pos 54 a 58*/
				ie_digito_agencia_w || 							/*Pos 59*/
				cd_conta_w || 									/*Pos 60 a 71*/
				ie_digito_conta_w || 							/*Pos 72*/
				' ' || 											/*Pos 73*/
				nm_empresa_w || 								/*Pos 74 a 103*/
				lpad(coalesce(ds_mensagem_3_w,' '),40,' ') || 		/*Pos 104 a 143*/
				lpad(coalesce(ds_mensagem_4_w,' '),40,' ') || 		/*Pos 144 a 183*/
				'00000000' || 									/*Pos 184 a 191*/
				to_char(dt_remessa_retorno_w,'DDMMYYYY') || 	/*Pos 192 a 199*/
				'00000000' || 									/*Pos 200 a 207*/
				rpad(' ',33,' '); 								/*Pos 208 a 240*/
insert	into w_envio_banco(cd_estabelecimento,
	ds_conteudo,
	dt_atualizacao,
	dt_atualizacao_nrec,
	nm_usuario,
	nm_usuario_nrec,
	nr_sequencia,
	nr_seq_apres,
	nr_seq_apres_2)
values (cd_estabelecimento_p,
	ds_conteudo_w,
	clock_timestamp(),
	clock_timestamp(),
	nm_usuario_p,
	nm_usuario_p,
	nextval('w_envio_banco_seq'),
	2,
	2);
				
/* Segmento P, Segmento Q*/

open	C01;
loop
fetch	C01 into
	c01_w;
EXIT WHEN NOT FOUND; /* apply on C01 */
	begin

	/* Segmento P */

    
	qt_registro_w		:= qt_registro_w + 1;
	nr_seq_reg_lote_w	:= nr_seq_reg_lote_w + 1;

	ds_conteudo_w		:=	'084' || 								/*Pos 01 a 03*/
					lpad(qt_registro_lote_w,4,'0') || 				/*Pos 04 a 07*/
					'3' || 											/*Pos 08*/
					lpad(nr_seq_reg_lote_w,5,'0') || 				/*Pos 09 a 13*/
					'P' || 											/*Pos 14*/
                    ' ' || 											/*Pos 15*/
					'01' || 										/*Pos 16 a 17*/
					c01_w.cd_agencia_bancaria || 					/*Pos 18 a 22*/
					c01_w.ie_digito_agen || 						/*Pos 23*/
					c01_w.nr_conta || 								/*Pos 24 a 35*/
					c01_w.ie_dig_conta_corrente || 					/*Pos 36*/
					' ' ||	 										/*Pos 37*/
				
					rpad(coalesce(c01_w.ds_nosso_numero,' '),11,' ') || 	/*Pos 38 a 48*/
					c01_w.ie_dig_nosso_numero || 					/*Pos 49*/
					rpad(' ',8,' ') || 								/*Pos 50 a 57*/
 					'1' || 											/*Pos 58*/
					'1' || 											/*Pos 59*/
					' ' || 											/*Pos 60*/
					coalesce(ie_emissao_bloqueto_w,'1') || 				/*Pos 61*/
					rpad(' ',6,' ') || 								/*Pos 62 a 67*/
					c01_w.nr_titulo || 								/*Pos 68 a 77*/
					c01_w.dt_vencimento || 							/*Pos 78 a 85*/
					c01_w.vl_titulo || 								/*Pos 86 a 100*/
					rpad(' ',6,' ') || 								/*Pos 101 a 106*/
					'17' || 										/*Pos 107 a 108*/
					
					'N' || 											/*Pos 109*/
					c01_w.dt_emissao || 							/*Pos 110 a 117*/
					'1' || 											/*Pos 118*/
					c01_w.ie_data_juros_multa || 					/*Pos 119 a 126*/
					lpad(c01_w.vl_juros_mora,15,'0') || 			/*Pos 127 a 141*/
					'1' || 											/*Pos 142*/
					c01_w.dt_limite_desconto || 					/*Pos 143 a 150*/
					c01_w.vl_desconto || 							/*Pos 151 a 165*/
					rpad(' ',15,' ') || 							/*Pos 166 a 180*/
					'000000000000000' || 							/*Pos 181 a 195*/
					rpad(' ',15,' ') || 							/*Pos 196 a 210 Controle Participante if null = brancos*/
					lpad(c01_w.nr_titulo, 10, '0') || 				/*Pos 211 a 220*/
					'3' || 											/*Pos 221*/
					'00' || 										/*Pos 222 a 223*/
					'0000' || 										/*Pos 224 a 227*/
					'09' || 										/*Pos 228 a 229*/
					'00000000' || 									/*Pos 230 a 239*/
					' '; 											/*Pos 240*/
	insert	into w_envio_banco(cd_estabelecimento,
		ds_conteudo,
		dt_atualizacao,
		dt_atualizacao_nrec,
		nm_usuario,
		nm_usuario_nrec,
		nr_sequencia,
		nr_seq_apres,
		nr_seq_apres_2)
	values (cd_estabelecimento_p,
		ds_conteudo_w,
		clock_timestamp(),
		clock_timestamp(),
		nm_usuario_p,
		nm_usuario_p,
		nextval('w_envio_banco_seq'),
		3,
		nr_seq_reg_lote_w);

	/* Segmento Q */

	qt_registro_w		:= qt_registro_w + 1;
	nr_seq_reg_lote_w	:= nr_seq_reg_lote_w + 1;
	
	ds_conteudo_w		:=	'084' || 											/*01 a 03*/
					lpad(qt_registro_lote_w, 4, '0') || 						/*04 a 07*/
					'3' || 														/*08*/
					lpad(nr_seq_reg_lote_w, 5, '0') || 							/*09 a 13*/
					'Q' || 														/*14*/
                    ' ' || 														/*Pos 15*/
					'01' || 													/*16 a 17*/
					c01_w.ie_tipo_inscricao || 									/*18*/
					c01_w.nr_inscricao || 										/*19 a 33*/
					c01_w.nm_pessoa || 											/*34 a 73*/
					c01_w.ds_endereco || 										/*74 a 113*/
					c01_w.ds_bairro || 											/*114 a 128*/
					c01_w.cd_cep || 											/*129 a 136*/
					c01_w.ds_cidade || 											/*137 a 151*/
					c01_w.ds_uf || 												/*152 a 153*/
					c01_w.ie_tipo_inscricao_q || 								/*154*/
					lpad(coalesce(substr(c01_w.nr_inscricao_q,1,15),'0'),15,'0') || 	/*155 a 169*/
					rpad(coalesce(c01_w.nm_pessoa_q,' '),40,' ') || 					/*170 a 209*/
					'000' || 													/*210 a 212*/
					rpad(' ',20,' ') || 										/*213 a 232*/
					rpad(' ',8,' '); 											/*233 a 240*/
	insert	into w_envio_banco(cd_estabelecimento,
		ds_conteudo,
		dt_atualizacao,
		dt_atualizacao_nrec,
		nm_usuario,
		nm_usuario_nrec,
		nr_sequencia,
		nr_seq_apres,
		nr_seq_apres_2)
	values (cd_estabelecimento_p,
		ds_conteudo_w,
		clock_timestamp(),
		clock_timestamp(),
		nm_usuario_p,
		nm_usuario_p,
		nextval('w_envio_banco_seq'),
		3,
		nr_seq_reg_lote_w);	
	end;
end	loop;
close	C01;

/*	Trailer de Lote	*/

select	lpad(count(b.nr_sequencia),6,'0') qt_titulo_cobr,
	replace(to_char(sum(b.vl_cobranca), 'fm0000000000000.00'),'.',null) vl_titulos_cobr
into STRICT    qt_titulos_cobr_w,
    vl_titulos_cobr_w
from	titulo_receber c,
	titulo_receber_cobr b,
	cobranca_escritural a
where	b.nr_titulo	= c.nr_titulo
and	a.nr_sequencia	= b.nr_seq_cobranca
and	a.nr_sequencia	= nr_seq_cobr_escrit_p;

ds_conteudo_w		:=	'084' || 						/*01 a 03*/
				lpad(qt_registro_lote_w, 4, '0') ||  	/*04 a 07*/
				'5' || 									/*08*/
				rpad(' ',9,' ') || 						/*09 a 17*/
				lpad(qt_registro_w,6,'0') || 			/*18 a 23*/
				lpad(qt_titulos_cobr_w,6,'0') || 		/*24 a 29*/
				lpad(vl_titulos_cobr_w,17,'0') || 		/*30 a 46*/
				lpad('0',6,'0') || 						/*47 a 52*/
				lpad('0',17,'0') || 					/*53 a 69*/
				lpad('0',6,'0') || 						/*70 a 75*/
				lpad('0',17,'0') ||  					/*76 a 92*/
				lpad('0',6,'0') ||   					/*93 a 98*/
				lpad('0',17,'0') ||   					/*99 a 115*/
				rpad(' ',8,' ') || 						/*116 a 123*/
				rpad(' ',117,' '); 						/*124 a 240*/
qt_registro_w		:= qt_registro_w + 1;

insert	into w_envio_banco(cd_estabelecimento,
	ds_conteudo,
	dt_atualizacao,
	dt_atualizacao_nrec,
	nm_usuario,
	nm_usuario_nrec,
	nr_sequencia,
	nr_seq_apres,
	nr_seq_apres_2)
values (cd_estabelecimento_p,
	ds_conteudo_w,
	clock_timestamp(),
	clock_timestamp(),
	nm_usuario_p,
	nm_usuario_p,
	nextval('w_envio_banco_seq'),
	5,
	5);

/* Trailer do Arquivo */

ds_conteudo_w	:=	'084' || 					/*01 a 03*/
			'9999' || 							/*04 a 07*/
			'9' || 								/*08*/
			rpad(' ',9,' ') || 					/*09 a 17*/
			'000001' || 						/*18 a 23*/
			lpad(qt_registro_w + 1,6,'0') || 	/*24 a 29*/
			rpad(' ',211,' '); 					/*30 a 240*/
insert	into w_envio_banco(cd_estabelecimento,
	ds_conteudo,
	dt_atualizacao,
	dt_atualizacao_nrec,
	nm_usuario,
	nm_usuario_nrec,
	nr_sequencia,
	nr_seq_apres,
	nr_seq_apres_2)
values (cd_estabelecimento_p,
	ds_conteudo_w,
	clock_timestamp(),
	clock_timestamp(),
	nm_usuario_p,
	nm_usuario_p,
	nextval('w_envio_banco_seq'),
	6,
	6);

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_cobranca_cobexpress_240 ( nr_seq_cobr_escrit_p cobranca_escritural.nr_sequencia%type, cd_estabelecimento_p cobranca_escritural.cd_estabelecimento%type, nm_usuario_p cobranca_escritural.nm_usuario%type) FROM PUBLIC;

