-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_cores_agenda_mensal ( cd_perfil_p bigint, cd_estabelecimento_p bigint, ds_bloq_p INOUT text, ds_feriado_p INOUT text, ds_existe_livres_p INOUT text, ds_todos_ocup_p INOUT text, ds_fim_semana_p INOUT text, ds_todos_livres_p INOUT text, ds_nao_regra_p INOUT text, ds_nao_lib_p INOUT text ) AS $body$
DECLARE


var_null_w	varchar(15);


BEGIN
-- Agenda Bloqueada
SELECT * FROM tasy_obter_cor(731, cd_perfil_p, cd_estabelecimento_p, ds_bloq_p, var_null_w, var_null_w) INTO STRICT ds_bloq_p, var_null_w, var_null_w;

-- Feriado
SELECT * FROM tasy_obter_cor(732, cd_perfil_p, cd_estabelecimento_p, ds_feriado_p, var_null_w, var_null_w) INTO STRICT ds_feriado_p, var_null_w, var_null_w;

-- Existem livres
SELECT * FROM tasy_obter_cor(729, cd_perfil_p, cd_estabelecimento_p, ds_existe_livres_p, var_null_w, var_null_w) INTO STRICT ds_existe_livres_p, var_null_w, var_null_w;

-- Todos ocupados
SELECT * FROM tasy_obter_cor(730, cd_perfil_p, cd_estabelecimento_p, ds_todos_ocup_p, var_null_w, var_null_w) INTO STRICT ds_todos_ocup_p, var_null_w, var_null_w;

-- Final semana
SELECT * FROM tasy_obter_cor(733, cd_perfil_p, cd_estabelecimento_p, ds_fim_semana_p, var_null_w, var_null_w) INTO STRICT ds_fim_semana_p, var_null_w, var_null_w;

-- Todos livres
SELECT * FROM tasy_obter_cor(728, cd_perfil_p, cd_estabelecimento_p, ds_todos_livres_p, var_null_w, var_null_w) INTO STRICT ds_todos_livres_p, var_null_w, var_null_w;

-- Não há regra
SELECT * FROM tasy_obter_cor(734, cd_perfil_p, cd_estabelecimento_p, ds_nao_regra_p, var_null_w, var_null_w) INTO STRICT ds_nao_regra_p, var_null_w, var_null_w;

-- Dia não liberado
SELECT * FROM tasy_obter_cor(3926, cd_perfil_p, cd_estabelecimento_p, ds_nao_lib_p, var_null_w, var_null_w) INTO STRICT ds_nao_lib_p, var_null_w, var_null_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_cores_agenda_mensal ( cd_perfil_p bigint, cd_estabelecimento_p bigint, ds_bloq_p INOUT text, ds_feriado_p INOUT text, ds_existe_livres_p INOUT text, ds_todos_ocup_p INOUT text, ds_fim_semana_p INOUT text, ds_todos_livres_p INOUT text, ds_nao_regra_p INOUT text, ds_nao_lib_p INOUT text ) FROM PUBLIC;

