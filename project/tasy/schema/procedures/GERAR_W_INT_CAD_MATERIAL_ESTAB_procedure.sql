-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gerar_w_int_cad_material_estab ( cd_estabelecimento_p text, cd_kit_material_p text, cd_sistema_ant_p text, dt_validade_reg_anvisa_p text, ie_baixa_estoq_pac_p text, ie_classif_custo_p text, ie_controla_serie_p text, ie_curva_xyz_p text, ie_estoque_lote_p text, ie_material_estoque_p text, ie_padronizado_p text, ie_prescricao_p text, ie_requisicao_p text, ie_ressuprimento_p text, ie_vigente_anvisa_p text, nm_usuario_p text, nr_minimo_cotacao_p text, nr_registro_anvisa_p text, nr_seq_cad_material_p text, qt_dia_estoque_minimo_p text, qt_dia_interv_ressup_p text, qt_dia_ressup_forn_p text, qt_estoque_maximo_p text, qt_estoque_minimo_p text, qt_peso_kg_p text, qt_ponto_pedido_p text) AS $body$
DECLARE


ds_erro_w	varchar(4000);


BEGIN

begin
insert into w_int_cad_material_estab(
			nr_sequencia,
			cd_estabelecimento,
			cd_kit_material,
			cd_sistema_ant,
			dt_atualizacao,
			dt_atualizacao_nrec,
			dt_validade_reg_anvisa,
			ie_baixa_estoq_pac,
			ie_classif_custo,
			ie_controla_serie,
			ie_curva_xyz,
			ie_estoque_lote,
			ie_material_estoque,
			ie_padronizado,
			ie_prescricao,
			ie_requisicao,
			ie_ressuprimento,
			ie_vigente_anvisa,
			nm_usuario,
			nm_usuario_nrec,
			nr_minimo_cotacao,
			nr_registro_anvisa,
			nr_seq_cad_material,
			qt_dia_estoque_minimo,
			qt_dia_interv_ressup,
			qt_dia_ressup_forn,
			qt_estoque_maximo,
			qt_estoque_minimo,
			qt_peso_kg,
			qt_ponto_pedido)
values (	nextval('w_int_cad_material_estab_seq'),
				cd_estabelecimento_p,
				cd_kit_material_p,
				cd_sistema_ant_p,
				clock_timestamp(),
				clock_timestamp(),
				to_date(dt_validade_reg_anvisa_p,'dd/mm/yyyy'),
				ie_baixa_estoq_pac_p,
				ie_classif_custo_p,
				ie_controla_serie_p,
				ie_curva_xyz_p,
				ie_estoque_lote_p,
				ie_material_estoque_p,
				ie_padronizado_p,
				ie_prescricao_p,
				ie_requisicao_p,
				ie_ressuprimento_p,
				ie_vigente_anvisa_p,
				nm_usuario_p,
				nm_usuario_p,
				(nr_minimo_cotacao_p)::numeric ,
				nr_registro_anvisa_p,
				(nr_seq_cad_material_p)::numeric ,
				(qt_dia_estoque_minimo_p)::numeric ,
				(qt_dia_interv_ressup_p)::numeric ,
				(qt_dia_ressup_forn_p)::numeric ,
				(qt_estoque_maximo_p)::numeric ,
				(qt_estoque_minimo_p)::numeric ,
				(qt_peso_kg_p)::numeric ,
				(qt_ponto_pedido_p)::numeric );

exception
when others then
	ds_erro_w	:= substr(sqlerrm,1,4000);
end;


commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_w_int_cad_material_estab ( cd_estabelecimento_p text, cd_kit_material_p text, cd_sistema_ant_p text, dt_validade_reg_anvisa_p text, ie_baixa_estoq_pac_p text, ie_classif_custo_p text, ie_controla_serie_p text, ie_curva_xyz_p text, ie_estoque_lote_p text, ie_material_estoque_p text, ie_padronizado_p text, ie_prescricao_p text, ie_requisicao_p text, ie_ressuprimento_p text, ie_vigente_anvisa_p text, nm_usuario_p text, nr_minimo_cotacao_p text, nr_registro_anvisa_p text, nr_seq_cad_material_p text, qt_dia_estoque_minimo_p text, qt_dia_interv_ressup_p text, qt_dia_ressup_forn_p text, qt_estoque_maximo_p text, qt_estoque_minimo_p text, qt_peso_kg_p text, qt_ponto_pedido_p text) FROM PUBLIC;

