-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pfcs_generate_fr10_pa (nr_seq_indicator_p bigint) AS $body$
DECLARE


pfcs_panel_seq_w			pfcs_panel.nr_sequencia%type;
cd_estabelecimento_w			bigint;
nm_usuario_p 				varchar(20);


BEGIN

nm_usuario_p := 'asimovbr';
cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 1, ie_level_p => 'O', ie_info_p => 'C');

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL in (9000,9001,9002,9003,9004,9005,9006,9007,9008,9009,9010);
DELETE FROM pfcs_panel_detail WHERE NR_SEQ_INDICATOR = 14;
DELETE FROM pfcs_panel WHERE NR_SEQ_INDICATOR = 14;

/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9000, nm_usuario_p, (clock_timestamp() - (59/24/60)), nm_usuario_p, (clock_timestamp() - (59/24/60)), 'T', 14, cd_estabelecimento_w
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9001, nm_usuario_p, (clock_timestamp() - (60/24/60)), nm_usuario_p, (clock_timestamp() - (60/24/60)), 'T', 14, cd_estabelecimento_w
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9002, nm_usuario_p, (clock_timestamp() - (62/24/60)), nm_usuario_p, (clock_timestamp() - (62/24/60)), 'T', 14, cd_estabelecimento_w
);

/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9003, nm_usuario_p, (clock_timestamp() - (55/24/60)), nm_usuario_p, (clock_timestamp() - (55/24/60)), 'T', 14, cd_estabelecimento_w
);

-------------------------------------------------- pfcs_detail_patient --------------------------------------------------		
/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (59/24/60)), nm_usuario_p, (clock_timestamp() - (59/24/60)), nm_usuario_p, 3423979, (clock_timestamp() - (59/24/60)), 1454003, 'MENGARDA, Elizabeth', 'Female', 'VIP', to_date('09/12/1972 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 59, 9000
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (60/24/60)), nm_usuario_p, (clock_timestamp() - (60/24/60)), nm_usuario_p, 3423770, (clock_timestamp() - (60/24/60)), 2490468, 'MESSIAS, Kaique', 'Male', 'VIP', to_date('21/11/1995 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 60, 9001
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (62/24/60)), nm_usuario_p, (clock_timestamp() - (62/24/60)), nm_usuario_p, 3423995, (clock_timestamp() - (62/24/60)), 64624, 'LUZ, Astrogildo', 'Male', 'VIP', to_date('03/11/1978 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 62, 9002
);

/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (55/24/60)), nm_usuario_p, (clock_timestamp() - (55/24/60)), nm_usuario_p, 3423996, (clock_timestamp() - (55/24/60)), 187809, 'MIRANDA, Eunice', 'Female', 'VIP', to_date('21/04/1966 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 55, 9003
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => round(236/4), nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
            nr_seq_indicator_p => nr_seq_indicator_p,
            nr_seq_operational_level_p => cd_estabelecimento_w,
            nm_usuario_p => nm_usuario_p);

cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 39, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9004, nm_usuario_p, (clock_timestamp() - (67/24/60)), nm_usuario_p, (clock_timestamp() - (67/24/60)), 'T', 14, cd_estabelecimento_w
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9005, nm_usuario_p, (clock_timestamp() - (58/24/60)), nm_usuario_p, (clock_timestamp() - (58/24/60)), 'T', 14, cd_estabelecimento_w
);

/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9006, nm_usuario_p, (clock_timestamp() - (52/24/60)), nm_usuario_p, (clock_timestamp() - (52/24/60)), 'T', 14, cd_estabelecimento_w
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9007, nm_usuario_p, (clock_timestamp() - (70/24/60)), nm_usuario_p, (clock_timestamp() - (70/24/60)), 'T', 14, cd_estabelecimento_w
);

-------------------------------------------------- pfcs_detail_patient --------------------------------------------------
/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (67/24/60)), nm_usuario_p, (clock_timestamp() - (67/24/60)), nm_usuario_p, 3423998, (clock_timestamp() - (67/24/60)), 180936, 'PHILIPS, Rosa', 'Female', 'VIP', to_date('05/12/1998 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 67, 9004
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (58/24/60)), nm_usuario_p, (clock_timestamp() - (58/24/60)), nm_usuario_p, 3423999, (clock_timestamp() - (58/24/60)), 539682, 'MIRANDA, Helio', 'Male', 'VIP', to_date('19/02/1978 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 58, 9005
);

/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (52/24/60)), nm_usuario_p, (clock_timestamp() - (52/24/60)), nm_usuario_p, 3424001, (clock_timestamp() - (52/24/60)), 186883, 'BISSOLI, Janaina', 'Female', 'VIP', to_date('01/01/1975 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 52, 9006
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (70/24/60)), nm_usuario_p, (clock_timestamp() - (70/24/60)), nm_usuario_p, 3424002, (clock_timestamp() - (70/24/60)), 726434, 'GONCALVES, Igor', 'Male', 'VIP', to_date('02/03/1999 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 70, 9007
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => round(247/4), nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
            nr_seq_indicator_p => nr_seq_indicator_p,
            nr_seq_operational_level_p => cd_estabelecimento_w,
            nm_usuario_p => nm_usuario_p);

cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 11, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9008, nm_usuario_p, (clock_timestamp() - (56/24/60)), nm_usuario_p, (clock_timestamp() - (56/24/60)), 'T', 14, cd_estabelecimento_w
);

/* INSERT QUERY NO: 10 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9009, nm_usuario_p, (clock_timestamp() - (64/24/60)), nm_usuario_p, (clock_timestamp() - (64/24/60)), 'T', 14, cd_estabelecimento_w
);

/* INSERT QUERY NO: 11 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
9010, nm_usuario_p, (clock_timestamp() - (57/24/60)), nm_usuario_p, (clock_timestamp() - (57/24/60)), 'T', 14, cd_estabelecimento_w
);

-------------------------------------------------- pfcs_detail_patient --------------------------------------------------
/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (56/24/60)), nm_usuario_p, (clock_timestamp() - (56/24/60)), nm_usuario_p, 3424004, (clock_timestamp() - (56/24/60)), 2830800, 'LOPES, JONAS', 'Male', 'VIP', to_date('04/08/1986 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 56, 9008
);

/* INSERT QUERY NO: 10 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (64/24/60)), nm_usuario_p, (clock_timestamp() - (64/24/60)), nm_usuario_p, 3424005, (clock_timestamp() - (64/24/60)), 2488416, 'NUMAO, Willian', 'Male', 'VIP', to_date('07/11/1984 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 64, 9009
);

/* INSERT QUERY NO: 11 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, DT_ATUALIZACAO, NM_USUARIO, DT_ATUALIZACAO_NREC, NM_USUARIO_NREC, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, DS_CLASSIFICATION, DT_BIRTHDATE, QT_TIME_AWAITING_BED, NR_SEQ_DETAIL)
VALUES
(
nextval('pfcs_detail_patient_seq'), (clock_timestamp() - (57/24/60)), nm_usuario_p, (clock_timestamp() - (57/24/60)), nm_usuario_p, 3424061, (clock_timestamp() - (57/24/60)), 189174, 'KOHLER, Gilmar', 'Male', 'VIP', to_date('14/06/1960 00:00:00', 'DD/MM/YYYY HH24:MI:SS'), 57, 9010
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => round(177/3), nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
            nr_seq_indicator_p => nr_seq_indicator_p,
            nr_seq_operational_level_p => cd_estabelecimento_w,
            nm_usuario_p => nm_usuario_p);
	
commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pfcs_generate_fr10_pa (nr_seq_indicator_p bigint) FROM PUBLIC;

