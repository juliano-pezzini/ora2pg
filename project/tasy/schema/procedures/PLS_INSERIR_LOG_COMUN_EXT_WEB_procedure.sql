-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pls_inserir_log_comun_ext_web ( nr_seq_comunicado_p bigint, nm_usuario_p text, cd_pessoa_fisica_resp_p text, ie_tipo_acesso_p text, ds_email_p text) AS $body$
DECLARE


nm_usuario_w	varchar(15);


BEGIN


nm_usuario_w := substr(nm_usuario_p,0,15);

insert	into	pls_comunic_ext_hist_web( nr_sequencia, nr_seq_comunicado, dt_atualizacao,
					  nm_usuario, dt_atualizacao_nrec, nm_usuario_nrec,
					  nm_usuario_leitura, dt_leitura, ds_email,
					  cd_pessoa_fisica_resp, ie_tipo_acesso)
				   values (nextval('pls_comunic_ext_hist_web_seq'), nr_seq_comunicado_p, clock_timestamp(),
					  nm_usuario_w, clock_timestamp(), nm_usuario_w,
					  nm_usuario_w, clock_timestamp(), ds_email_p,
					  cd_pessoa_fisica_resp_p, ie_tipo_acesso_p);

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_inserir_log_comun_ext_web ( nr_seq_comunicado_p bigint, nm_usuario_p text, cd_pessoa_fisica_resp_p text, ie_tipo_acesso_p text, ds_email_p text) FROM PUBLIC;

