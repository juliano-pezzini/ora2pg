-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_dados_adm_gp_js ( nr_sequencia_p bigint, ds_coluna_p text, nm_usuario_p text, ie_origem_proced_p INOUT bigint, nr_seq_proc_interno_p INOUT bigint, dt_horario_p INOUT text) AS $body$
DECLARE


ds_comando_w	varchar(200) := '';
dt_horario_w	varchar(20) := '';


BEGIN

select  max(ie_origem_proced) ie_origem_proced,
	coalesce(max(nr_seq_proc_interno),0) nr_seq_proc_interno
into STRICT	ie_origem_proced_p,
	nr_seq_proc_interno_p
from    prescr_proc_hor
where   nr_sequencia = nr_sequencia_p;


ds_comando_w := 'select ' || ds_coluna_p ||
		' from w_adep ' ||
		' where nm_usuario = :nm_usuario '||
		' and ie_tipo_item = ' || chr(39) || 'H' || chr(39);

dt_horario_w := Obter_valor_Dinamico_char_bv(ds_comando_w, 'nm_usuario='||nm_usuario_p||';', dt_horario_w);

dt_horario_p := dt_horario_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_dados_adm_gp_js ( nr_sequencia_p bigint, ds_coluna_p text, nm_usuario_p text, ie_origem_proced_p INOUT bigint, nr_seq_proc_interno_p INOUT bigint, dt_horario_p INOUT text) FROM PUBLIC;

