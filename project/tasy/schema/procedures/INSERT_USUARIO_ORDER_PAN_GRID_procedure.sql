-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE insert_usuario_order_pan_grid (nm_usuario_p text, list_order_p text, ie_acao_p text, list_order_out_p INOUT text) AS $body$
DECLARE


/* ie_acao_p
   D - Delete
   I - Insert/Update
*/
BEGIN

if (ie_acao_p = 'I') then
    delete
    from   usuario_ordem_grid
    where  nm_usuario = nm_usuario_p
    and    cd_funcao  = 338
    and    ds_grid_tabela = '338_panorama_dg';



    insert into usuario_ordem_grid(nm_usuario, cd_funcao, ds_grid_tabela, dt_atualizacao, ds_regra_ordem) values (nm_usuario_p, 338,  '338_panorama_dg', clock_timestamp(),  list_order_p);



    commit;



    list_order_out_p := list_order_p;



 

elsif (ie_acao_p = 'D') then

 

  delete
    from   usuario_ordem_grid
    where  nm_usuario = nm_usuario_p
    and    cd_funcao  = 338
    and    ds_grid_tabela = '338_panorama_dg';



end if;



end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE insert_usuario_order_pan_grid (nm_usuario_p text, list_order_p text, ie_acao_p text, list_order_out_p INOUT text) FROM PUBLIC;

