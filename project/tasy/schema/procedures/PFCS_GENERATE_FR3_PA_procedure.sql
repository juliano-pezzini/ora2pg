-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pfcs_generate_fr3_pa (nr_seq_indicator_p bigint) AS $body$
DECLARE


pfcs_panel_seq_w			pfcs_panel.nr_sequencia%type;
cd_estabelecimento_w			bigint;
nm_usuario_p 				varchar(20);


BEGIN

nm_usuario_p := 'asimovbr';
cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 1, ie_level_p => 'O', ie_info_p => 'C');

DELETE FROM pfcs_detail_patient WHERE NR_SEQ_DETAIL in (2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018);
DELETE FROM pfcs_panel_detail WHERE NR_SEQ_INDICATOR = 7;
DELETE FROM pfcs_panel WHERE NR_SEQ_INDICATOR = 7;

/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2000, nm_usuario_p, (clock_timestamp() - (58/24/60)), nm_usuario_p, (clock_timestamp() - (58/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2001, nm_usuario_p, (clock_timestamp() - (39/24/60)), nm_usuario_p, (clock_timestamp() - (39/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2003, nm_usuario_p, (clock_timestamp() - (80/24/60)), nm_usuario_p, (clock_timestamp() - (80/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2004, nm_usuario_p, (clock_timestamp() - (63/24/60)), nm_usuario_p, (clock_timestamp() - (63/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2006, nm_usuario_p, (clock_timestamp() - (32/24/60)), nm_usuario_p, (clock_timestamp() - (32/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2007, nm_usuario_p, (clock_timestamp() - (31/24/60)), nm_usuario_p, (clock_timestamp() - (31/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 1 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (58/24/60)), nm_usuario_p, (clock_timestamp() - (58/24/60)), 2000, 3404274, (clock_timestamp() - (58/24/60)), 1015838671, 'NEIS, Gustavo Leandro', 'Masculino', 1, 'Admitis >8hrs', to_date('28/12/1984 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 2 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (39/24/60)), nm_usuario_p, (clock_timestamp() - (39/24/60)), 2001, 3404892, (clock_timestamp() - (39/24/60)), 1015603425, 'HAMMES, Leonardo', 'Male', 1, 'Admitis >8hrs', to_date('1/1/1993 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 4 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (80/24/60)), nm_usuario_p, (clock_timestamp() - (80/24/60)), 2003, 3356904, (clock_timestamp() - (80/24/60)), 4990015, 'FERREIRA, Ana', 'Female', 1, 'Admitis >8hrs', to_date('10/7/2012 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 5 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (63/24/60)), nm_usuario_p, (clock_timestamp() - (63/24/60)), 2004, 3409285, (clock_timestamp() - (63/24/60)), 1015592393, 'PHILIPS, Rosa', 'Female', 1, 'Admitis >8hrs', to_date('12/5/1998 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 7 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (32/24/60)), nm_usuario_p, (clock_timestamp() - (32/24/60)), 2006, 3412155, (clock_timestamp() - (32/24/60)), 5211668, 'SANDRES, Analine', 'Female', 1, 'Admitis >8hrs', to_date('17/1/1987 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 8 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (31/24/60)), nm_usuario_p, (clock_timestamp() - (31/24/60)), 2007, 3412647, (clock_timestamp() - (31/24/60)), 1020190353, 'RAMOS, Claudo', 'Male', 1, 'Admitis >8hrs', to_date('1/1/1997 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => 6, ds_reference_value_p => 'Admitis >8hrs', cd_reference_value_p => 1, nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2002, nm_usuario_p, (clock_timestamp() - (35/24/60)), nm_usuario_p, (clock_timestamp() - (35/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2005, nm_usuario_p, (clock_timestamp() - (30/24/60)), nm_usuario_p, (clock_timestamp() - (30/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 3 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (35/24/60)), nm_usuario_p, (clock_timestamp() - (35/24/60)), 2002, 3406670, (clock_timestamp() - (35/24/60)), 2437313, 'DOSSI, Claudio', 'Male', 2, 'Non-Admits >4hrs', to_date('31/5/1988 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 6 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (30/24/60)), nm_usuario_p, (clock_timestamp() - (30/24/60)), 2005, 3412522, (clock_timestamp() - (30/24/60)), 2656499, 'RICHART, AndrÃ©', 'Male', 2, 'Non-Admits >4hrs', to_date('2/6/1991 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => 2, ds_reference_value_p => 'Non-Admits >4hrs', cd_reference_value_p => 2, nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
            nr_seq_indicator_p => nr_seq_indicator_p,
            nr_seq_operational_level_p => cd_estabelecimento_w,
            nm_usuario_p => nm_usuario_p);

cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 39, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 11 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2010, nm_usuario_p, (clock_timestamp() - (55/24/60)), nm_usuario_p, (clock_timestamp() - (55/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 11 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (55/24/60)), nm_usuario_p, (clock_timestamp() - (55/24/60)), 2010, 3398443, (clock_timestamp() - (55/24/60)), 4580607, 'FELLER, Luiz Augusto', 'Male', 1, 'Admitis >8hrs', to_date('14/3/1984 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => 1, ds_reference_value_p => 'Admitis >8hrs', cd_reference_value_p => 1, nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2008, nm_usuario_p, (clock_timestamp() - (29/24/60)), nm_usuario_p, (clock_timestamp() - (29/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 10 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2009, nm_usuario_p, (clock_timestamp() - (50/24/60)), nm_usuario_p, (clock_timestamp() - (50/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 12 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2011, nm_usuario_p, (clock_timestamp() - (32/24/60)), nm_usuario_p, (clock_timestamp() - (32/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 13 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2012, nm_usuario_p, (clock_timestamp() - (31/24/60)), nm_usuario_p, (clock_timestamp() - (31/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 9 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (29/24/60)), nm_usuario_p, (clock_timestamp() - (29/24/60)), 2008, 3403861, (clock_timestamp() - (29/24/60)), 540758, 'FONSECA, Guilherme', 'Male', 2, 'Non-Admits >4hrs', to_date('12/3/1998 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 10 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (50/24/60)), nm_usuario_p, (clock_timestamp() - (50/24/60)), 2009, 3420462, (clock_timestamp() - (50/24/60)), 203659, 'NEUMAIER, Roberta', 'Female', 2, 'Non-Admits >4hrs', to_date('17/10/1980 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 12 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (32/24/60)), nm_usuario_p, (clock_timestamp() - (32/24/60)), 2011, 3420761, (clock_timestamp() - (32/24/60)), 1015782988, 'PIANGERS, Marcus', 'Male', 2, 'Non-Admits >4hrs', to_date('1/1/1980 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 13 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (31/24/60)), nm_usuario_p, (clock_timestamp() - (31/24/60)), 2012, 3420540, (clock_timestamp() - (31/24/60)), 2632618, 'AGOSTINI, Jessica', 'Female', 2, 'Non-Admits >4hrs', to_date('20/7/1997 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => 4, ds_reference_value_p => 'Non-Admits >4hrs', cd_reference_value_p => 2, nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
            nr_seq_indicator_p => nr_seq_indicator_p,
            nr_seq_operational_level_p => cd_estabelecimento_w,
            nm_usuario_p => nm_usuario_p);


cd_estabelecimento_w	:= pfcs_get_structure_level(cd_establishment_p => 11, ie_level_p => 'O', ie_info_p => 'C');

/* INSERT QUERY NO: 14 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2013, nm_usuario_p, (clock_timestamp() - (29/24/60)), nm_usuario_p, (clock_timestamp() - (29/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 15 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2014, nm_usuario_p, (clock_timestamp() - (67/24/60)), nm_usuario_p, (clock_timestamp() - (67/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 16 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2015, nm_usuario_p, (clock_timestamp() - (28/24/60)), nm_usuario_p, (clock_timestamp() - (28/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 17 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2016, nm_usuario_p, (clock_timestamp() - (31/24/60)), nm_usuario_p, (clock_timestamp() - (31/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 18 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2017, nm_usuario_p, (clock_timestamp() - (30/24/60)), nm_usuario_p, (clock_timestamp() - (30/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 19 */

INSERT INTO pfcs_panel_detail(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, IE_SITUATION, NR_SEQ_INDICATOR, NR_SEQ_OPERATIONAL_LEVEL)
VALUES
(
2018, nm_usuario_p, (clock_timestamp() - (61/24/60)), nm_usuario_p, (clock_timestamp() - (61/24/60)), 'T', 7, cd_estabelecimento_w
);

/* INSERT QUERY NO: 14 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (29/24/60)), nm_usuario_p, (clock_timestamp() - (29/24/60)), 2013, 3365884, (clock_timestamp() - (29/24/60)), 1015784381, 'ARRUDA, Catarina', 'Female', 2, 'Non-Admits >4hrs', to_date('20/9/2017 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 15 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (67/24/60)), nm_usuario_p, (clock_timestamp() - (67/24/60)), 2014, 3399720, (clock_timestamp() - (67/24/60)), 1015758188, 'FUNES, Juan', 'Male', 2, 'Non-Admits >4hrs', to_date('10/5/1965 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 16 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (28/24/60)), nm_usuario_p, (clock_timestamp() - (28/24/60)), 2015, 3418081, (clock_timestamp() - (28/24/60)), 505043, 'AGUIAR, Amanda', 'Female', 2, 'Non-Admits >4hrs', to_date('12/2/1996 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 17 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (31/24/60)), nm_usuario_p, (clock_timestamp() - (31/24/60)), 2016, 3423698, (clock_timestamp() - (31/24/60)), 1020627384, 'PERSON, Diverse', 'Male', 2, 'Non-Admits >4hrs', to_date('13/3/1984 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 18 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (30/24/60)), nm_usuario_p, (clock_timestamp() - (30/24/60)), 2017, 3423653, (clock_timestamp() - (30/24/60)), 61010, 'SCHUMMACHER, Reinaldo', 'Male', 2, 'Non-Admits >4hrs', to_date('1/6/1960 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

/* INSERT QUERY NO: 19 */

INSERT INTO pfcs_detail_patient(NR_SEQUENCIA, NM_USUARIO, DT_ATUALIZACAO, NM_USUARIO_NREC, DT_ATUALIZACAO_NREC, NR_SEQ_DETAIL, NR_ENCOUNTER, DT_ENTRANCE, ID_PATIENT, NM_PATIENT, DS_GENDER, CD_CLASSIFICATION, DS_CLASSIFICATION, DT_BIRTHDATE)
VALUES
(
nextval('pfcs_detail_patient_seq'), nm_usuario_p, (clock_timestamp() - (61/24/60)), nm_usuario_p, (clock_timestamp() - (61/24/60)), 2018, 3423652, (clock_timestamp() - (61/24/60)), 61558, 'FRANCENER, Reinaldo', 'Male', 2, 'Non-Admits >4hrs', to_date('10/3/1950 00:00:00', 'DD/MM/YYYY HH24:MI:SS')
);

 := pfcs_pck.pfcs_generate_results(
		vl_indicator_p => 6, ds_reference_value_p => 'Non-Admits >4hrs', cd_reference_value_p => 2, nr_seq_indicator_p => nr_seq_indicator_p, nr_seq_operational_level_p => cd_estabelecimento_w, nm_usuario_p => nm_usuario_p, nr_seq_panel_p => pfcs_panel_seq_w);

CALL pfcs_pck.pfcs_update_detail(
		nr_seq_indicator_p => nr_seq_indicator_p,
		nr_seq_panel_p => pfcs_panel_seq_w,
		nr_seq_operational_level_p => cd_estabelecimento_w,
		nm_usuario_p => nm_usuario_p);

CALL pfcs_pck.pfcs_activate_records(
            nr_seq_indicator_p => nr_seq_indicator_p,
            nr_seq_operational_level_p => cd_estabelecimento_w,
            nm_usuario_p => nm_usuario_p);

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pfcs_generate_fr3_pa (nr_seq_indicator_p bigint) FROM PUBLIC;

