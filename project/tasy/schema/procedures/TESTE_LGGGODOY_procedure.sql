-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE teste_lgggodoy ( nr_atendimento_p bigint, cd_material_p bigint, cd_unidade_medida_p text, cd_setor_atendimento_p bigint, dt_atendimento_p timestamp, qt_material_p bigint, nr_seq_atepacu_p bigint, dt_entrada_unidade_p timestamp, nr_sequencia_prescricao_p bigint, nr_cirurgia_p bigint, nr_prescricao_p bigint, nr_doc_interno_p bigint, nm_usuario_p text, cd_material_exec_p bigint, dt_conta_p timestamp , cd_cgc_fornecedor_p text, nr_serie_material_p text, nr_seq_cor_exec_p bigint, cd_material_prescricao_p bigint, ie_via_aplicacao_p text, cd_local_estoque_p bigint, qt_executada_p bigint, dt_prescricao_p timestamp, nr_seq_lote_fornec_p bigint) AS $body$
DECLARE

nr_sequencia_p	bigint;

BEGIN
select	nextval('material_atend_paciente_seq')
into STRICT	nr_sequencia_p
;

	insert 	into material_atend_paciente(
			nm_usuario,
			dt_atualizacao,
			cd_acao,
			nr_sequencia,
			nr_atendimento,
			cd_material,
			cd_unidade_medida,
			cd_setor_atendimento,
			dt_atendimento,
			nr_seq_atepacu,
			qt_material,
			dt_entrada_unidade,
			nr_sequencia_prescricao,
			nr_cirurgia,
			nr_prescricao,
			nr_doc_interno,
			cd_material_exec,
			dt_conta,
			cd_cgc_fornecedor,
			nr_serie_material,
			nr_seq_cor_exec,
			cd_material_prescricao,
			ie_via_aplicacao,
			cd_local_estoque,
			qt_executada,
			dt_prescricao,
			nr_seq_lote_fornec)
		values (nm_usuario_p,
			clock_timestamp(),
			'1',
			nr_sequencia_p,
			nr_atendimento_p,
			cd_material_p,
			cd_unidade_medida_p,
			cd_setor_atendimento_p,
			dt_atendimento_p,
			nr_seq_atepacu_p,
			qt_material_p,
			dt_entrada_unidade_p,
			nr_sequencia_prescricao_p,
			nr_cirurgia_p,
			nr_prescricao_p,
			nr_doc_interno_p,
			cd_material_exec_p,
			dt_conta_p,
			cd_cgc_fornecedor_p,
			nr_serie_material_p,
			nr_seq_cor_exec_p,
			cd_material_prescricao_p,
			ie_via_aplicacao_p,
			cd_local_estoque_p,
			qt_executada_p,
			dt_prescricao_p,
			nr_seq_lote_fornec_p);
	commit;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE teste_lgggodoy ( nr_atendimento_p bigint, cd_material_p bigint, cd_unidade_medida_p text, cd_setor_atendimento_p bigint, dt_atendimento_p timestamp, qt_material_p bigint, nr_seq_atepacu_p bigint, dt_entrada_unidade_p timestamp, nr_sequencia_prescricao_p bigint, nr_cirurgia_p bigint, nr_prescricao_p bigint, nr_doc_interno_p bigint, nm_usuario_p text, cd_material_exec_p bigint, dt_conta_p timestamp , cd_cgc_fornecedor_p text, nr_serie_material_p text, nr_seq_cor_exec_p bigint, cd_material_prescricao_p bigint, ie_via_aplicacao_p text, cd_local_estoque_p bigint, qt_executada_p bigint, dt_prescricao_p timestamp, nr_seq_lote_fornec_p bigint) FROM PUBLIC;

