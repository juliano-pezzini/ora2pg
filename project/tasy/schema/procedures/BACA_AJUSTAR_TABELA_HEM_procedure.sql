-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE baca_ajustar_tabela_hem () AS $body$
DECLARE


qt_registro_w	bigint;


BEGIN

if (clock_timestamp() < to_date('10/10/2006','dd/mm/yyyy')) then
	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_CAT_VENT_DISF_SEG'
	and	column_name	= 'NR_SEQ_DISFUNCAO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_cat_vent_disf_seg drop column NR_SEQ_DISFUNCAO');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEMCVDS_HEMDISV_FK'
	and	column_name	= 'NR_SEQ_DISFUNCAO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_cat_vent_disf_seg drop constraint

HEMCVDS_HEMDISV_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEMCVDS_HEMDISV_FK_I');/*Índice*/
		end;
	end if;


	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC'
	and	column_name	= 'NR_SEQ_CATE';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop column NR_SEQ_CATE');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEM_ATC_HEMCAT_FK'
	and	column_name	= 'NR_SEQ_CATE';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop constraint HEM_ATC_HEMCAT_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEM_ATC_HEMCAT_FK_I');/*Índice*/
		end;
	end if;


	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC'
	and	column_name	= 'NR_SEQ_LESAO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop column NR_SEQ_LESAO');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEM_ATC_HEMCALE_FK'
	and	column_name	= 'NR_SEQ_LESAO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop constraint HEM_ATC_HEMCALE_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEM_ATC_HEMCALE_FK_I');/*Índice*/
		end;
	end if;


	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC_BALAO'
	and	column_name	= 'NR_SEQ_ATC';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc_balao drop column NR_SEQ_ATC');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEMATBA_HEM_ATC_FK'
	and	column_name	= 'NR_SEQ_ATC';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc_balao drop constraint HEMATBA_HEM_ATC_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEMATBA_HEM_ATC_FK_I');/*Índice*/
		end;
	end if;


	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_AORTOGRAFIA'
	and	column_name	= 'NR_SEQ_CAT';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_aortografia drop column NR_SEQ_CAT');/*Atributo*/
		end;
	end if;


	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_USIC'
	and	column_name	= 'NR_SEQ_TIPO_CATETER';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_usic drop column NR_SEQ_TIPO_CATETER');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEMOUSIC_HEMCATGT_FK'
	and	column_name	= 'NR_SEQ_TIPO_CATETER';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_usic drop constraint HEMOUSIC_HEMCATGT_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEMOUSIC_HEMCATGT_FK_I');/*Índice*/
		end;
	end if;
end if;

if (clock_timestamp() < to_date('20/10/2006','dd/mm/yyyy')) then
	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_CAT'
	and	column_name	= 'NR_SEQ_TRONCO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_cat drop column NR_SEQ_TRONCO');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEMCAT_HEMTRON_FK'
	and	column_name	= 'NR_SEQ_TRONCO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_cat drop constraint HEMCAT_HEMTRON_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEMCAT_HEMTRON_FK_I');/*Índice*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_CAT'
	and	column_name	= 'IE_HIPERTROFIA_VE';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_cat drop column IE_HIPERTROFIA_VE');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_CAT_VASO'
	and	column_name	= 'NR_SEQ_CAT';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_cat_vaso drop column NR_SEQ_CAT');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEMCAVA_HEMCAT_FK'
	and	column_name	= 'NR_SEQ_CAT';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_cat_vaso drop constraint HEMCAVA_HEMCAT_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEMCAVA_HEMCAT_FK_I');/*Índice*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC'
	and	column_name	= 'NR_SEQ_PROC';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop column NR_SEQ_PROC');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEM_ATC_HEMPROC_FK'
	and	column_name	= 'NR_SEQ_PROC';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop constraint HEM_ATC_HEMPROC_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEM_ATC_HEMPROC_FK_I');/*Índice*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_CAT_LESAO'
	and	column_name	= 'IE_TORTUOSIDADE';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_cat_lesao drop column IE_TORTUOSIDADE');/*Atributo*/
		end;
	end if;
end if;

if (clock_timestamp() < to_date('25/11/2006','dd/mm/yyyy')) then
	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC_BALAO'
	and	column_name	= 'IE_KISSING_WIRE';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc_balao drop column IE_KISSING_WIRE');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC_BALAO'
	and	column_name	= 'IE_BUDY_WIRE';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc_balao drop column IE_BUDY_WIRE');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_PROC'
	and	column_name	= 'NR_SEQ_PROC_INTERNO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_proc drop column NR_SEQ_PROC_INTERNO');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEMPROC_PROINTE_FK'
	and	column_name	= 'NR_SEQ_PROC_INTERNO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_proc drop constraint HEMPROC_PROINTE_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEMPROC_PROINTE_FK_I');/*Índice*/
		end;
	end if;
end if;

if (clock_timestamp() < to_date('05/12/2006', 'dd/mm/yyyy')) then
	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC'
	and	column_name	= 'NR_SEQ_TIPO_CORDA_GUIA';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop column NR_SEQ_TIPO_CORDA_GUIA');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEM_ATC_HEMCORGT_FK'
	and	column_name	= 'NR_SEQ_TIPO_CORDA_GUIA';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop constraint HEM_ATC_HEMCORGT_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEM_ATC_HEMCORGT_FK_I');/*Índice*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC'
	and	column_name	= 'NR_SEQ_TIPO_CORDA_GUIA_RAMO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop column NR_SEQ_TIPO_CORDA_GUIA_RAMO');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEM_ATC_HEMCORGT_FK2'
	and	column_name	= 'NR_SEQ_TIPO_CORDA_GUIA_RAMO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop constraint HEM_ATC_HEMCORGT_FK2');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEM_ATC_HEMCORGT_FK2_I');/*Índice*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC'
	and	column_name	= 'NR_SEQ_CALIBRE_CORDA_GUIA';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop column NR_SEQ_CALIBRE_CORDA_GUIA');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEM_ATC_HEMCORGC_FK'
	and	column_name	= 'NR_SEQ_CALIBRE_CORDA_GUIA';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop constraint HEM_ATC_HEMCORGC_FK');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEM_ATC_HEMCORGC_FK_I');/*Índice*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_ATC'
	and	column_name	= 'NR_SEQ_CALIBRE_CORDA_GUIA_RAMO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop column NR_SEQ_CALIBRE_CORDA_GUIA_RAMO');/*Atributo*/
		end;
	end if;

	select	count(*)
	into STRICT	qt_registro_w
	from	user_cons_columns
	where	constraint_name = 'HEM_ATC_HEMCORGC_FK2'
	and	column_name	= 'NR_SEQ_CALIBRE_CORDA_GUIA_RAMO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_atc drop constraint HEM_ATC_HEMCORGC_FK2');/*Integridade*/
		CALL Exec_sql_Dinamico('Rafael', 'drop index HEM_ATC_HEMCORGC_FK2_I');/*Índice*/
		end;
	end if;

	CALL Exec_sql_Dinamico('Rafael', 'drop table HEM_AORTOGRAFIA_DESC');

	select	count(*)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'HEM_USIC'
	and	column_name	= 'IE_POS_INDICACAO';

	if (qt_registro_w > 0) then
		begin
		CALL Exec_sql_Dinamico('Rafael', 'alter table hem_usic drop column IE_POS_INDICACAO');/*Atributo*/
		end;
	end if;
end if;

END	;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE baca_ajustar_tabela_hem () FROM PUBLIC;

