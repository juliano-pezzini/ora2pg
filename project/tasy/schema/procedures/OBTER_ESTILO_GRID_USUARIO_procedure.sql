-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_estilo_grid_usuario ( cd_estabelecimento_p bigint, nm_usuario_p text, nm_tabela_p text, nr_seq_visao_p bigint, nr_seq_objeto_p bigint, ie_negrito_p INOUT text, ie_italico_p INOUT text, ie_negrito_italico_p INOUT text, ie_sublinhado_p INOUT text, ie_riscado_p INOUT text, ds_fonte_p INOUT text, ds_cor_p INOUT text, qt_tam_fonte_p INOUT bigint) AS $body$
BEGIN

select	coalesce(max(ie_negrito),'N'),
	coalesce(max(ie_italico),'N'),
	coalesce(max(ie_negrito_italico),'N'),
	coalesce(max(ie_sublinhado),'N'),
	coalesce(max(ie_riscado),'N'),
	max(ds_fonte),
	max(ds_cor),
	max(qt_tam_fonte)
into STRICT	ie_negrito_p,
        ie_italico_p,
        ie_negrito_italico_p,
        ie_sublinhado_p,
        ie_riscado_p,
        ds_fonte_p,
        ds_cor_p,
	qt_tam_fonte_p
from 	estilo_grid_usuario
where	nm_usuario_ref = nm_usuario_p
and	cd_estabelecimento = cd_estabelecimento_p
and (coalesce(nr_seq_objeto_p::text, '') = '' or nr_seq_objeto = nr_seq_objeto_p)
and (coalesce(nr_seq_visao_p::text, '') = '' or nr_seq_visao = nr_seq_visao_p)
and (coalesce(nm_tabela_p::text, '') = '' or nm_tabela = nm_tabela_p);

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_estilo_grid_usuario ( cd_estabelecimento_p bigint, nm_usuario_p text, nm_tabela_p text, nr_seq_visao_p bigint, nr_seq_objeto_p bigint, ie_negrito_p INOUT text, ie_italico_p INOUT text, ie_negrito_italico_p INOUT text, ie_sublinhado_p INOUT text, ie_riscado_p INOUT text, ds_fonte_p INOUT text, ds_cor_p INOUT text, qt_tam_fonte_p INOUT bigint) FROM PUBLIC;

