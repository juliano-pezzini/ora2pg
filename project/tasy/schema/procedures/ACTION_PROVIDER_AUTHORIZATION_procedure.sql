-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE action_provider_authorization (IE_ACTION_P text, NM_USUARIO_P text, CD_PROVIDER_P text, DS_DESCRIPTION_P text, CD_CODE_EXT_P text, ID_SESSION_P text) AS $body$
BEGIN
if (IE_ACTION_P = 'I') then
	insert into W_PROVIDER_AUTORIZATION(cd_provider,
										ds_description, 
										dt_atualizacao,
										nm_usuario,
										dt_atualizacao_nrec,
										nm_usuario_nrec,
										cd_code_ext,
										id_session)
										values (
										cd_provider_p,
										ds_description_p,
										clock_timestamp(),
										nm_usuario_p,
										clock_timestamp(),
										nm_usuario_p,
										cd_code_ext_p,
										id_session_p);
elsif (IE_ACTION_P = 'D') then
	delete from W_PROVIDER_AUTORIZATION where nm_usuario = NM_USUARIO_P;
end if;
commit;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE action_provider_authorization (IE_ACTION_P text, NM_USUARIO_P text, CD_PROVIDER_P text, DS_DESCRIPTION_P text, CD_CODE_EXT_P text, ID_SESSION_P text) FROM PUBLIC;

