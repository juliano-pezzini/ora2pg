-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_conteudo_seg_fkt_301 (nr_seq_dataset_p bigint, ds_retorno_p INOUT text) AS $body$
DECLARE


ds_segmento_w	varchar(4000);


BEGIN

begin
	select	'FKT+' ||
		OBTER_VALOR_301_SEQ('C301_11_INDIC_COBR','IE_INDICADOR',NR_SEQ_301_IDENT_PROCESSO) ||
		OBTER_VALOR_301_SEQ('C301_11_INDIC_COBR_PEDIDO','IE_PEDIDO',NR_SEQ_301_INDIC_COBR_PED) ||'+'||
		NR_TRANSACAO ||'+'||
		NR_IK_ORIGEM ||'+'||
		NR_IK_DESTINO ||chr(39)||chr(13)
	into STRICT	ds_segmento_w
	from	D301_SEGMENTO_FKT
	where	nr_seq_dataset	= nr_seq_dataset_p;
exception
when others then
	ds_segmento_w	:= null;
end;


ds_retorno_p	:= ds_segmento_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_conteudo_seg_fkt_301 (nr_seq_dataset_p bigint, ds_retorno_p INOUT text) FROM PUBLIC;

