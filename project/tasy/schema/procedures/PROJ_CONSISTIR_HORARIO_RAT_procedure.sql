-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE proj_consistir_horario_rat (dt_inicio_p timestamp, dt_fim_p timestamp, nr_seq_rat_p bigint, ds_erro_p INOUT text) AS $body$
DECLARE


qt_registros_w	bigint;

BEGIN


select 	count(*)
into STRICT	qt_registros_w
from	proj_rat_ativ
where	((dt_inicio_p between dt_inicio_ativ and dt_fim_ativ)
or (dt_fim_p between dt_inicio_ativ and dt_fim_ativ))
and	nr_seq_rat 	= nr_seq_rat_p;

if qt_registros_w > 0 then
	ds_erro_p	:= WHEB_MENSAGEM_PCK.get_texto(279188);
else
	ds_erro_p := '';
end if;


commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE proj_consistir_horario_rat (dt_inicio_p timestamp, dt_fim_p timestamp, nr_seq_rat_p bigint, ds_erro_p INOUT text) FROM PUBLIC;

