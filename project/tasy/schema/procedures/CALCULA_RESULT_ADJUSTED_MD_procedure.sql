-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE calcula_result_adjusted_md (qt_elem_proteina_p bigint, qt_diaria_aa_p bigint, qt_diaria_glutamina_p bigint, qt_kcal_proteina_p bigint, qt_qt_conversao_ml_p bigint, qt_glut_ratio_p INOUT bigint, qt_adjusted_glut_p INOUT bigint, qt_adjusted_aa_p INOUT bigint ) AS $body$
BEGIN
  if (qt_elem_proteina_p > 1) then
    qt_glut_ratio_p      := dividir_sem_round_md(qt_diaria_aa_p, qt_diaria_glutamina_p);
    qt_adjusted_glut_p   := dividir_sem_round_md(qt_kcal_proteina_p, ((qt_glut_ratio_p * (dividir_sem_round_md(coalesce(qt_qt_conversao_ml_p, 0) * 1.6, 100)) * 6.25 * 4) + 4));
    qt_adjusted_aa_p     := coalesce(qt_adjusted_glut_p,0) * coalesce(qt_glut_ratio_p,0);
  end if;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE calcula_result_adjusted_md (qt_elem_proteina_p bigint, qt_diaria_aa_p bigint, qt_diaria_glutamina_p bigint, qt_kcal_proteina_p bigint, qt_qt_conversao_ml_p bigint, qt_glut_ratio_p INOUT bigint, qt_adjusted_glut_p INOUT bigint, qt_adjusted_aa_p INOUT bigint ) FROM PUBLIC;

