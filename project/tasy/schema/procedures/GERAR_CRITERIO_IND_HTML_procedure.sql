-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gerar_criterio_ind_html ( ie_tipo_centro_p text, cd_tipo_rotina_p bigint, nr_seq_criterio_p bigint, ie_considera_cc_base_p text, nm_usuario_p text) AS $body$
DECLARE


ie_tipo_centro_w	bigint := 2;
cd_tipo_rotina_w	resultado_indicador.ie_rotina_obtencao%type;


BEGIN

select	ie_rotina_obtencao
into STRICT	cd_tipo_rotina_w
from	resultado_indicador
where	ie_forma_obtencao in ('S','B')
and 	nr_sequencia = cd_tipo_rotina_p;

if (ie_tipo_centro_p = 'T') then
	ie_tipo_centro_w := 0;
elsif (ie_tipo_centro_p = 'T') then
	ie_tipo_centro_w := 1;
end if;


CALL gerar_criterio_indicador(	nr_seq_criterio_p,
				cd_tipo_rotina_p,
				ie_tipo_centro_w,
				ie_considera_cc_base_p,
				cd_tipo_rotina_w,
				nm_usuario_p);

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_criterio_ind_html ( ie_tipo_centro_p text, cd_tipo_rotina_p bigint, nr_seq_criterio_p bigint, ie_considera_cc_base_p text, nm_usuario_p text) FROM PUBLIC;

