-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE duplicar_param_tesouraria ( cd_estabelecimento_p bigint, nm_usuario_p text ) AS $body$
DECLARE


cont_w	bigint;


BEGIN

insert into PARAMETRO_TESOURARIA(CD_ESTABELECIMENTO,
	CD_HISTORICO,
	CD_HISTORICO_CRED,
	DT_ATUALIZACAO,
	DT_ATUALIZACAO_NREC,
	IE_AGRUPA_LANC_CAIXA_DIA,
	IE_AGRUPA_TRANS_CONTAB,
	IE_COMPL_HISTORICO,
	IE_CONTAB_CP,
	IE_CONTAB_CR,
	IE_CONTAB_MONET_DOCTO,
	IE_CONTAB_MONET_REGRA,
	IE_CONTAB_TRANSF_CAIXA,
	IE_DT_CONTAB_TESOURARIA,
	IE_RECEB_SEM_TIT,
	IE_SALDO_DEP_CHEQUE,
	IE_SALDO_NEGATIVO,
	IE_USUARIO_CAIXA,
	NM_USUARIO,
	NM_USUARIO_NREC,
	NR_SEQ_CHEQUE_CP,
	NR_SEQ_CHEQUE_CR,
	NR_SEQ_CHEQUE_DEVOL,
	NR_SEQ_ESPECIE_CP,
	NR_SEQ_ESPECIE_CR,
	NR_SEQ_TRANS_ACRES_NEG,
	NR_SEQ_TRANS_ESCRIT,
	NR_SEQ_TRANS_TROCO,
	IE_CONTAB_NEG_CHEQUE,
	IE_DATA_DEVOL_CHEQUE,
	IE_CONTAB_TRANS_FIN_BAIXA)
SELECT	B.CD_ESTABELECIMENTO,
	CD_HISTORICO,
	CD_HISTORICO_CRED,
	clock_timestamp(),
	clock_timestamp(),
	IE_AGRUPA_LANC_CAIXA_DIA,
	IE_AGRUPA_TRANS_CONTAB,
	IE_COMPL_HISTORICO,
	IE_CONTAB_CP,
	IE_CONTAB_CR,
	IE_CONTAB_MONET_DOCTO,
	IE_CONTAB_MONET_REGRA,
	IE_CONTAB_TRANSF_CAIXA,
	IE_DT_CONTAB_TESOURARIA,
	IE_RECEB_SEM_TIT,
	IE_SALDO_DEP_CHEQUE,
	IE_SALDO_NEGATIVO,
	IE_USUARIO_CAIXA,
	NM_USUARIO_P,
	NM_USUARIO_P,
	NR_SEQ_CHEQUE_CP,
	NR_SEQ_CHEQUE_CR,
	NR_SEQ_CHEQUE_DEVOL,
	NR_SEQ_ESPECIE_CP,
	NR_SEQ_ESPECIE_CR,
	NR_SEQ_TRANS_ACRES_NEG,
	NR_SEQ_TRANS_ESCRIT,
	NR_SEQ_TRANS_TROCO,
	IE_CONTAB_NEG_CHEQUE,
	IE_DATA_DEVOL_CHEQUE,
	IE_CONTAB_TRANS_FIN_BAIXA
from	estabelecimento b,
	PARAMETRO_TESOURARIA a
where	a.cd_estabelecimento	<> b.cd_estabelecimento
and	a.cd_estabelecimento	= cd_estabelecimento_p
and	not exists (select 1 from PARAMETRO_TESOURARIA x where x.cd_estabelecimento = b.cd_estabelecimento);

commit;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE duplicar_param_tesouraria ( cd_estabelecimento_p bigint, nm_usuario_p text ) FROM PUBLIC;

