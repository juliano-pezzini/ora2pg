-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE tratar_erro_banco (ds_erro_p text) AS $body$
BEGIN

if (ds_erro_p like '%ORA-01000%') or	-- maximum open cursors exceeded tips
	(ds_erro_p like '%ORA-00257%') or	-- archiver error. Connect internal only, until freed tips
	(ds_erro_p like '%ORA-01654%') or	-- unable to extend index in tablespace
	(ds_erro_p like '%ORA-01653%') or	-- unable to extend table in tablespace string tips
	(ds_erro_p like '%ORA-01652%') or	-- unable to extend table in tablespace string tips
	(ds_erro_p like '%ORA-01502%') or 	-- index or partition of such index is in usable state tips
	(ds_erro_p like '%ORA-01157%') or 	--  cannot identify/lock data file 201 - see DBWR trace file
	(ds_erro_p like '%ORA-01110%') or 	-- data file 201:  /ora01/oradata/tasy/temp01.dbf
	(ds_erro_p like '%ORA-01187%') or	-- data file 201:  /ora01/oradata/tasy/temp01.dbf
	(ds_erro_p like '%ORA-01578%') or 	-- ORACLE data block corrupted
	(ds_erro_p like '%ORA-00376%') or 	-- ORACLE file 17 cannot be read at this time
	(ds_erro_p like '%ORA-01555%') or 	-- ollback segment number string with name "string" too small
	(ds_erro_p like '%ORA-04031%') or 	-- memória compartilhada shared pool
	(ds_erro_p like '%ORA-04031%') or 	-- memória compartilhada shared pool
	(ds_erro_p like '%ORA-01536%') or 	-- espaço de cota em disco excedido
	(ds_erro_p like '%ORA-24247%') then 	--  ACL CONTROL LIST
	CALL Wheb_mensagem_pck.exibir_mensagem_abort(279336, 'DS_ERRO_P=' || ds_erro_p);
end	if;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE tratar_erro_banco (ds_erro_p text) FROM PUBLIC;

