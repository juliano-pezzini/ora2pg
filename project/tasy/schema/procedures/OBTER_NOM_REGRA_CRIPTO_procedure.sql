-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_nom_regra_cripto ( ie_guia_p text, ie_forma_cripto_p INOUT text, ie_tipo_cripto_p INOUT text, ds_chave_p INOUT text ) AS $body$
DECLARE


ie_forma_cripto_w	nom_regra_cripto.ie_forma_cripto%type;
ie_tipo_cripto_w	nom_regra_cripto.ie_tipo_cripto%type;
ds_chave_w		nom_regra_cripto.ds_chave%type;


BEGIN

	if (ie_guia_p IS NOT NULL AND ie_guia_p::text <> '') then
		begin
		select  ie_forma_cripto,
			ie_tipo_cripto,
			ds_chave
		into STRICT 	ie_forma_cripto_w,
			ie_tipo_cripto_w,
			ds_chave_w
		from 	nom_regra_cripto
		where 	ie_norma = ie_guia_p;

		exception
			when others then
			ie_forma_cripto_w	:= null;
			ie_tipo_cripto_w	:= null;
			ds_chave_w	:= null;
		end;

	end if;

	ie_forma_cripto_p	:= ie_forma_cripto_w;
	ie_tipo_cripto_p	:= ie_tipo_cripto_w;
	ds_chave_p	:= ds_chave_w;


end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_nom_regra_cripto ( ie_guia_p text, ie_forma_cripto_p INOUT text, ie_tipo_cripto_p INOUT text, ds_chave_p INOUT text ) FROM PUBLIC;

