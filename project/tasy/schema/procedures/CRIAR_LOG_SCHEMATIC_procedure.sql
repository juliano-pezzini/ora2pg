-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE criar_log_schematic (ie_tipo_ativacao_p text, nr_sequencia_p bigint, dt_inicial_p timestamp, dt_final_p timestamp, nm_usuario_resp_p text, nm_usuario_p text) AS $body$
DECLARE

			 
/*Ativacao a partir do FUNCAO_SCHEMATICS*/
 
C01 CURSOR FOR 
	SELECT	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		1 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'FUNCAO_SCHEMATIC' 
	and	a.ds_chave_simples = nr_sequencia_p 
	and	trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and	ie_tipo_ativacao_p = 'FSCH' 
	
union all
 
	SELECT	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		2 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJETO_SCHEMATIC' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	objeto_schematic x 
				where	x.nr_seq_funcao_schematic = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p = 'FSCH' 
	order by nr_ordem, nm_tabela, dt_atualizacao;	
		 
/*Ativacao a partir do OBJETO_SCHEMATICS*/
 
C02 CURSOR FOR	 
	SELECT	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		2 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJETO_SCHEMATIC' 
	and	a.ds_chave_simples = to_char(nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('SCH','M','R','P','MR','C','MN','DDM','T') 
	
union all
 
	SELECT	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		3 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'DIC_OBJETO' 
	and	a.ds_chave_simples = to_char(nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('MI') 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		4 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'REGRA_CONDICAO' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	regra_condicao x 
				where	x.nr_seq_objeto = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('MI') 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		5 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'REGRA_CONDICAO_ITEM' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	REGRA_CONDICAO_ITEM x 
				where	x.nr_seq_regra in (	select	y.nr_sequencia 
											from	regra_condicao y 
											where	y.nr_seq_objeto = nr_sequencia_p))							 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('MI') 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		6 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJ_SCHEMATIC_EVENTO' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	obj_schematic_evento x 
				where	x.nr_seq_dic_objeto = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('MI') 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		7 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJ_SCHEMATIC_EVENTO_ACAO' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	OBJ_SCHEMATIC_EVENTO_ACAO x 
				where	x.nr_seq_obj_evento in (	select	y.nr_sequencia 
											from	OBJ_SCHEMATIC_EVENTO y 
											where	y.nr_seq_dic_objeto = nr_sequencia_p))							 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('MI') 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		6 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJETO_SCHEMATIC_PARAM' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	OBJETO_SCHEMATIC_PARAM x 
				where	x.nr_seq_obj_sch = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('T') 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		7 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJ_SCHEMATIC_ATIV_PARAM' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	OBJ_SCHEMATIC_ATIV_PARAM x 
				where	x.nr_seq_objeto = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C')	 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		8 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJETO_SCHEMATIC_PROP' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	OBJETO_SCHEMATIC_PROP x 
				where	x.nr_seq_objeto = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C')		 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		9 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'DIC_OBJETO_PROPERTY' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	DIC_OBJETO_PROPERTY x 
				where	x.nr_seq_obj_schematic = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C')		 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		10 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJETO_SCHEMATIC_ATIV' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	OBJETO_SCHEMATIC_ATIV x 
				where	x.nr_seq_objeto_schematic = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C')		 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		11 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJETO_SCHEMATIC_COND_ATIV' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	OBJETO_SCHEMATIC_COND_ATIV x 
				where	x.nr_seq_obj_ativacao in (	select	y.nr_sequencia 
											from	OBJETO_SCHEMATIC_ATIV y 
											where	y.nr_seq_objeto_schematic = nr_sequencia_p))							 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C') 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		12 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJ_SCHEMATIC_ATIV_PARAM' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	OBJ_SCHEMATIC_ATIV_PARAM x 
				where	x.nr_seq_obj_ativacao in (	select	y.nr_sequencia 
											from	OBJETO_SCHEMATIC_ATIV y 
											where	y.nr_seq_objeto_schematic = nr_sequencia_p))							 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr'))	 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C')	 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		13 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OPCOES_CRUD' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	OPCOES_CRUD x 
				where	x.nr_seq_objeto_schematic = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C')	 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		14 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'REGRA_CONDICAO' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	REGRA_CONDICAO x 
				where	x.nr_seq_opcao_crud in (	select	y.nr_sequencia 
											from	OPCOES_CRUD y 
											where	y.nr_seq_objeto_schematic = nr_sequencia_p))							 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr'))	 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C')		 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		15 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'REGRA_CONDICAO_ITEM' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	REGRA_CONDICAO_ITEM x 
				where	x.nr_seq_regra in (	select	y.nr_sequencia 
											from	REGRA_CONDICAO y 
											where	y.nr_seq_opcao_crud in (select	z.nr_sequencia 
																			from	OPCOES_CRUD z 
																			where	z.nr_seq_objeto_schematic = nr_sequencia_p))) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr'))	 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C')	 
	
union all
 
	select	a.nm_tabela, 
		a.dt_atualizacao, 
		a.nm_usuario, 
		b.nm_atributo, 
		substr(b.ds_valor_old,1,255) ds_valor_old, 
		substr(b.ds_valor_new,1,255) ds_valor_new, 
		16 nr_ordem 
	from	tasy_log_alteracao a, 
		tasy_log_alt_campo b 
	where	a.nr_sequencia = b.nr_seq_log_alteracao 
	and	a.nm_tabela = 'OBJETO_SCHEMATIC_LEGENDA' 
	and	a.ds_chave_simples in ( select	to_char(x.nr_sequencia) 
				from	OBJETO_SCHEMATIC_LEGENDA x 
				where	x.nr_seq_objeto = nr_sequencia_p) 
	and trunc(b.dt_atualizacao) between trunc(to_date(dt_inicial_p,'dd/mm/rrrr')) and trunc(to_date(dt_final_p,'dd/mm/rrrr')) 
	and ((upper(b.nm_usuario) = upper(nm_usuario_resp_p)) or (coalesce(nm_usuario_resp_p::text, '') = '')) 
	and ie_tipo_ativacao_p in ('C')		 
	order by nr_ordem, nm_tabela, dt_atualizacao;
	
BEGIN 
 
delete from log_schematic_w;
commit;
 
if (ie_tipo_ativacao_p = 'FSCH') then 
	for r_c01_w in C01 loop 
		 
		insert into log_schematic_w(nr_sequencia, 
					nm_tabela, 
					dt_alteracao, 
					nm_usuario_resp, 
					nm_atributo, 
					ds_valor_old, 
					ds_valor_new, 
					nr_ordem) 
				values (nextval('log_schematic_w_seq'), 
					r_c01_w.nm_tabela, 
					r_c01_w.dt_atualizacao, 
					r_c01_w.nm_usuario, 
					r_c01_w.nm_atributo, 
					r_c01_w.ds_valor_old, 
					r_c01_w.ds_valor_new, 
					r_c01_w.nr_ordem);
		commit;
		 
	end loop;
else 
	for r_c01_w in C02 loop 
		 
		insert into log_schematic_w(nr_sequencia, 
					nm_tabela, 
					dt_alteracao, 
					nm_usuario_resp, 
					nm_atributo, 
					ds_valor_old, 
					ds_valor_new, 
					nr_ordem) 
				values (nextval('log_schematic_w_seq'), 
					r_c01_w.nm_tabela, 
					r_c01_w.dt_atualizacao, 
					r_c01_w.nm_usuario, 
					r_c01_w.nm_atributo, 
					r_c01_w.ds_valor_old, 
					r_c01_w.ds_valor_new, 
					r_c01_w.nr_ordem);
		commit;
		 
	end loop;
end if;	
	 
commit;
 
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE criar_log_schematic (ie_tipo_ativacao_p text, nr_sequencia_p bigint, dt_inicial_p timestamp, dt_final_p timestamp, nm_usuario_resp_p text, nm_usuario_p text) FROM PUBLIC;

