-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pls_obter_regra_prest_trib ( nr_seq_prestador_p bigint, cd_tributo_p bigint, ie_valor_base_trib_nf_p INOUT text) AS $body$
DECLARE


/*++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Finalidade:
-------------------------------------------------------------------------------------------------------------------
Locais de chamada direta:
[  ]  Objetos do dicionário [  ] Tasy (Delphi/Java) [  ] Portal [  ]  Relatórios [ ] Outros:
 ------------------------------------------------------------------------------------------------------------------
Pontos de atenção:
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/ie_valor_base_trib_nf_w		varchar(2) := 'N';

C01 CURSOR FOR
	SELECT	ie_valor_base_trib_nf
	from	pls_regra_prest_trib	a
	where (a.nr_seq_prestador = nr_seq_prestador_p or coalesce(a.nr_seq_prestador::text, '') = '')
	and (a.cd_tributo = cd_tributo_p or coalesce(a.cd_tributo::text, '') = '')
	order by
		coalesce(a.nr_seq_prestador, 0);


BEGIN
ie_valor_base_trib_nf_p	:= 'N';

open C01;
loop
fetch C01 into
	ie_valor_base_trib_nf_w;
EXIT WHEN NOT FOUND; /* apply on C01 */
end loop;
close C01;

ie_valor_base_trib_nf_p	:= coalesce(ie_valor_base_trib_nf_w, 'N');

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_obter_regra_prest_trib ( nr_seq_prestador_p bigint, cd_tributo_p bigint, ie_valor_base_trib_nf_p INOUT text) FROM PUBLIC;

