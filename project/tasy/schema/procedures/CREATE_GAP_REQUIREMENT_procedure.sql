-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE create_gap_requirement ( nr_seq_gap_p LATAM_REQUISITO.NR_SEQ_GAP%type, nr_seq_modulo_p LATAM_REQUISITO.NR_SEQ_MODULO%type, cd_requisito_p LATAM_REQUISITO.CD_REQUISITO%type, ds_nome_requisito_p LATAM_REQUISITO.DS_NOME_REQUISITO%type, ie_importancia_desenv_p LATAM_REQUISITO.IE_IMPORTANCIA_DESENV%type, ie_situacao_p LATAM_REQUISITO.IE_SITUACAO%type, ie_classificacao_p LATAM_REQUISITO.IE_CLASSIFICACAO%type, ie_importancia_cliente_p LATAM_REQUISITO.IE_IMPORTANCIA_CLIENTE%type, cd_responsavel_p LATAM_REQUISITO.CD_RESPONSAVEL%type, cd_consultor_resp_p LATAM_REQUISITO.CD_CONSULTOR_RESP%type, ds_problema_solucionar_p LATAM_REQUISITO.DS_PROBLEMA_SOLUCIONAR%type, ds_processo_atual_p LATAM_REQUISITO.DS_PROCESSO_ATUAL%type, ds_processo_esperado_p LATAM_REQUISITO.DS_PROCESSO_ESPERADO%type, ds_impacto_n_impl_p LATAM_REQUISITO.DS_IMPACTO_N_IMPL%type, ds_requisito_p LATAM_REQUISITO.DS_REQUISITO%type, ie_importancia_philips_p LATAM_REQUISITO.IE_IMPORTANCIA_PHILIPS%type, nr_seq_req_p INOUT LATAM_REQUISITO.NR_SEQUENCIA%type, cod_documento_p LATAM_REQUISITO.COD_DOCUMENTO%type default null, ds_processo_p LATAM_REQUISITO.DS_PROCESSO%type default null, ds_sub_processo_p LATAM_REQUISITO.DS_SUB_PROCESSO%type default null, ie_golive_p LATAM_REQUISITO.IE_GOLIVE%type default null, ie_alta_complex_p LATAM_REQUISITO.IE_ALTA_COMPLEX%type default null, ie_seg_paciente_p LATAM_REQUISITO.IE_SEG_PACIENTE%type default null, cd_processo_p LATAM_REQUISITO.CD_PROCESSO%type default null, cd_subprocesso_p LATAM_REQUISITO.CD_SUBPROCESSO%type default null) AS $body$
DECLARE


dt_actual_w   CONSTANT LATAM_REQUISITO.DT_ATUALIZACAO%type := clock_timestamp();
nm_usuario_w  CONSTANT LATAM_REQUISITO.NM_USUARIO%type     := WHEB_USUARIO_PCK.GET_NM_USUARIO;


BEGIN

  SELECT nextval('latam_requisito_seq')
  INTO STRICT nr_seq_req_p
;

  INSERT into LATAM_REQUISITO(
    NR_SEQUENCIA,
    DT_ATUALIZACAO,
    NM_USUARIO,
    DT_ATUALIZACAO_NREC,
    NM_USUARIO_NREC,
    IE_LIBERAR_DESENV,
    IE_TYPE_REQUIREMENT,
    NR_SEQ_GAP,
    NR_SEQ_MODULO,
    CD_REQUISITO,
    DS_NOME_REQUISITO,
    IE_IMPORTANCIA_DESENV,
    IE_SITUACAO,
    IE_CLASSIFICACAO,
    IE_IMPORTANCIA_CLIENTE,
    CD_RESPONSAVEL,
    CD_CONSULTOR_RESP,
    DS_PROBLEMA_SOLUCIONAR,
    DS_PROCESSO_ATUAL,
    DS_PROCESSO_ESPERADO,
    DS_IMPACTO_N_IMPL,
    DS_REQUISITO,
    IE_IMPORTANCIA_PHILIPS,
    NR_SEQ_MILESTONE,
    COD_DOCUMENTO,
    DS_PROCESSO,
    DS_SUB_PROCESSO,
    IE_GOLIVE,
    IE_ALTA_COMPLEX,
    IE_SEG_PACIENTE,
    CD_PROCESSO,
    CD_SUBPROCESSO
  ) VALUES (
    nr_seq_req_p,
    dt_actual_w,
    nm_usuario_w,
    dt_actual_w,
    nm_usuario_w,
    'D',
    'BR',
    nr_seq_gap_p,
    nr_seq_modulo_p,
    cd_requisito_p,
    ds_nome_requisito_p,
    ie_importancia_desenv_p,
    ie_situacao_p,
    ie_classificacao_p,
    ie_importancia_cliente_p,
    cd_responsavel_p,
    cd_consultor_resp_p,
    ds_problema_solucionar_p,
    ds_processo_atual_p,
    ds_processo_esperado_p,
    ds_impacto_n_impl_p,
    ds_requisito_p,
    ie_importancia_philips_p,
    10,
    cod_documento_p,
    ds_processo_p,
    ds_sub_processo_p,
    ie_golive_p,
    ie_alta_complex_p,
    ie_seg_paciente_p,
    cd_processo_p,
    cd_subprocesso_p
  );

  COMMIT;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE create_gap_requirement ( nr_seq_gap_p LATAM_REQUISITO.NR_SEQ_GAP%type, nr_seq_modulo_p LATAM_REQUISITO.NR_SEQ_MODULO%type, cd_requisito_p LATAM_REQUISITO.CD_REQUISITO%type, ds_nome_requisito_p LATAM_REQUISITO.DS_NOME_REQUISITO%type, ie_importancia_desenv_p LATAM_REQUISITO.IE_IMPORTANCIA_DESENV%type, ie_situacao_p LATAM_REQUISITO.IE_SITUACAO%type, ie_classificacao_p LATAM_REQUISITO.IE_CLASSIFICACAO%type, ie_importancia_cliente_p LATAM_REQUISITO.IE_IMPORTANCIA_CLIENTE%type, cd_responsavel_p LATAM_REQUISITO.CD_RESPONSAVEL%type, cd_consultor_resp_p LATAM_REQUISITO.CD_CONSULTOR_RESP%type, ds_problema_solucionar_p LATAM_REQUISITO.DS_PROBLEMA_SOLUCIONAR%type, ds_processo_atual_p LATAM_REQUISITO.DS_PROCESSO_ATUAL%type, ds_processo_esperado_p LATAM_REQUISITO.DS_PROCESSO_ESPERADO%type, ds_impacto_n_impl_p LATAM_REQUISITO.DS_IMPACTO_N_IMPL%type, ds_requisito_p LATAM_REQUISITO.DS_REQUISITO%type, ie_importancia_philips_p LATAM_REQUISITO.IE_IMPORTANCIA_PHILIPS%type, nr_seq_req_p INOUT LATAM_REQUISITO.NR_SEQUENCIA%type, cod_documento_p LATAM_REQUISITO.COD_DOCUMENTO%type default null, ds_processo_p LATAM_REQUISITO.DS_PROCESSO%type default null, ds_sub_processo_p LATAM_REQUISITO.DS_SUB_PROCESSO%type default null, ie_golive_p LATAM_REQUISITO.IE_GOLIVE%type default null, ie_alta_complex_p LATAM_REQUISITO.IE_ALTA_COMPLEX%type default null, ie_seg_paciente_p LATAM_REQUISITO.IE_SEG_PACIENTE%type default null, cd_processo_p LATAM_REQUISITO.CD_PROCESSO%type default null, cd_subprocesso_p LATAM_REQUISITO.CD_SUBPROCESSO%type default null) FROM PUBLIC;

