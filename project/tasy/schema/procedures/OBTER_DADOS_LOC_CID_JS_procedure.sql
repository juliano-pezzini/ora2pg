-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_dados_loc_cid_js ( cd_procedimento_p bigint, ie_origem_proced_p bigint, cd_convenio_p bigint, nm_usuario_p text, ds_procedimento_p INOUT text, ds_convenio_p INOUT text, ie_tipo_conv_p INOUT text) AS $body$
BEGIN

ds_procedimento_p 	:= '';
ds_convenio_p		:= '';
ie_tipo_conv_p		:= '';

if (cd_convenio_p > 0 and
	ie_origem_proced_p > 0) then

	select 	substr(max(ds_procedimento),1,255)
	into STRICT	ds_procedimento_p
	from 	procedimento
	where 	cd_procedimento = cd_procedimento_p
	and 	ie_origem_proced = ie_origem_proced_p;

end if;

if (cd_convenio_p > 0) then
	select 	ds_convenio,
		ie_tipo_convenio
	into STRICT	ds_convenio_p,
		ie_tipo_conv_p
	from 	convenio
	where 	cd_convenio = cd_convenio_p;
end if;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_dados_loc_cid_js ( cd_procedimento_p bigint, ie_origem_proced_p bigint, cd_convenio_p bigint, nm_usuario_p text, ds_procedimento_p INOUT text, ds_convenio_p INOUT text, ie_tipo_conv_p INOUT text) FROM PUBLIC;

