-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_switch_schematic4test (DS_VALUE_P INOUT text, VARIAVEL_P text) AS $body$
DECLARE

DS_VALUE_W	varchar(2);


BEGIN
IF (VARIAVEL_P IS NOT NULL AND VARIAVEL_P::text <> '') THEN
      SELECT switch1.IE_SWITCH
          INTO STRICT DS_VALUE_W
      FROM SCHEM_TEST_SWITCH switch1
      WHERE (switch1.NR_INDEX IS NOT NULL AND switch1.NR_INDEX::text <> '')
      AND switch1.NR_INDEX = (CASE VARIAVEL_P WHEN 'switchScriptBackup' THEN 30 
                                        WHEN 'switchAutoSchedule' THEN 20 
                                        WHEN 'switchScriptCreationViewer' THEN 25
                                        WHEN 'switchAnalytics' THEN 35
                                        WHEN 'switchAutoReTestFailure' THEN 40
                                        WHEN 'switchSaveStepLog' THEN 45
                                        WHEN 'switchRunner' THEN 1
                                        WHEN 'switchCleaner' THEN 50
                                        WHEN 'switchAutoReset' THEN 55
                                        WHEN 'switchHardReset' THEN 65
                                        WHEN 'switchAutoCreateValueField' THEN 60
                                        WHEN 'switchOutlineElements' THEN 70
                                        WHEN 'switchScriptCache' THEN 80
                                        WHEN 'switchRemoveLogFiles' THEN 85 
                                        WHEN 'switchJenkinsNightBuilding' THEN 130 
                                        WHEN 'switchSnapshot' THEN 165 
                                        ELSE -1                                        
                        END);
    END IF;

      DS_VALUE_P := DS_VALUE_W;

EXCEPTION
  WHEN no_data_found THEN
    DS_VALUE_P := -1;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_switch_schematic4test (DS_VALUE_P INOUT text, VARIAVEL_P text) FROM PUBLIC;

