-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE intpd_gerar_item_oc ( nm_usuario_p text, nr_seq_ordem_compra_p bigint, cd_material_p text, cd_unidade_medida_compra_p text, cd_local_estoque_p text, cd_centro_custo_p text, cd_conta_contabil_p text, vl_unitario_material_p bigint, qt_material_p bigint, pr_descontos_p bigint, pr_desc_financ_p bigint, vl_desconto_p bigint, ds_material_direto_p text, ds_observacao_p text, ds_obs_item_forn_p text, nr_seq_marca_p text, ds_marca_p text, nr_cot_compra_p bigint, nr_item_cot_compra_p bigint, nr_solic_compra_p bigint, nr_item_solic_compra_p bigint, qt_conv_unid_fornec_p bigint, nr_seq_conta_financ_p text, nr_seq_conta_bco_p text, nr_seq_criterio_rateio_p text, ie_servico_realizado_p text, dt_validade_p timestamp, nr_serie_material_p text, dt_inicio_garantia_p timestamp, dt_fim_garantia_p timestamp, qt_dias_garantia_p bigint, ds_lote_p text, nr_sequencia_p INOUT bigint) AS $body$
DECLARE


nr_sequencia_w					intpd_ordem_compra_item.nr_sequencia%type;


BEGIN

select 	nextval('intpd_ordem_compra_item_seq')
into STRICT	nr_sequencia_w
;

insert into intpd_ordem_compra_item(
	nr_sequencia,
	dt_atualizacao,
	nm_usuario,
	dt_atualizacao_nrec,
	nm_usuario_nrec,
	nr_seq_ordem_compra,
	cd_material,
	cd_unidade_medida_compra,
	cd_local_estoque,
	cd_centro_custo,
	cd_conta_contabil,
	vl_unitario_material,
	qt_material,
	pr_descontos,
	pr_desc_financ,
	vl_desconto,
	ds_material_direto,
	ds_observacao,
	ds_obs_item_forn,
	nr_seq_marca,
	ds_marca,
	nr_cot_compra,
	nr_item_cot_compra,
	nr_solic_compra,
	nr_item_solic_compra,
	qt_conv_unid_fornec,
	nr_seq_conta_financ,
	nr_seq_conta_bco,
	nr_seq_criterio_rateio,
	ie_servico_realizado,
	dt_validade,
	nr_serie_material,
	dt_inicio_garantia,
	dt_fim_garantia,
	qt_dias_garantia,
	ds_lote)
values (	nr_sequencia_w,
	clock_timestamp(),
	nm_usuario_p,
	clock_timestamp(),
	nm_usuario_p,
	nr_seq_ordem_compra_p,
	cd_material_p,
	cd_unidade_medida_compra_p,
	cd_local_estoque_p,
	cd_centro_custo_p,
	cd_conta_contabil_p,
	vl_unitario_material_p,
	qt_material_p,
	pr_descontos_p,
	pr_desc_financ_p,
	vl_desconto_p,
	ds_material_direto_p,
	ds_observacao_p,
	ds_obs_item_forn_p,
	nr_seq_marca_p,
	ds_marca_p,
	nr_cot_compra_p,
	nr_item_cot_compra_p,
	nr_solic_compra_p,
	nr_item_solic_compra_p,
	qt_conv_unid_fornec_p,
	nr_seq_conta_financ_p,
	nr_seq_conta_bco_p,
	nr_seq_criterio_rateio_p,
	ie_servico_realizado_p,
	dt_validade_p,
	nr_serie_material_p,
	dt_inicio_garantia_p,
	dt_fim_garantia_p,
	qt_dias_garantia_p,
	ds_lote_p);

commit;

nr_sequencia_p := nr_sequencia_w;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE intpd_gerar_item_oc ( nm_usuario_p text, nr_seq_ordem_compra_p bigint, cd_material_p text, cd_unidade_medida_compra_p text, cd_local_estoque_p text, cd_centro_custo_p text, cd_conta_contabil_p text, vl_unitario_material_p bigint, qt_material_p bigint, pr_descontos_p bigint, pr_desc_financ_p bigint, vl_desconto_p bigint, ds_material_direto_p text, ds_observacao_p text, ds_obs_item_forn_p text, nr_seq_marca_p text, ds_marca_p text, nr_cot_compra_p bigint, nr_item_cot_compra_p bigint, nr_solic_compra_p bigint, nr_item_solic_compra_p bigint, qt_conv_unid_fornec_p bigint, nr_seq_conta_financ_p text, nr_seq_conta_bco_p text, nr_seq_criterio_rateio_p text, ie_servico_realizado_p text, dt_validade_p timestamp, nr_serie_material_p text, dt_inicio_garantia_p timestamp, dt_fim_garantia_p timestamp, qt_dias_garantia_p bigint, ds_lote_p text, nr_sequencia_p INOUT bigint) FROM PUBLIC;

