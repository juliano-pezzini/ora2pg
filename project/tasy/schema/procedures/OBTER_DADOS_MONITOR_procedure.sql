-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_dados_monitor ( nm_usua_p text, nm_maquina_p text, nm_componente_p text, cd_perfil_p bigint, cd_estab_p bigint, qt_esquerda_p INOUT bigint, qt_topo_p INOUT bigint, qt_altura_p INOUT bigint, qt_largura_p INOUT bigint, ds_fonte_p INOUT text, ie_italico_p INOUT text, ie_negrito_p INOUT text, ie_sublinhado_p INOUT text, ie_riscado_p INOUT text, ie_centralizar_p INOUT text, ds_cor_p INOUT text, qt_tamanho_fonte_p INOUT bigint, ie_quebra_linha_p INOUT text, ie_componente_adicional_p INOUT text, nm_atributo_p INOUT text) AS $body$
DECLARE


qt_esquerda_w				integer;
qt_topo_w				integer;
qt_altura_w				integer;
qt_largura_w				integer;
ds_fonte_w				varchar(20);
ie_italico_w				varchar(1);
ie_negrito_w				varchar(1);
ie_sublinhado_w				varchar(1);
ie_riscado_w				varchar(1);
ie_centralizar_w			varchar(1);
ds_cor_w				varchar(20);
qt_tamanho_fonte_w			integer;
ie_quebra_linha_w			varchar(1);
ie_componente_adicional_w		varchar(1);
nm_atributo_w				varchar(30);


BEGIN
begin
select  qt_esquerda,
	qt_topo,
	qt_altura,
	qt_largura,
	ds_fonte,
	ie_italico,
	ie_negrito,
	ie_sublinhado,
	ie_riscado,
	ie_centralizar,
	ds_cor,
	qt_tamanho_fonte,
	ie_quebra_linha,
	ie_componente_adicional,
	nm_atributo
into STRICT	qt_esquerda_w,
	qt_topo_w,
	qt_altura_w,
	qt_largura_w,
	ds_fonte_w,
	ie_italico_w,
	ie_negrito_w,
	ie_sublinhado_w,
	ie_riscado_w,
	ie_centralizar_w,
	ds_cor_w,
	qt_tamanho_fonte_w,
	ie_quebra_linha_w,
	ie_componente_adicional_w,
	nm_atributo_w
from    monitor_senha_custom
where   nm_componente = nm_componente_p
and (nm_usuario = nm_usua_p);
exception
	when others then
		begin
		select  qt_esquerda,
			qt_topo,
			qt_altura,
			qt_largura,
			ds_fonte,
			ie_italico,
			ie_negrito,
			ie_sublinhado,
			ie_riscado,
			ie_centralizar,
			ds_cor,
			qt_tamanho_fonte,
			ie_quebra_linha,
			ie_componente_adicional,
			nm_atributo
		into STRICT	qt_esquerda_w,
			qt_topo_w,
			qt_altura_w,
			qt_largura_w,
			ds_fonte_w,
			ie_italico_w,
			ie_negrito_w,
			ie_sublinhado_w,
			ie_riscado_w,
			ie_centralizar_w,
			ds_cor_w,
			qt_tamanho_fonte_w,
			ie_quebra_linha_w,
			ie_componente_adicional_w,
			nm_atributo_w
		from    monitor_senha_custom
		where   nm_componente = nm_componente_p
		and      ((coalesce(nm_maquina::text, '') = '') or (nm_maquina = nm_maquina_p));
		exception
			when others then
				begin
				select  qt_esquerda,
					qt_topo,
					qt_altura,
					qt_largura,
					ds_fonte,
					ie_italico,
					ie_negrito,
					ie_sublinhado,
					ie_riscado,
					ie_centralizar,
					ds_cor,
					qt_tamanho_fonte,
					ie_quebra_linha,
					ie_componente_adicional,
					nm_atributo
				into STRICT	qt_esquerda_w,
					qt_topo_w,
					qt_altura_w,
					qt_largura_w,
					ds_fonte_w,
					ie_italico_w,
					ie_negrito_w,
					ie_sublinhado_w,
					ie_riscado_w,
					ie_centralizar_w,
					ds_cor_w,
					qt_tamanho_fonte_w,
					ie_quebra_linha_w,
					ie_componente_adicional_w,
					nm_atributo_w
				from    monitor_senha_custom
				where   nm_componente = nm_componente_p
				and (cd_perfil = cd_perfil_p);
				exception
					when others then
						begin
						select  qt_esquerda,
							qt_topo,
							qt_altura,
							qt_largura,
							ds_fonte,
							ie_italico,
							ie_negrito,
							ie_sublinhado,
							ie_riscado,
							ie_centralizar,
							ds_cor,
							qt_tamanho_fonte,
							ie_quebra_linha,
							ie_componente_adicional,
							nm_atributo
						into STRICT	qt_esquerda_w,
							qt_topo_w,
							qt_altura_w,
							qt_largura_w,
							ds_fonte_w,
							ie_italico_w,
							ie_negrito_w,
							ie_sublinhado_w,
							ie_riscado_w,
							ie_centralizar_w,
							ds_cor_w,
							qt_tamanho_fonte_w,
							ie_quebra_linha_w,
							ie_componente_adicional_w,
							nm_atributo_w
						from    monitor_senha_custom
						where   nm_componente = nm_componente_p
						and (cd_estabelecimento = cd_estab_p);
						exception
							when others then
							null;
						end;
				end;
		end;
end;
qt_esquerda_p			:= qt_esquerda_w;
qt_topo_p			:= qt_topo_w;
qt_altura_p			:= qt_altura_w;
qt_largura_p			:= qt_largura_w;
ds_fonte_p			:= ds_fonte_w;
ie_italico_p			:= ie_italico_w;
ie_negrito_p			:= ie_negrito_w;
ie_sublinhado_p			:= ie_sublinhado_w;
ie_riscado_p			:= ie_riscado_w;
ie_centralizar_p		:= ie_centralizar_w;
ds_cor_p			:= ds_cor_w;
qt_tamanho_fonte_p		:= qt_tamanho_fonte_w;
ie_quebra_linha_p		:= ie_quebra_linha_w;
ie_componente_adicional_p	:= ie_componente_adicional_w;
nm_atributo_p			:= nm_atributo_w;
commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_dados_monitor ( nm_usua_p text, nm_maquina_p text, nm_componente_p text, cd_perfil_p bigint, cd_estab_p bigint, qt_esquerda_p INOUT bigint, qt_topo_p INOUT bigint, qt_altura_p INOUT bigint, qt_largura_p INOUT bigint, ds_fonte_p INOUT text, ie_italico_p INOUT text, ie_negrito_p INOUT text, ie_sublinhado_p INOUT text, ie_riscado_p INOUT text, ie_centralizar_p INOUT text, ds_cor_p INOUT text, qt_tamanho_fonte_p INOUT bigint, ie_quebra_linha_p INOUT text, ie_componente_adicional_p INOUT text, nm_atributo_p INOUT text) FROM PUBLIC;

