-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gerar_reserva_hemo_agenda ( nr_seq_agenda_p bigint, cd_pessoa_fisica_p INOUT text, nr_atendimento_p INOUT bigint, cd_medico_p INOUT text, cd_convenio_p INOUT bigint, cd_procedimento_p INOUT bigint, ie_origem_proced_p INOUT bigint) AS $body$
BEGIN
begin
select	cd_pessoa_fisica,
	nr_atendimento,
	cd_medico,
	cd_convenio,
	cd_procedimento,
	ie_origem_proced
into STRICT	cd_pessoa_fisica_p,
	nr_atendimento_p,
	cd_medico_p,
	cd_convenio_p,
	cd_procedimento_p,
	ie_origem_proced_p
from	agenda_paciente
where	nr_sequencia	=	nr_seq_agenda_p;
exception when others then
	begin
	cd_pessoa_fisica_p	:= null;
	nr_atendimento_p	:= null;
	cd_medico_p		:= null;
	cd_convenio_p		:= null;
	cd_procedimento_p	:= null;
	ie_origem_proced_p	:= null;
	end;
end;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_reserva_hemo_agenda ( nr_seq_agenda_p bigint, cd_pessoa_fisica_p INOUT text, nr_atendimento_p INOUT bigint, cd_medico_p INOUT text, cd_convenio_p INOUT bigint, cd_procedimento_p INOUT bigint, ie_origem_proced_p INOUT bigint) FROM PUBLIC;

