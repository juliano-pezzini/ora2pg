-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE inserir_observacao_adep_js ( nr_seq_solucao_p bigint, cd_estabelecimento_p bigint, nr_atendimento_p bigint, ie_tipo_item_p text, cd_item_p text, cd_intervalo_p text, qt_item_p bigint, qt_hora_prescricao_p bigint, nr_prescricoes_p text, ie_laboratorio_p text, ds_observacao_p text, nm_usuario_p text, nr_seq_proc_interno_p bigint, ie_pend_liberacao_p text, nr_seq_horario_p bigint, ie_acm_sn_p text, nr_prescricao_p bigint, nr_seq_item_p bigint, ds_componentes_p text, nr_seq_tipo_obs_p bigint, nr_seq_prot_glic_p bigint) AS $body$
DECLARE

 
ie_tipo_solucao_w	smallint;


BEGIN 
 
ie_tipo_solucao_w	:= 0;
if (ie_tipo_item_p = 'SOL') then 
	ie_tipo_solucao_w	:= 1;
elsif (ie_tipo_item_p = 'SNE') then 
	ie_tipo_solucao_w	:= 2;
elsif (ie_tipo_item_p = 'HM') then 
	ie_tipo_solucao_w	:= 3;
elsif (ie_tipo_item_p = 'NPA') then 
	ie_tipo_solucao_w	:= 4;
elsif (ie_tipo_item_p = 'NPN') then 
	ie_tipo_solucao_w	:= 5;
elsif (ie_tipo_item_p = 'NAN') then 
	ie_tipo_solucao_w	:= 6;
end if;
 
if (ie_tipo_solucao_w <> 0) then 
	begin 
	CALL inserir_observacao_adep_sol( 
		ie_tipo_solucao_w, 
		nr_prescricao_p, 
		nr_seq_solucao_p, 
		ds_observacao_p, 
		nm_usuario_p, 
		nr_seq_tipo_obs_p);
	end;
end if;
 
CALL inserir_observacao_adep(cd_estabelecimento_p, 
						nr_atendimento_p, 
						ie_tipo_item_p, 
						cd_item_p, 
						cd_intervalo_p, 
						qt_item_p, 
						qt_hora_prescricao_p, 
						nr_prescricoes_p, 
						ie_laboratorio_p, 
						ds_observacao_p, 
						nm_usuario_p, 
						nr_seq_proc_interno_p, 
						ie_pend_liberacao_p, 
						nr_seq_horario_p, 
						ie_acm_sn_p, 
						nr_prescricao_p, 
						nr_seq_item_p, 
						ds_componentes_p, 
						nr_seq_tipo_obs_p, 
						nr_seq_prot_glic_p);
 
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE inserir_observacao_adep_js ( nr_seq_solucao_p bigint, cd_estabelecimento_p bigint, nr_atendimento_p bigint, ie_tipo_item_p text, cd_item_p text, cd_intervalo_p text, qt_item_p bigint, qt_hora_prescricao_p bigint, nr_prescricoes_p text, ie_laboratorio_p text, ds_observacao_p text, nm_usuario_p text, nr_seq_proc_interno_p bigint, ie_pend_liberacao_p text, nr_seq_horario_p bigint, ie_acm_sn_p text, nr_prescricao_p bigint, nr_seq_item_p bigint, ds_componentes_p text, nr_seq_tipo_obs_p bigint, nr_seq_prot_glic_p bigint) FROM PUBLIC;

