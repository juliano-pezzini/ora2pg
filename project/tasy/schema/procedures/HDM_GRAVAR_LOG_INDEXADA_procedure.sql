-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE hdm_gravar_log_indexada (cd_evento_p text default 'GM', ds_observacao_p text DEFAULT NULL, dt_log_p timestamp DEFAULT NULL, nm_usuario_p text DEFAULT NULL, nr_seq_apresentacao_p bigint DEFAULT NULL) AS $body$
DECLARE


nr_seq_log_integracao_w bigint;
ds_observacao_w	 varchar(4000);


BEGIN
	nr_seq_log_integracao_w := gravar_log_integracao(nm_usuario_p, 679, '', 'S', 'N', nr_seq_log_integracao_w);

	insert into log_integracao_evento(nr_sequencia,
					  nr_seq_log,
					  dt_atualizacao,
					  nm_usuario,
					  dt_atualizacao_nrec,
					  nm_usuario_nrec,
					  ie_tipo_evento,
					  cd_evento,
					  ie_envio_retorno,
					  ds_observacao,
					  nr_seq_apresentacao)
					  values (
					  nextval('log_integracao_evento_seq'),
					  nr_seq_log_integracao_w,
					  dt_log_p,
					  nm_usuario_p,
					  dt_log_p,
					  nm_usuario_p,
					  'I',
					  cd_evento_p,
					  'R',
					  substr(ds_observacao_p,1,4000),
					  nr_seq_apresentacao_p);

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE hdm_gravar_log_indexada (cd_evento_p text default 'GM', ds_observacao_p text DEFAULT NULL, dt_log_p timestamp DEFAULT NULL, nm_usuario_p text DEFAULT NULL, nr_seq_apresentacao_p bigint DEFAULT NULL) FROM PUBLIC;

