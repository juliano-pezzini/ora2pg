-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE duplicar_oft_receita_oculos (nr_sequencia_p bigint, nr_seq_consulta_p bigint, cd_profissional_p text, nm_usuario_p text) AS $body$
DECLARE


nr_sequencia_w		bigint;


BEGIN
begin


select	nextval('oft_oculos_seq')
into STRICT	nr_sequencia_w
;


insert into oft_oculos(nr_sequencia,
			dt_registro,
			dt_atualizacao,
			nm_usuario,
			nr_seq_consulta,
			cd_profissional,
			nr_seq_tipo_lente,
			vl_od_pl_dio_esf,
			vl_od_pl_dio_cil,
			vl_od_pl_eixo,
			vl_od_pl_adicao,
			vl_oe_pl_dio_esf,
			vl_oe_pl_dio_cil,
			vl_oe_pl_eixo,
			vl_oe_pl_adicao,
			vl_od_pp_dio_esf,
			vl_od_pp_dio_cil,
			vl_od_pp_eixo,
			vl_oe_pp_dio_esf,
			vl_oe_pp_dio_cil,
			vl_oe_pp_eixo,
			vl_od_in_dio_esf,
			vl_od_in_dio_cil,
			vl_od_in_eixo,
			vl_oe_in_dio_esf,
			vl_oe_in_dio_cil,
			vl_oe_in_eixo,
			ds_orientacao,
			ds_observacao)
SELECT  nr_sequencia_w,
	clock_timestamp(),
	clock_timestamp(),
	nm_usuario_p,
	nr_seq_consulta_p,
	cd_profissional_p,
	nr_seq_tipo_lente,
	vl_od_pl_dio_esf,
	vl_od_pl_dio_cil,
	vl_od_pl_eixo,
	vl_od_pl_adicao,
	vl_oe_pl_dio_esf,
	vl_oe_pl_dio_cil,
	vl_oe_pl_eixo,
	vl_oe_pl_adicao,
	vl_od_pp_dio_esf,
	vl_od_pp_dio_cil,
	vl_od_pp_eixo,
	vl_oe_pp_dio_esf,
	vl_oe_pp_dio_cil,
	vl_oe_pp_eixo,
	vl_od_in_dio_esf,
	vl_od_in_dio_cil,
	vl_od_in_eixo,
	vl_oe_in_dio_esf,
	vl_oe_in_dio_cil,
	vl_oe_in_eixo,
	ds_orientacao,
	ds_observacao
from	oft_oculos
where	nr_sequencia	= nr_sequencia_p;

commit;

exception
when others then
	null;
end;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE duplicar_oft_receita_oculos (nr_sequencia_p bigint, nr_seq_consulta_p bigint, cd_profissional_p text, nm_usuario_p text) FROM PUBLIC;

