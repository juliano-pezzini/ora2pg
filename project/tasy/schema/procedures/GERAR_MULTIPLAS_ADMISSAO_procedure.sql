-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gerar_multiplas_admissao ( nr_seq_tipo_admissao_fat_p rule_gener_prot_encounter.nr_seq_tipo_admissao_fat%type, nr_seq_rule_p rule_gener_prot_encounter.nr_seq_rule%type, ie_condicao_p rule_gener_prot_encounter.ie_condicao%type, nm_usuario_p rule_gener_prot_encounter.nm_usuario%type, dt_inicio_vigencia_p rule_gener_prot_encounter.dt_inicio_vigencia%type, dt_final_vigencia_p rule_gener_prot_encounter.dt_final_vigencia%type) AS $body$
DECLARE



nr_sequencia_w rule_gener_prot_encounter.nr_sequencia%type;

BEGIN

      select nextval('rule_gener_prot_encounter_seq') 
	    into STRICT nr_sequencia_w
;
    
    
    insert into RULE_GENER_PROT_ENCOUNTER(
        nr_sequencia,
        nr_seq_rule, 
        nr_seq_tipo_admissao_fat,
        ie_condicao, 
        dt_inicio_vigencia, 
        dt_final_vigencia,
        dt_atualizacao,
        nm_usuario,
        dt_atualizacao_nrec,
        nm_usuario_nrec
    ) values (
        nr_sequencia_w,
        nr_seq_rule_p,
        nr_seq_tipo_admissao_fat_p,
        ie_condicao_p, 
        dt_inicio_vigencia_p,
        dt_final_vigencia_p,
        clock_timestamp(),
        nm_usuario_p,
        clock_timestamp(),
        nm_usuario_p
    );

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_multiplas_admissao ( nr_seq_tipo_admissao_fat_p rule_gener_prot_encounter.nr_seq_tipo_admissao_fat%type, nr_seq_rule_p rule_gener_prot_encounter.nr_seq_rule%type, ie_condicao_p rule_gener_prot_encounter.ie_condicao%type, nm_usuario_p rule_gener_prot_encounter.nm_usuario%type, dt_inicio_vigencia_p rule_gener_prot_encounter.dt_inicio_vigencia%type, dt_final_vigencia_p rule_gener_prot_encounter.dt_final_vigencia%type) FROM PUBLIC;

