-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_usuario_voicereport ( nm_usuario_tasy_p text, nm_usuario_integr_p INOUT text, ds_senha_usuario_integr_p INOUT text, ds_contexto_p INOUT text, ds_porta_p INOUT text) AS $body$
DECLARE


nm_usuario_integr_w       varchar(100);
ds_senha_usuario_integr_w varchar(100);
ds_contexto_w             varchar(100);
ds_porta_w        varchar(100);

BEGIN


if (nm_usuario_tasy_p IS NOT NULL AND nm_usuario_tasy_p::text <> '') then
	select max(nm_usuario_integr),
	    	 max(ds_senha_usuario_integr),
		     max(ds_organizacao),
         max(nm_instituto)
    into STRICT nm_usuario_integr_w,
	   	   ds_senha_usuario_integr_w,
		     ds_contexto_w,
         ds_porta_w
	  from lab_regra_usuario_integr
	 where ds_servico = 'voiceReport'
	   and nm_usuario_tasy = nm_usuario_tasy_p;
end if;

nm_usuario_integr_p := nm_usuario_integr_w;
ds_senha_usuario_integr_p := ds_senha_usuario_integr_w;
ds_contexto_p := ds_contexto_w;
ds_porta_p := ds_porta_w;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_usuario_voicereport ( nm_usuario_tasy_p text, nm_usuario_integr_p INOUT text, ds_senha_usuario_integr_p INOUT text, ds_contexto_p INOUT text, ds_porta_p INOUT text) FROM PUBLIC;

