-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gravar_proc_repasse_valor ( ds_observacao_p text, nm_usuario_p text, ie_status_ant_p text, ie_status_atual_p text, vl_repasse_ant_p bigint, vl_repasse_atual_p bigint, nr_seq_retorno_p bigint, nr_seq_lote_audit_hist_p bigint, nr_seq_proc_repasse_p bigint, nr_seq_regra_rep_ret_p bigint) AS $body$
BEGIN

insert into proc_repasse_valor(ds_obs_interna,
	dt_atualizacao,
	dt_atualizacao_nrec,
	ie_status_ant,
	ie_status_atual,
	nm_usuario,
	nm_usuario_nrec,
	nr_seq_lote_audit_hist,
	nr_seq_proc_repasse,
	nr_seq_regra_rep_ret,
	nr_seq_retorno,
	nr_sequencia,
	vl_repasse_ant,
	vl_repasse_atual)
values (ds_observacao_p,
	clock_timestamp(),
	clock_timestamp(),
	ie_status_ant_p,
	ie_status_atual_p,
	nm_usuario_p,
	nm_usuario_p,
	nr_seq_lote_audit_hist_p,
	nr_seq_proc_repasse_p,
	nr_seq_regra_rep_ret_p,
	nr_seq_retorno_p,
	nextval('proc_repasse_valor_seq'),
	coalesce(vl_repasse_ant_p,0),
	coalesce(vl_repasse_atual_p,0));

--NÃ£o dar commit nesta procedure
end	;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gravar_proc_repasse_valor ( ds_observacao_p text, nm_usuario_p text, ie_status_ant_p text, ie_status_atual_p text, vl_repasse_ant_p bigint, vl_repasse_atual_p bigint, nr_seq_retorno_p bigint, nr_seq_lote_audit_hist_p bigint, nr_seq_proc_repasse_p bigint, nr_seq_regra_rep_ret_p bigint) FROM PUBLIC;

