-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pls_ajustar_base_atend ( nm_usuario_p text) AS $body$
DECLARE


dt_versao_atual_cliente_w 	timestamp;
qt_registro_w			bigint;
cd_cgc_outorgante_w		varchar(14);
cd_estabelecimento_w		smallint;
ds_comando_w			varchar(2000);


BEGIN
/* Rotina do grupo OPS - Atendimento - LÍDER: Eder Jhoney */

dt_versao_atual_cliente_w	:= coalesce(to_date(to_char(obter_data_geracao_versao-1,'dd/mm/yyyy') ||' 23:59:59','dd/mm/yyyy hh24:mi:ss'),clock_timestamp() - interval '90 days');

begin
	select	cd_estabelecimento,
		cd_cgc_outorgante
	into STRICT	cd_estabelecimento_w,
		cd_cgc_outorgante_w
	from	pls_outorgante LIMIT 1;
exception
when others then
	cd_cgc_outorgante_w := null;
	cd_estabelecimento_w := null;
end;

/* Alexandre 02/07/2012 - Inserir nas regras de alertas e eventos, as regra de e-mail de auditoria externa */

if (dt_versao_atual_cliente_w < to_date('02/07/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	pls_analise_aut_email;

	if (qt_registro_w	> 0) then
		CALL pls_baca_regra_alerta_email('TASY');
	end if;
end if;

/* Eder 01/08/2012 - Ajustar regra de liberação de utilização da biometria */

if (dt_versao_atual_cliente_w < to_date('01/08/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_REGRA_LIB_REQ_WEB'
	and	column_name	= 'IE_CONSULTA_URGENCIA';

	if (qt_registro_w	> 0) then
		CALL exec_sql_dinamico('baca',	' update pls_regra_lib_req_web ' ||
						' set 	 ie_consulta_urgencia = ' || chr(39) ||  'N' || chr(39) ||
						' where	 ie_consulta_urgencia is null');
	end if;
end if;

/* Eder  02/08/2012 - Ajustar parâmetro[4] - Permite realizar a liberação de comunicados, para  'S' */

if (dt_versao_atual_cliente_w < to_date('02/08/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	funcao_parametro
	where 	nr_sequencia	= 4
	and	cd_funcao 	= 1330;

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('baca',	' update funcao_parametro ' ||
						' set 	 vl_parametro = ' || chr(39) ||  'S' || chr(39) ||
						' where	 nr_sequencia	= 4 ' ||
						' and    cd_funcao 	= 1330 ');
	end if;
end if;

/* Eder 04/08/2012 - Ajustar o campo IE_TIPO_GRUPO no cadastro de grupos de análise, para definir em qual tipo de análise será utilizado o grupo */

if (dt_versao_atual_cliente_w < to_date('04/08/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_GRUPO_AUDITOR'
	and	column_name	= 'IE_TIPO_GRUPO';

	if (qt_registro_w	> 0) then
		CALL exec_sql_dinamico('baca',	' update pls_grupo_auditor ' ||
						' set 	 ie_tipo_grupo = ' || chr(39) ||  'A' || chr(39) ||
						' where	 ie_tipo_grupo is null');
	end if;
end if;

/* Sestari 15/08/2012 - Setar todas os comunicados externos para o acesso Prestador */

if (dt_versao_atual_cliente_w < to_date('15/08/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_COMUNIC_EXTERNA_WEB'
	and	column_name	= 'IE_TIPO_LOGIN';

	if (qt_registro_w	> 0) then
		CALL exec_sql_dinamico('baca',	' update PLS_COMUNIC_EXTERNA_WEB ' ||
						' set 	 IE_TIPO_LOGIN = ' || chr(39) ||  'P' || chr(39));
	end if;
end if;

/* Djavan 20/08/2012  Inserir 'N' como valor padrão para o campo IE_TIPO_INTERCAMBIO da tabela PLS_REGRA_GERAR_GUIA*/

if (dt_versao_atual_cliente_w < to_date('20/08/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_REGRA_GERAR_GUIA'
	and	column_name	= 'IE_TIPO_INTERCAMBIO';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('baca',	' update pls_regra_gerar_guia ' ||
						' set 	 ie_tipo_intercambio = ' || chr(39) ||  'N' || chr(39));
	end if;
end if;

/* Djavan  22/08/2012  retirar o item superior das pastas Regra de justificativa automática e Regra de exceção justificativa automática */

if (dt_versao_atual_cliente_w < to_date('22/08/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	pls_cadastro_regra_item
	where	nr_sequencia	= 126
	and	(nr_seq_superior IS NOT NULL AND nr_seq_superior::text <> '');

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('baca',	' update pls_cadastro_regra_item ' ||
						' set 	 nr_seq_superior = null' ||
						' where	 nr_sequencia = 126 ');
	end if;

	select	count(1)
	into STRICT	qt_registro_w
	from	pls_cadastro_regra_item
	where	nr_sequencia	= 127
	and	(nr_seq_superior IS NOT NULL AND nr_seq_superior::text <> '');

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('baca',	' update pls_cadastro_regra_item ' ||
						' set 	 nr_seq_superior = null' ||
						' where	 nr_sequencia = 127 ');
	end if;
end if;

/* Eder 05/09/2012  ajustar o parâmetro[1]  da função OPSW - Guia médico para 'S'  */

if (dt_versao_atual_cliente_w < to_date('05/09/2012','dd/mm/yyyy')) then
	select  count(*)
	into STRICT	qt_registro_w
	from 	funcao_parametro
	where 	nr_Sequencia	= 1
	and	cd_funcao 	= 1256;

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA',	' update funcao_parametro ' ||
						' set 	 vl_parametro = ' || chr(39) ||  'S' || chr(39) ||
						' where	 nr_Sequencia	= 1 ' ||
						' and	 cd_funcao 	= 1256 ' ||
						' and    vl_parametro is not null ');
	end if;
end if;

/* Sestari 19/09/2012  OS 497018  */

if (dt_versao_atual_cliente_w < to_date('19/09/2012','dd/mm/yyyy')) then
	select  count(1)
	into STRICT	qt_registro_w
	from	objeto_sistema_param
	where	nr_seq_objeto  = 32062
	and	nm_parametro = 'IE_PERMITE_DUPLICIDADE_P';

	if (qt_registro_w > 0) then
		delete  from objeto_sistema_param
		where	nr_seq_objeto  = 32062
		and	nm_parametro = 'IE_PERMITE_DUPLICIDADE_P';
	end if;
end if;

/* Alexandre 29/09/2012 - Atualizar para null o campo IE_ORIGEM_SOLIC_GUIA da PLS_OCORRENCIA_REGRA*/

if (dt_versao_atual_cliente_w < to_date('29/09/2012','dd/mm/yyyy')) then

	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_OCORRENCIA_REGRA'
	and	column_name	= 'IE_ORIGEM_SOLIC_GUIA';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA',	' update	pls_ocorrencia_regra '||
						' set		ie_origem_solic_guia = null '||
						' where		dt_atualizacao < to_date(''21/08/2012'',''dd/mm/yyyy'') '||
						' and		ie_origem_solic_guia is not null ');
	end if;
end if;

/* Sestari 19/09/2012  OS 451358  */

if (dt_versao_atual_cliente_w < to_date('29/09/2012','dd/mm/yyyy')) then
	CALL pls_baca_ajuste_atributos_web(null);
end if;

/* Eder 16/10/2012  - Alterar  dominio 5209 para padronizar os localizadores utilizados na função de Autorização e Digitação de contas médicas */

if (dt_versao_atual_cliente_w < to_date('16/10/2012','dd/mm/yyyy')) then

	select 	count(1)
	into STRICT	qt_registro_w
	from 	valor_dominio
	where	cd_dominio		= 5209
	and	vl_dominio		= 2;

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA',	' update valor_dominio ' ||
						' set 	 ds_valor_dominio = ' || chr(39) ||  'Localizador identificação de beneficiário - permite localizar e alterar dados do beneficiário eventual e congênere' || chr(39) ||
						' where	 cd_dominio	= 5209 ' ||
						' and	 vl_dominio	= 2 ');
	end if;
end if;

/* Djavan 17/10/2012  - Alterar  dominio 4709, correção ortográfica*/

if (dt_versao_atual_cliente_w < to_date('17/10/2012','dd/mm/yyyy')) then
	select 	count(1)
	into STRICT	qt_registro_w
	from 	valor_dominio
	where	cd_dominio		= 4709
	and	vl_dominio		= 'N';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA',	'update valor_dominio '||
						' set 	ds_valor_dominio 	= ' || chr(39) || 'Ao gerar glosa e ocorrência gerar negativa' || chr(39) ||
						' where vl_dominio 		= ' || chr(39) || 'N' || chr(39) ||
						' and 	cd_dominio 		= 4709 ');
	end if;
end if;

/* Djavan 17/10/2012  - Correção do parâmetro 39 da função OPS - Autorizações*/

if (dt_versao_atual_cliente_w < to_date('17/10/2012','dd/mm/yyyy')) then
	select 	count(1)
	into STRICT	qt_registro_w
	from 	FUNCAO_PARAMETRO
	where	NR_SEQUENCIA	= 39
	and	CD_FUNCAO	= 1204;

	if (qt_registro_w > 0) then
		CALL baca_pls_ajusta_param_ops_auto();
	end if;
end if;

/* Djavan 17/10/2012  - Ajustes das  inconsistências do PTU*/

if (dt_versao_atual_cliente_w < to_date('17/10/2012','dd/mm/yyyy')) then
	select 	count(1)
	into STRICT	qt_registro_w
	from 	ptu_inconsistencia;

	if (qt_registro_w > 0) then
		CALL baca_pls_ajusta_inconsist_ptu();
	end if;
end if;

/* Djavan 24/10/2012  - Ajustes das  inconsistências do PTU*/

if (dt_versao_atual_cliente_w < to_date('24/10/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_TIPO_ACOMODACAO'
	and	column_name	= 'IE_REQUISICAO';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA','update pls_tipo_acomodacao '||
					' set 	ie_requisicao 	= ' || chr(39) || 'S' || chr(39) ||
					' where ie_situacao 	= ' || chr(39) || 'A' || chr(39));
	end if;
end if;

/* Eder 24/10/2012  - Ajustar o produto visualizado no link 'Produtos' na consulta do guia médico */

if (dt_versao_atual_cliente_w < to_date('24/10/2012','dd/mm/yyyy')) then

	select 	count(1)
	into STRICT	qt_registro_w
	from  	funcao_parametro
	where 	cd_funcao = 1256
	and 	nr_sequencia = 9
	and 	vl_parametro = 'S';

	if (qt_registro_w > 0) then
		select	count(1)
		into STRICT	qt_registro_w
		from	user_tab_columns
		where	table_name 	= 'PLS_WEB_PARAM_GERAL'
		and	column_name	= 'IE_PRODUTO_GUIA_MEDICO';

		if (qt_registro_w > 0) then
			CALL exec_sql_dinamico('BACA','update pls_web_param_geral '||
						' set 	ie_produto_guia_medico 	= ' || chr(39) || 'PP' || chr(39));

		end if;
	end if;
end if;

/* Allan 22/11/2012  - Ajustar a categoria na consulta do guia médico */

if (dt_versao_atual_cliente_w < to_date('22/11/2012','dd/mm/yyyy')) then

	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_WEB_PARAM_GERAL'
	and	column_name	= 'IE_CATEGORIA_GUIA_MEDICO';


	if (qt_registro_w > 0) then
		select 	count(1)
		into STRICT	qt_registro_w
		from  	funcao_parametro
		where 	cd_funcao = 1256
		and 	nr_sequencia = 8
		and 	vl_parametro = 'S';


		if (qt_registro_w > 0) then
			CALL exec_sql_dinamico('BACA','update pls_web_param_geral '||
						' set 	ie_categoria_guia_medico = ' || chr(39) || 'P' || chr(39));
		else
			CALL exec_sql_dinamico('BACA','update pls_web_param_geral '||
						' set 	ie_categoria_guia_medico = ' || chr(39) || 'A' || chr(39));

		end if;
	end if;
end if;

/* Djavan 30/11/2012  -  Setar o valor  "S" como padrão para o campo IE_GLOSA_PREST_ITEM da tabela PLS_PARAM_AUTORIZACAO*/

if (dt_versao_atual_cliente_w < to_date('29/11/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_PARAM_AUTORIZACAO'
	and	column_name	= 'IE_GLOSA_PREST_ITEM';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA','update PLS_PARAM_AUTORIZACAO set IE_GLOSA_PREST_ITEM = ' || chr(39) || 'S' || chr(39));
	end if;
end if;

/* Sestari 03/12/2012  -  Criar grupo de relatorio novo */

if (dt_versao_atual_cliente_w < to_date('03/12/2012','dd/mm/yyyy')) then
	CALL baca_pls_ajustar_grupo_relac(cd_estabelecimento_w);
end if;

/* Djavan 03/12/2012  -  Transferir os valors do campo IE_ENCAMINHAR_GRUPO_AUT da tabela PLS_CLASSIF_GRUPO_AUDITOR para o campo IE_RECEBE_ENC_ANALISE da tabela PLS_GRUPO_AUDITOR. */

if (dt_versao_atual_cliente_w < to_date('03/12/2012','dd/mm/yyyy')) then
	CALL baca_pls_perm_receb_enc_analis();
end if;

/* Sestari 06/12/2012  -  Tratar o estabelecimento nos parâmetros gerais da operadora */

if (dt_versao_atual_cliente_w < to_date('06/12/2012','dd/mm/yyyy')) then
	CALL baca_pls_ajustar_estab_web();
end if;

/* Alecxandre 10/12/2012 - Na tabela PLS_REGRA_ATUALIZACAO_CAD, setar o valor padrão para os campo IE_TIPO_REGRA e IE_BENEF_OPERADORA  */

if (dt_versao_atual_cliente_w < to_date('10/12/2012','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_REGRA_ATUALIZACAO_CAD'
	and	column_name	= 'IE_TIPO_REGRA';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA','update PLS_REGRA_ATUALIZACAO_CAD set IE_TIPO_REGRA = ' || chr(39) || 'D' || chr(39));
	end if;

	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name 	= 'PLS_REGRA_ATUALIZACAO_CAD'
	and	column_name	= 'IE_BENEF_OPERADORA';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA','update PLS_REGRA_ATUALIZACAO_CAD set IE_BENEF_OPERADORA = ' || chr(39) || 'S' || chr(39));
	end if;
end if;

/*Sestari 01/03/2013  - Novos atributos web */

if (dt_versao_atual_cliente_w < to_date('01/03/2013','dd/mm/yyyy')) then
	CALL pls_baca_ajuste_atributos_web('3');
	CALL pls_baca_ajuste_atributos_web('4');
	CALL pls_baca_ajuste_atributos_web('5');
end if;

/*Djavan 18/04/2013  - Alterar o status dos valores 11, 12, 13 do domínio 1761 - TISS - Tipo de atendimento para Inativo*/

if (dt_versao_atual_cliente_w < to_date('18/04/2013','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	valor_dominio
	where	vl_dominio	= '11'
	and	ie_situacao	= 'A'
	and 	cd_dominio	= 1761;

	if (qt_registro_w	> 0) then
		CALL exec_sql_dinamico('BACA','update valor_dominio set ie_situacao = '||chr(39)||'I'||chr(39)||' where vl_dominio = '||chr(39)||'11'||chr(39)||' and cd_dominio = 1761');
	end if;

	select	count(1)
	into STRICT	qt_registro_w
	from	valor_dominio
	where	vl_dominio	= '12'
	and	ie_situacao	= 'A'
	and 	cd_dominio	= 1761;

	if (qt_registro_w	> 0) then
		CALL exec_sql_dinamico('BACA','update valor_dominio set ie_situacao = '||chr(39)||'I'||chr(39)||' where vl_dominio = '||chr(39)||'12'||chr(39)||' and cd_dominio = 1761');
	end if;

	select	count(1)
	into STRICT	qt_registro_w
	from	valor_dominio
	where	vl_dominio	= '13'
	and	ie_situacao	= 'A'
	and 	cd_dominio	= 1761;

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA','update valor_dominio set ie_situacao = '||chr(39)||'I'||chr(39)||' where vl_dominio = '||chr(39)||'13'||chr(39)||' and cd_dominio = 1761');
	end if;
end if;

/* Eder 26/04/2013  - Ajustar os parâmetros gerais do Guia Médico */

if (dt_versao_atual_cliente_w < to_date('26/04/2013','dd/mm/yyyy')) then
	CALL baca_pls_ajuste_parametro_web();
end if;

/* Sestari 06/05/2013  OS 586353  */

if (dt_versao_atual_cliente_w < to_date('06/05/2013','dd/mm/yyyy')) then
	CALL pls_baca_ajuste_atribut_w_web();
end if;

/* Sestari 13/05/2013  OS 586353  */

if (dt_versao_atual_cliente_w < to_date('13/05/2013','dd/mm/yyyy')) then
	CALL pls_baca_ajuste_attr_req_web();
end if;

/* Sestari 04/06/2013 OS 595492 */

if (dt_versao_atual_cliente_w < to_date('04/06/2013','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'PLS_TIPO_ACOMODACAO'
	and		column_name	= 'IE_COMPLEMENTO_CONTA';

	if (qt_registro_w > 0) then
		update	pls_tipo_acomodacao
		set		ie_complemento_conta = 'S';
	end if;
end if;

/* Sestari 17/06/2013  OS 597883*/

if (dt_versao_atual_cliente_w < to_date('17/06/2013','dd/mm/yyyy')) then
	CALL baca_atualizar_param_transacao();
end if;

/* Sestari - ajustar o nome do parâmetro*/

if (dt_versao_atual_cliente_w < to_date('04/07/2013','dd/mm/yyyy')) then
	update	funcao_parametro
	set		DS_PARAMETRO = 'Permite solicitar guia de Prorrogação de Internação'
	where   cd_funcao = 1247
	and     nr_sequencia = 51;
end if;

/* Sestari - copiar parâmetros */

if (dt_versao_atual_cliente_w < to_date('08/07/2013','dd/mm/yyyy')) then
	CALL baca_atualizar_param_cons_web();
end if;

/* Eder 17/07/2013  Setar  o valor padrão do Tipo de Login para Prestador  */

if (dt_versao_atual_cliente_w < to_date('17/07/2013','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'PLS_MENU_OPERADORA_WEB'
	and	column_name	= 'IE_TIPO_LOGIN';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('baca', 'update pls_menu_operadora_web set ie_tipo_login = '||chr(39)||'P'||chr(39)||' where nr_seq_menu_principal is null and ie_tipo_login is null ');
	end if;
end if;

/* Sestari - OS 608698 */

if (dt_versao_atual_cliente_w < to_date('01/08/2013','dd/mm/yyyy')) then
	update	funcao_parametro
	set	ds_parametro	= 'Permite inserir somente números no campo Guia manual'
	where   cd_funcao	= 1247
	and     nr_sequencia	= 55;
end if;

/* Diether - OS 607439 */

if (dt_versao_atual_cliente_w < to_date('08/08/2013','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	pls_auditoria	a
	where	coalesce(a.ie_prioridade::text, '') = '';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('dhoffman', 'update pls_auditoria set ie_prioridade = 1 where ie_prioridade is null ');
	end if;
end if;

/* Sestari - OS 620491 */

if (dt_versao_atual_cliente_w < to_date('15/08/2013','dd/mm/yyyy')) then

	update	funcao_parametro
	set	vl_parametro_padrao = '3'
	where 	cd_funcao = 1252
	and 	nr_sequencia = 9;

	CALL baca_atualizar_param_mens_web();
end if;

/* Eder - Atualizar o perfil web, passando tudo para o prestador OS 617661 */

if (dt_versao_atual_cliente_w < to_date('16/08/2013','dd/mm/yyyy')) then

	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'PLS_PERFIL_WEB'
	and	column_name	= 'IE_TIPO_LOGIN';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('baca', ' update pls_perfil_web set ie_tipo_login = '||chr(39)||'P'||chr(39)||' where ie_tipo_login is null ');
	end if;
end if;

/* Sestari - OS 615841  */

if (dt_versao_atual_cliente_w < to_date('16/08/2013','dd/mm/yyyy')) then
	update	pls_atributos_web
	set	nm_tabela = 'PLS_CONTA'
	where   nr_sequencia in (26,27);
end if;

/* Sestari */

if (dt_versao_atual_cliente_w < to_date('26/09/2013','dd/mm/yyyy')) then
	update  funcao_parametro
	set	vl_parametro = 'VA'
	where   nr_sequencia = 11
	and     cd_funcao = 1249;
end if;

/* Sestari OS 616876 - Ajuste para Unimed Blumenau */

if (dt_versao_atual_cliente_w < to_date('07/10/2013','dd/mm/yyyy') and cd_cgc_outorgante_w = '82624776000147') then

	select	count(1)
	into STRICT	qt_registro_w
	from	pls_visible_false;

	if (qt_registro_w = 0) then
		insert	into pls_visible_false( nr_sequencia, cd_estabelecimento, dt_atualizacao,
					        nm_usuario, dt_atualizacao_nrec, nm_usuario_nrec,
					        ie_regra_preco_combinada, qt_tamanho_campo )
					values ( nextval('pls_visible_false_seq'), cd_estabelecimento_w , clock_timestamp(),
					        'baca', clock_timestamp(), 'baca',
					        'N', 8);
	else
		update  pls_visible_false
		set 	qt_tamanho_campo = 8;
	end if;

end if;

/* Sestari OS 642369 */

if (dt_versao_atual_cliente_w < to_date('29/10/2013','dd/mm/yyyy')) then

	CALL pls_baca_atualizar_usu_web();

end if;

/* Eder  OS 668909  19-11-2013 - Ajustar valor do campo  IE_VISUALIZA_DEMONSTRATIVO */

if (dt_versao_atual_cliente_w < to_date('19/11/2013','dd/mm/yyyy')) then

	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'PLS_REGRA_CONTRATO_WEB'
	and	column_name	= 'IE_VISUALIZA_DEMONSTRATIVO';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('baca', ' update pls_regra_contrato_web set ie_visualiza_demonstrativo = '||chr(39)||'TM'||chr(39)||' where ie_visualiza_demonstrativo = ' || chr(39) || 'S' || chr(39));
	end if;
end if;


/* Eder  OS 618117  19-11-2013 - Ajustar valor do campo IE_TIPO_LOGIN   */

if (dt_versao_atual_cliente_w < to_date('19/11/2013','dd/mm/yyyy')) then

	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'PLS_PERFIL_WEB'
	and	column_name	= 'IE_TIPO_LOGIN';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('baca', ' update pls_perfil_web set ie_tipo_login = '||chr(39)||'GC'||chr(39)||' where ie_tipo_login = ' || chr(39) || 'GR' || chr(39));
	end if;
end if;

/* Eder - OS 618839 - 11-12-2013 Ajustar parâmetro de Indice de Reajuste para ficar como padrão 'N' */

if (dt_versao_atual_cliente_w < to_date('11/12/2013','dd/mm/yyyy')) then

	update 	funcao_parametro
	set 	vl_parametro_padrao = 'N'
	where	nr_sequencia = 58
	and	cd_funcao  = 1246;

end if;

/* Eder 07/01/2014  - Alterar  o vlaor '0' do dominio 1759  */

if (dt_versao_atual_cliente_w < to_date('07/01/2014','dd/mm/yyyy')) then

	select 	count(1)
	into STRICT	qt_registro_w
	from 	valor_dominio
	where	cd_dominio		= 1759
	and	vl_dominio		= '0';

	if (qt_registro_w > 0) then
		CALL exec_sql_dinamico('BACA',	' update valor_dominio ' ||
						' set 	 ds_valor_dominio = ' || chr(39) ||  'Trabalho' || chr(39) ||
						' where	 cd_dominio	= 1759 ' ||
						' and	 vl_dominio	= ' || chr(39) || '0' || chr(39));
	end if;
end if;

/* Djavan 14/01/2014 - Passar os valores do parâmetro [23] para o novo parâmetro [72] da função OPS - Gestão de Análise de Autorizações */

if (dt_versao_atual_cliente_w < to_date('14/01/2014','dd/mm/yyyy')) then
	CALL pls_baca_ajustar_valor_param23();
end if;

/* Sestari 11/02/2014  */

/*if	(dt_versao_atual_cliente_w < to_date('11/02/2014','dd/mm/yyyy')) then
	pls_baca_versao_tiss;
end if;*/
begin
-- Criar a glosa 5016 - Sem nenhuma ocorrencia de movimento de inclusão na competencia para envio a ans 02/03/2014
if (dt_versao_atual_cliente_w < to_date('02/03/2014','dd/mm/yyyy')) then

	select	count(1)
	into STRICT	qt_registro_w
	from	tiss_motivo_glosa
	where	cd_motivo_tiss = '5016';

	if ( qt_registro_w = 0 ) then

		insert into tiss_motivo_glosa(
			nr_sequencia, dt_atualizacao, nm_usuario,
			dt_atualizacao_nrec, nm_usuario_nrec, ie_grupo_glosa,
			cd_motivo_tiss, ds_motivo_tiss, ie_acao_pls,
			cd_convenio, cd_motivo_glosa, ie_fechar_conta,
			ie_importacao_ops)
		values (	nextval('tiss_motivo_glosa_seq'), clock_timestamp(), 'ejsilva',
			clock_timestamp(), 'ejsilva', 21,
			'5016', 'Sem nenhuma ocorrência de movimento de inclusão na competência para envio a ans', 'S',
			null,null, 'S',
			'S');
	end if;
end if;

exception
when others then
	null;
end;

begin
-- Criar a glosa 5017 -  Arquivo processado pela ANS 12/03/2014 - OS 712788 - Eder
if (dt_versao_atual_cliente_w < to_date('12/03/2014','dd/mm/yyyy')) then

	select	count(1)
	into STRICT	qt_registro_w
	from	tiss_motivo_glosa
	where	cd_motivo_tiss = '5017';

	if ( qt_registro_w = 0 ) then

		insert into tiss_motivo_glosa(
			nr_sequencia, dt_atualizacao, nm_usuario,
			dt_atualizacao_nrec, nm_usuario_nrec, ie_grupo_glosa,
			cd_motivo_tiss, ds_motivo_tiss, ie_acao_pls,
			cd_convenio, cd_motivo_glosa, ie_fechar_conta,
			ie_importacao_ops)
		values (	nextval('tiss_motivo_glosa_seq'), clock_timestamp(), 'ejsilva',
			clock_timestamp(), 'ejsilva', 21,
			'5017', 'Arquivo processado pela ANS', 'S',
			null,null, 'S',
			'S');
	end if;
end if;

exception
when others then
	null;
end;


begin
/* Eder 08/03/2014  -  Ajustar a versão do TISS na tabela  PLS_VERSAO_TISS  */

if (dt_versao_atual_cliente_w < to_date('08/03/2014','dd/mm/yyyy')) then
	CALL pls_baca_versao_tiss();
end if;

exception
when others then
	null;
end;

/* Sestari  */

if (dt_versao_atual_cliente_w < to_date('08/04/2014','dd/mm/yyyy')) then
	update  pls_glosa_evento
	set 	ie_plano = 'S',
		dt_atualizacao = clock_timestamp(),
		nm_usuario = 'aasestari'
	 where  nr_sequencia in (24,54);
end if;


begin
/* Eder 09/04/2014  - OS723657  - Atualizar o campo DT_RECEBIMENTO_XML para as transações eletrônicas do TISS  */

if (dt_versao_atual_cliente_w < to_date('09/04/2014','dd/mm/yyyy')) then

	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'PLS_GUIA_PLANO'
	and	column_name	= 'DT_RECEBIMENTO_XML';

	if (qt_registro_w > 0) then
		update 	pls_guia_plano
		set	dt_recebimento_xml = dt_atualizacao
		where	ie_tipo_processo = 'E'
		and	ie_origem_solic = 'E'
		and	ie_estagio = 7;
	end if;
end if;

exception
when others then
	null;
end;


begin

/* Eder 21/05/2014  - OS734399  - Atualizar as glosas da versão TISS 3.01.00  */

if (dt_versao_atual_cliente_w < to_date('21/05/2014','dd/mm/yyyy')) then

	CALL pls_baca_adiciona_glosa_30100(dt_versao_atual_cliente_w);
end if;

/* Eder 07/07/2014  - OS757689  - Atualizar as glosas da versão TISS 3.02.00  */

if (dt_versao_atual_cliente_w < to_date('07/07/2014','dd/mm/yyyy')) then

	CALL pls_baca_adiciona_glosa_30200(dt_versao_atual_cliente_w);
end if;

/* Sestari 09/07/2014  - Ajustes no projeto XMLTISS 3.02.00  */

if (dt_versao_atual_cliente_w < to_date('09/07/2014','dd/mm/yyyy')) then
	CALL pls_baca_ajustar_projeto_xml();
end if;

/*  Jean P. 22/07/2014  - Atualiza a criptografia da senha para MD5   TISS 3.02.00  */

if (dt_versao_atual_cliente_w < to_date('22/07/2014','dd/mm/yyyy')) then

	begin
		CALL pls_baca_ajustar_cripto_senha();
	exception
	when others then
		null;
	end;

end if;

exception
when others then
	null;
end;

begin
/* Eder 30/07/2014  - OS736965  - Ajustar a aplciação da regra dos atributos Web   */

if (dt_versao_atual_cliente_w < to_date('30/07/2014','dd/mm/yyyy')) then

	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'PLS_ATRIBUTOS_WEB'
	and	column_name	= 'IE_APLICACAO_ATRIBUTO';

	if (qt_registro_w > 0) then

		update 	pls_atributos_web
		set 	ie_aplicacao_atributo = 'RA'
		where	ie_funcionalidade in (1,2,5,6,7,9)
		and	coalesce(ie_aplicacao_atributo::text, '') = ''
		and	nr_sequencia <= 37;

		update 	pls_atributos_web
		set 	ie_aplicacao_atributo = 'RR'
		where	ie_funcionalidade in (4,3,8)
		and	coalesce(ie_aplicacao_atributo::text, '') = ''
		and	nr_sequencia <= 37;
	end if;


	/* Eder 04/08/2014 - OS758218 - Ajustar a versão do TISS na autenticação dos arquivos prestador  */

	select	count(1)
	into STRICT	qt_registro_w
	from	user_tab_columns
	where	table_name	= 'PLS_PREST_AUTENT_TISS'
	and	column_name	= 'CD_VERSAO_TISS';

	if (qt_registro_w > 0) then
		update 	PLS_PREST_AUTENT_TISS
		set	CD_VERSAO_TISS = '3.02.00'
		where	CD_VERSAO_TISS = '3.01.00';
	end if;
end if;

/* Eder 07/08/2014  - OS748792  - Atualizar as glosas da versão TISS 3.02.00  */

if (dt_versao_atual_cliente_w < to_date('07/08/2014','dd/mm/yyyy')) then
	CALL pls_baca_adiciona_glosa_30200(dt_versao_atual_cliente_w);
end if;


/*Eder 07/08/2014  -  Ajustar o valor do domínio 1761 - SADT Internado para Internação */

if (dt_versao_atual_cliente_w < to_date('07/08/2014','dd/mm/yyyy')) then
	select	count(1)
	into STRICT	qt_registro_w
	from	valor_dominio
	where	vl_dominio	= '7'
	and	ie_situacao	= 'A'
	and 	cd_dominio	= 1761;

	if (qt_registro_w	> 0) then
		CALL exec_sql_dinamico('BACA','update valor_dominio set ds_valor_dominio = '||chr(39)||'Internação (SADT internado)'||chr(39)||' where vl_dominio = '||chr(39)||'7'||chr(39)||' and cd_dominio = 1761');
	end if;
end if;

/*Francisco 08/08/2014  -  Corrigir nome do motivo de glosa */

if (dt_versao_atual_cliente_w < to_date('08/08/2014','dd/mm/yyyy')) then
	CALL exec_sql_dinamico('BACA','update tiss_motivo_glosa set ds_motivo_tiss = ' || chr(39) || 'Motivo de encerramento inválido'|| chr(39) ||' where cd_motivo_tiss = ' || chr(39) || '5033' || chr(39));
end if;

/* Sestari 22/08/2014 Ajustar a sequence do campo NR_SEQUENCIA da PLS_REC_GLOSA_LOTE */

if (dt_versao_atual_cliente_w <= to_date('22/08/2014','dd/mm/yyyy')) then
	CALL tasy_posicionar_sequence('PLS_REC_GLOSA_LOTE','NR_SEQUENCIA','R');
end if;

exception
when others then
	null;
end;

/* Eder 08/09/2014  - OS786000  -  Inativar parâmetro 54 - Permite lançar materiais em guias de Consulta  */

begin

	if (dt_versao_atual_cliente_w <= to_date('08/09/2014','dd/mm/yyyy')) then
		select 	count(1)
		into STRICT	qt_registro_w
		from 	funcao_parametro
		where   cd_funcao	= 1247
		and     nr_sequencia	= 54;

		if (qt_registro_w	> 0) then
			CALL exec_sql_dinamico('BACA','update funcao_parametro set cd_exp_parametro = 319239 where cd_funcao	= 1247 and nr_sequencia	= 54 ');
		end if;
	end if;

	/* Eder - Liberar a pasta Regra login web - no cadastro de regras */

	if (dt_versao_atual_cliente_w <= to_date('19/09/2014','dd/mm/yyyy')) then

		select 	count(1)
		into STRICT	qt_registro_w
		from 	pls_cadastro_regra_item
		where   nr_sequencia	= 635;

		if (qt_registro_w	> 0) then
			update 	pls_cadastro_regra_item
			set 	ie_liberacao_perfil = 'S'
			where 	nr_Sequencia = 635;
		end if;
	end if;
exception
when others then
	null;
end;

/* Francisco - OS 798738 */

begin
if (dt_versao_atual_cliente_w <= to_date('17/10/2014','dd/mm/yyyy')) then
	select 	count(1)
	into STRICT	qt_registro_w
	from 	user_tab_columns
	where 	table_name	= 'PLS_ATENDIMENTO_HISTORICO'
	and     column_name	= 'DS_HISTORICO_LONG';

	if (qt_registro_w	> 0) then
		CALL exec_sql_dinamico('BACA','update PLS_ATENDIMENTO_HISTORICO set ds_historico_long = ds_historico where ds_historico_long is null');
	end if;

	select 	count(1)
	into STRICT	qt_registro_w
	from 	user_tab_columns
	where 	table_name	= 'PLS_EVENTO_OCOR_HISTORICO'
	and     column_name	= 'DS_HISTORICO_LONG';

	if (qt_registro_w	> 0) then
		CALL exec_sql_dinamico('BACA','update PLS_EVENTO_OCOR_HISTORICO set ds_historico_long = ds_historico where ds_historico_long is null');
	end if;

	/* Ajustar campo em tela */

	CALL exec_sql_dinamico('BACA','update tabela_atributo set NR_SEQ_APRESENT = null where nm_tabela = ''PLS_ATENDIMENTO_HISTORICO'' and nm_atributo = ''DS_HISTORICO'' ');
	CALL exec_sql_dinamico('BACA','update tabela_atributo set NR_SEQ_APRESENT = 40, cd_exp_desc = 562943, cd_exp_label = 282905, qt_tam_delphi = 350, qt_altura = 310 where nm_tabela = ''PLS_ATENDIMENTO_HISTORICO'' and nm_atributo = ''DS_HISTORICO_LONG'' ');

	CALL exec_sql_dinamico('BACA','update tabela_visao_atributo set NR_SEQ_APRESENT = null where nr_sequencia = 10864 and nm_atributo = ''DS_HISTORICO'' ');
	CALL exec_sql_dinamico('BACA','update tabela_visao_atributo set NR_SEQ_APRESENT = 40, cd_exp_desc = 562943, cd_exp_label = 282905, qt_tam_delphi = 350, qt_altura = 100 where nr_sequencia = 10864 and nm_atributo = ''DS_HISTORICO_LONG'' ');

	CALL exec_sql_dinamico('BACA','update tabela_visao_atributo set NR_SEQ_APRESENT = null where nr_sequencia = 9227 and nm_atributo = ''DS_HISTORICO'' ');
	CALL exec_sql_dinamico('BACA','update tabela_visao_atributo set NR_SEQ_APRESENT = 40, cd_exp_desc = 562943, cd_exp_label = 282905, qt_tam_delphi = 350, qt_altura = 100 where nr_sequencia = 9227 and nm_atributo = ''DS_HISTORICO_LONG'' ');

	CALL exec_sql_dinamico('BACA','update tabela_visao_atributo set NR_SEQ_APRESENT = null where nr_sequencia = 9231 and nm_atributo = ''DS_HISTORICO'' ');
	CALL exec_sql_dinamico('BACA','update tabela_visao_atributo set NR_SEQ_APRESENT = 40, cd_exp_desc = 562943, cd_exp_label = 282905, qt_tam_delphi = 350, qt_altura = 100 where nr_sequencia = 9231 and nm_atributo = ''DS_HISTORICO_LONG'' ');
	commit;

	/* Ajustar dic objeto */

	ds_comando_w	:= 	'UPDATE DIC_OBJETO ' ||
				'SET DS_SQL = ' || chr(39) ||
				'select	a.ds_historico_long ds_historico' || Chr(13) ||  Chr(10) ||
				'from	pls_evento_ocor_historico a,' || Chr(13) ||  Chr(10) ||
				'	pls_evento_ocorrencia b' || Chr(13) ||  Chr(10) ||
				'where	a.nr_seq_evento_ocor	= b.nr_sequencia' || Chr(13) ||  Chr(10) ||
				'and	b.nr_sequencia		= :nr_seq_evento' || chr(39) || ' ' ||
				'WHERE NR_SEQUENCIA = 305543';
	CALL exec_sql_dinamico('BACA',ds_comando_w);
	commit;

	/* Ajustar relatório */

	ds_comando_w	:=  'update banda_relatorio a set ds_sql = replace(ds_sql,''ds_historico'',''ds_historico_long'') ' || chr(13) || chr(10) ||
				' where	rownum = 1 and ds_sql like ''%ds_historico%'' and ds_sql not like ''%ds_historico_long%'' and exists	(select	1 ' || chr(13) || chr(10) ||
				'from	relatorio x ' || chr(13) || chr(10) ||
				'where	x.nr_sequencia = a.nr_seq_relatorio ' || chr(13) || chr(10) ||
				'and	x.cd_classif_relat = ''WPLS'' ' || chr(13) || chr(10) ||
				'and	x.cd_relatorio = ''00830'') ';

	CALL exec_sql_dinamico('BACA',ds_comando_w);
	commit;
end if;
exception
when others then
	null;
end;

begin
/*Francisco 31/10/2014  -  Ajustar data final de atendimento agendamentos */

if (dt_versao_atual_cliente_w < to_date('31/10/2014','dd/mm/yyyy')) then
	CALL exec_sql_dinamico('BACA','update mprev_agendamento set dt_atualizacao = dt_atualizacao where (nr_seq_participante is not null or nr_seq_turma is not null)');
end if;
exception
when others then
	null;
end;


begin
	/*Djavan 03/11/2014  -  Ajustar o cadastro de motivos de cancelamento da guia para alterar o valor do campo IE_MOTIVO_CANCEL_WSD de 'S' para 'IC'(Importação do pedido de cancelamento PTU on-line)*/

	if (dt_versao_atual_cliente_w < to_date('03/11/2014','dd/mm/yyyy')) then
		CALL exec_sql_dinamico('BACA','update pls_guia_motivo_cancel set IE_MOTIVO_CANCEL_WSD = ''IC'' where ie_motivo_cancel_wsd = ''S''');
	end if;

	/*Eder 03/11/2014  -  Inativar o parâmetro [57] - Permite utilizar a nova tela de Autorização com inserção de anexos na guia, da função OPSW - Autorizações*/

	if (dt_versao_atual_cliente_w < to_date('03/11/2014','dd/mm/yyyy')) then
		CALL exec_sql_dinamico('BACA','update funcao_parametro set cd_exp_parametro = 319239, nr_seq_classificacao = 10, dt_atualizacao = sysdate where  cd_funcao = 1247 and nr_sequencia = 57 ');
	end if;

	/*Eder 04/11/2014  -  Inativar o parâmetro [11] - Forma de visualização da importação de contas médicas, da função OPSW - Contas Médicas*/

	if (dt_versao_atual_cliente_w < to_date('04/11/2014','dd/mm/yyyy')) then
		CALL exec_sql_dinamico('BACA','update funcao_parametro set cd_exp_parametro = 319239, nr_seq_classificacao = 10, dt_atualizacao = sysdate where  cd_funcao = 1249 and nr_sequencia = 11 ');
	end if;

	/*Eder 04/11/2014  -  Inativar o parâmetro [33] - Permite informar dados de recém nascido, da função OPSW - Autorizações */

	if (dt_versao_atual_cliente_w < to_date('04/11/2014','dd/mm/yyyy')) then
		CALL exec_sql_dinamico('BACA','update funcao_parametro set cd_exp_parametro = 319239, nr_seq_classificacao = 10, dt_atualizacao = sysdate where  cd_funcao = 1247 and nr_sequencia = 33 ');
	end if;

exception
when others then
	null;
end;

begin
/*Eder 19/12/2014  -  Ajustar label do parâmetro[5] da função OPSW - Contas médicas  OS 829568*/

if (dt_versao_atual_cliente_w < to_date('19/12/2014','dd/mm/yyyy')) then
	CALL exec_sql_dinamico('BACA','update funcao_parametro set cd_exp_parametro = 652018, cd_exp_observacao = 652019, dt_atualizacao= sysdate where cd_funcao = 1249 and nr_sequencia = 5 ');
end if;
exception
when others then
	null;
end;


begin
/*Jucimara -816931 - Ajustar parâmetro 33 da função OPSW - Portal Web, para permitir alteração dos dados cadastrais no acesso do Beneficiário */

if (dt_versao_atual_cliente_w < to_date('28/01/2015','dd/mm/yyyy')) then

	insert	into	pls_web_param_usuario(
			nr_sequencia, cd_estabelecimento, vl_parametro,
			nr_seq_funcao_param,  cd_funcao,
			ie_tipo_acesso, nm_usuario_nrec, dt_atualizacao_nrec,
			dt_atualizacao, nm_usuario)
		values ( nextval('pls_web_param_usuario_seq'), coalesce(cd_estabelecimento_w,1), 'S',
			33,  1246,
			'B', 'baca', clock_timestamp(),
			clock_timestamp(), 'baca');
end if;
exception
when others then
	null;
end;

-- Djavan 27/02/2015 - Retirar o evento Consistir guia da glosa 1416
begin
if (dt_versao_atual_cliente_w < to_date('27/02/2015','dd/mm/yyyy')) then
	CALL baca_pls_inativa_glosa_1416();
end if;
exception
when others then
	null;
end;


begin
/*Eder 18/05/2015  -  Inativar parâmetro[31] -  Permitir visualizar as informações de eventos e tributos somente após geração do título.  OPSW - Contas médicas  OS 885087*/

if (dt_versao_atual_cliente_w < to_date('18/05/2015','dd/mm/yyyy')) then
	CALL exec_sql_dinamico('BACA','update funcao_parametro set cd_exp_parametro = 319239, nr_seq_classificacao = 10, dt_atualizacao= sysdate where cd_funcao = 1249 and nr_sequencia = 31 ');
end if;
exception
when others then
	null;
end;

begin
/*Djavan 17/07/2015  -  Alterar descrição e funcionamento do parâmetro [3] da função OPSW - Identificação de beneficiário*/

if (dt_versao_atual_cliente_w < to_date('17/07/2015','dd/mm/yyyy')) then
	CALL exec_sql_dinamico('BACA','update FUNCAO_PARAMETRO set CD_DOMINIO = '''', VL_PARAMETRO_PADRAO = '''', CD_EXP_PARAMETRO = 687338, CD_EXP_OBSERVACAO = 687340 where NR_SEQUENCIA = 3 and CD_FUNCAO = 1294 ');
	CALL baca_pls_ajust_cpf_ident_benef('BACA');
end if;
exception
when others then
	null;
end;

begin
/*Jucimara 08/03/2016 -  OS 1024408, ajustar os  campos refernte aos navegadores  permitidos, da função OPS - Gestão de Operadoras*/

if (dt_versao_atual_cliente_w < to_date('08/03/2016','dd/mm/yyyy')) then
	CALL pls_baca_ajustar_naveg_permit();
end if;
exception
when others then
	null;
end;

begin
/*Jucimara 08/12/2017 -  OS 1562657, transferir o valor do parâmetro [2] da função OPSW - Portal web para a tabela PLS_WEB_PARAM_GERAL*/

if (dt_versao_atual_cliente_w < to_date('08/12/2017','dd/mm/yyyy')) then
	CALL pls_baca_transfere_vl_param(1246,2,'PLS_WEB_PARAM_GERAL','DS_LINK_PORTAL_OPS');
end if;
exception
when others then
	null;
end;

begin
/*Jucimara 08/12/2017 -  OS 1562664, transferir o valor do parâmetro [4] da função OPSW - Portal web para a tabela PLS_WEB_PARAM_GERAL*/

if (dt_versao_atual_cliente_w < to_date('08/12/2017','dd/mm/yyyy')) then
	CALL pls_baca_transfere_vl_param(1246,4,'PLS_WEB_PARAM_GERAL','DS_LINK_SITE_OPERADORA');
end if;
exception
when others then
	null;
end;

commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_ajustar_base_atend ( nm_usuario_p text) FROM PUBLIC;

