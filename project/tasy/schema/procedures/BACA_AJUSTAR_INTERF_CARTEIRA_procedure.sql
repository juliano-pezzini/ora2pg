-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE baca_ajustar_interf_carteira () AS $body$
DECLARE


qt_interface_w		bigint;


BEGIN

/* Ativia */

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2155;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ds_carencia, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	cd_matricula_familiar, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	dt_adesao, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	ds_segmentacao, ' || chr(13) ||
	'	nm_plano, ' || chr(13) ||
	'	ds_trilha_1, ' || chr(13) ||
	'	ds_trilha_2 ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2155;
end if;

/* Benecamp*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2523;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ie_tipo_reg, ' || chr(13) ||
	'	ds_header, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	ds_registro_ans, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	ds_segmentacao, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	ds_carencia, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	ds_trilha_1, ' || chr(13) ||
	'	ds_trilha_2 ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2523;
end if;

/*Filosanitas*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2631;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	lpad(nr_registro,6,''0'') nr_registro_linha, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	ds_dt_carencia, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	nr_via_cartao, ' || chr(13) ||
	'	ds_observacao_2 ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2631;
end if;

/*Santamália*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2553;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ie_tipo_reg, ' || chr(13) ||
	'	ds_header, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	ds_trilha_1, ' || chr(13) ||
	'	ds_trilha_2, ' || chr(13) ||
	'	ds_trilha_3, ' || chr(13) ||
	'	nm_titular, ' || chr(13) ||
	'	nm_plano, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	dt_validade_carteira, ' || chr(13) ||
	'	ds_tipo_contratacao, ' || chr(13) ||
	'	dt_adesao, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	ds_segmentacao, ' || chr(13) ||
	'	nr_protocolo_ans, ' || chr(13) ||
	'	ds_carencia, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	ds_dt_carencia ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2553;
end if;

/*Seisa*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2180;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	cd_usuario_plano, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	nm_titular, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	nm_plano, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	ds_tipo_contratacao, ' || chr(13) ||
	'	cd_identidade, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	dt_adesao, ' || chr(13) ||
	'	dt_validade_carteira, ' || chr(13) ||
	'	ds_carencia, ' || chr(13) ||
	'	ie_dlp, ' || chr(13) ||
	'	ie_tipo_dlp, ' || chr(13) ||
	'	ds_branco, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	cd_usuario_titular, ' || chr(13) ||
	'	cd_cep, ' || chr(13) ||
	'	ds_logradouro, ' || chr(13) ||
	'	ds_bairro, ' || chr(13) ||
	'	ds_municipio, ' || chr(13) ||
	'	sg_uf, ' || chr(13) ||
	'	ie_titularidade' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2180;
end if;

/*Unimed Blumenau*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2185;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ds_header, ' || chr(13) ||
	'	ie_tipo_reg, ' || chr(13) ||
	'	ds_rede_atendimento, ' || chr(13) ||
	'	ds_regiao, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	ds_trilha_1, ' || chr(13) ||
	'	ds_trilha_2, ' || chr(13) ||
	'	ds_trilha_3, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	ds_tipo_contratacao, ' || chr(13) ||
	'	dt_validade_carteira, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	cd_local_cobranca, ' || chr(13) ||
	'	nm_plano, ' || chr(13) ||
	'	cd_abrangencia, ' || chr(13) ||
	'	ds_registro_ans, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	cd_operadora_empresa, ' || chr(13) ||
	'	dt_cpt, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	ds_carencia, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	ds_observacao_2, ' || chr(13) ||
	'	tp_contrato, ' || chr(13) ||
	'	nr_via_cartao, ' || chr(13) ||
	'	nr_protocolo_ans, ' || chr(13) ||
	'	ds_branco ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2185;
end if;

/*Unimed Ituverava*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2237;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ds_header, ' || chr(13) ||
	'	ie_tipo_reg, ' || chr(13) ||
	'	ds_rede_atendimento, ' || chr(13) ||
	'	ds_trilha_2, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	ds_tipo_contratacao, ' || chr(13) ||
	'	dt_validade_carteira, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	cd_local_cobranca, ' || chr(13) ||
	'	nm_plano, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	ds_registro_ans, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	cd_matricula_familiar, ' || chr(13) ||
	'	dt_cpt, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	ds_carencia, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	nr_via_cartao, ' || chr(13) ||
	'	nr_protocolo_ans ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2237;
end if;

/*Unimed Lencóis*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2433;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ds_header, ' || chr(13) ||
	'	ie_tipo_reg, ' || chr(13) ||
	'	ds_rede_atendimento, ' || chr(13) ||
	'	ds_trilha_1, ' || chr(13) ||
	'	ds_trilha_2, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	ds_tipo_contratacao, ' || chr(13) ||
	'	dt_validade_carteira, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	cd_local_cobranca, ' || chr(13) ||
	'	nm_plano, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	ds_registro_ans, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	cd_matricula_estipulante, ' || chr(13) ||
	'	dt_cpt, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	ds_carencia, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	ds_observacao_2, ' || chr(13) ||
	'	nm_operadora_repasse, ' || chr(13) ||
    	'	nr_protocolo_ans, ' || chr(13) ||
	'	nr_via_cartao ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2433;
end if;

/*Unimed Litoral2*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2205;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ds_header, ' || chr(13) ||
	'	ie_tipo_reg, ' || chr(13) ||
	'	ds_rede_atendimento, ' || chr(13) ||
	'	ds_trilha_1, ' || chr(13) ||
	'	ds_trilha_2, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	ds_tipo_contratacao, ' || chr(13) ||
	'	dt_validade_carteira, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	cd_local_cobranca, ' || chr(13) ||
	'	nm_plano, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	ds_registro_ans, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	nr_protocolo_ans, ' || chr(13) ||
	'	dt_cpt, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	ds_carencia, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	ds_observacao_2, ' || chr(13) ||
	'	tp_contrato, ' || chr(13) ||
	'	nr_via_cartao, ' || chr(13) ||
	'	ds_bairro, ' || chr(13) ||
	'	ds_trilha_3, ' || chr(13) ||
	'	ds_mensagem_carencia, ' || chr(13) ||
	'	ds_regiao, ' || chr(13) ||
	'	cd_operadora_empresa, ' || chr(13) ||
	'	ds_branco ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2205;
end if;

/*Unimed Maringá*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2607;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ds_header, ' || chr(13) ||
	'	ie_tipo_reg, ' || chr(13) ||
	'	ds_rede_atendimento, ' || chr(13) ||
	'	ds_regiao, ' || chr(13) ||
	'	ds_trilha_1, ' || chr(13) ||
	'	ds_trilha_2, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	ds_tipo_contratacao, ' || chr(13) ||
	'	dt_validade_carteira, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	cd_local_cobranca, ' || chr(13) ||
	'	nm_plano, ' || chr(13) ||
	'	ds_registro_ans, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	dt_cpt, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	ds_carencia, ' || chr(13) ||
	'	ds_observacao_2, ' || chr(13) ||
	'	nr_via_cartao, ' || chr(13) ||
	'	nr_protocolo_ans ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2607;
end if;

/*Unimed São Carlos*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2622;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ds_header, ' || chr(13) ||
	'	ie_tipo_reg, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	ds_regiao, ' || chr(13) ||
	'	ds_trilha_1, ' || chr(13) ||
	'	ds_trilha_2, ' || chr(13) ||
	'	ds_carencia_1, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	ds_tipo_contratacao, ' || chr(13) ||
	'	dt_validade_carteira, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	cd_local_cobranca, ' || chr(13) ||
	'	ds_carencia_2, ' || chr(13) ||
	'	ds_carencia_4, ' || chr(13) ||
	'	ds_carencia_3, ' || chr(13) ||
	'	ds_carencia_5, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	ds_carencia_6, ' || chr(13) ||
	'	dt_cpt, ' || chr(13) ||
	'	ds_estipulante, ' || chr(13) ||
	'	ds_carencia_7, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	ds_carencia_8, ' || chr(13) ||
	'	ds_carencia_9, ' || chr(13) ||
	'	ds_carencia_10, ' || chr(13) ||
	'	ds_observacao_2, ' || chr(13) ||
	'	ds_carencia_11, ' || chr(13) ||
	'	ds_carencia_12, ' || chr(13) ||
	'	nr_via_cartao, ' || chr(13) ||
	'	nr_protocolo_ans ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2622;
end if;

/*Unimed São José do Rio Preto 2*/

select	count(1)
into STRICT	qt_interface_w
from	interface
where	cd_interface	= 2243;

if (qt_interface_w	> 0) then
	update	interface
	set	ds_comando	=
	'select	ds_header, ' || chr(13) ||
	'	ie_tipo_reg, ' || chr(13) ||
	'	dt_contrato, ' || chr(13) ||
	'	ds_rede_atendimento, ' || chr(13) ||
	'	ds_regiao, ' || chr(13) ||
	'	dt_geracao, ' || chr(13) ||
	'	ds_trilha_2, ' || chr(13) ||
	'	cd_matricula_familiar, ' || chr(13) ||
	'	cd_usuario_plano, ' || chr(13) ||
	'	dt_nascimento, ' || chr(13) ||
	'	ds_tipo_contratacao, ' || chr(13) ||
	'	dt_validade_carteira, ' || chr(13) ||
	'	nm_beneficiario, ' || chr(13) ||
	'	cd_local_cobranca, ' || chr(13) ||
	'	nm_plano, ' || chr(13) ||
	'	cd_abrangencia, ' || chr(13) ||
	'	ds_registro_ans, ' || chr(13) ||
	'	ds_acomodacao, ' || chr(13) ||
	'	cd_operadora_empresa, ' || chr(13) ||
	'	dt_cpt, ' || chr(13) ||
	'	ds_valor_padrao, ' || chr(13) ||
	'	ds_carencia, ' || chr(13) ||
	'	ds_observacao, ' || chr(13) ||
	'	ds_observacao_2, ' || chr(13) ||
	'	tp_contrato, ' || chr(13) ||
	'	nr_via_cartao, ' || chr(13) ||
	'	nr_protocolo_ans, ' || chr(13) ||
	'	ds_branco, ' || chr(13) ||
	'	ie_nova_regulamentacao, ' || chr(13) ||
	'	ds_abrangencia, ' || chr(13) ||
	'	cd_plano, ' || chr(13) ||
	'	ds_bairro ' || chr(13) ||
	'	from	w_pls_interface_carteira '
	where	cd_interface	= 2243;
end if;


commit;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE baca_ajustar_interf_carteira () FROM PUBLIC;

