-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE gerar_pendencias_orientacao_pc (nm_usuario_p text) AS $body$
DECLARE

 
cd_pf_dest_w	varchar(10);


BEGIN 
select	max(obter_pf_usuario(nm_usuario_p,'C')) 
into STRICT	cd_pf_dest_w
;
	begin 
	insert into lista_pendencias_internas( 
			nr_sequencia, 
			dt_atualizacao, 
			nm_usuario, 
			dt_atualizacao_nrec, 
			nm_usuario_nrec, 
			cd_especialidade, 
			ie_tipo_pendencia, 
			cd_profissional_destino, 
			cd_agenda, 
			cd_profissional_pendencia, 
			nr_seq_programa_saude, 
			dt_pendencia 
			) values ( 	 
			nextval('lista_pendencias_internas_seq'), 
			clock_timestamp(), 
			nm_usuario_p, 
			clock_timestamp(), 
			nm_usuario_p, 
			null, 
			'C', 
			null, 
			null, 
			cd_pf_dest_w, 
			null, 
			clock_timestamp());
	end;
commit;
 
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE gerar_pendencias_orientacao_pc (nm_usuario_p text) FROM PUBLIC;

