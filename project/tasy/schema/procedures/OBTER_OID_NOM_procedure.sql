-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE obter_oid_nom (cd_estabelecimento_p bigint, cd_cgc_p text, ie_tipo_oid_p text, ds_oid_p INOUT text, nm_oid_p INOUT text) AS $body$
DECLARE

			
ds_oid_w	cadastro_oid.ds_oid%type;			
nm_oid_w	cadastro_oid.nm_oid%type;




c01 CURSOR FOR
SELECT	ds_oid,
	nm_oid
from	cadastro_oid
where (cd_estabelecimento = cd_estabelecimento_p or (cd_cgc_p IS NOT NULL AND cd_cgc_p::text <> ''))
and (cd_cgc = cd_cgc_p or coalesce(cd_cgc_p::text, '') = '')
and	ie_tipo_oid	= ie_tipo_oid_p
order by
	nr_sequencia;

BEGIN

for r_c01 in c01 loop
	begin
	ds_oid_p := r_c01.ds_oid;
	nm_oid_p := r_c01.nm_oid;
	end;
end loop;


end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE obter_oid_nom (cd_estabelecimento_p bigint, cd_cgc_p text, ie_tipo_oid_p text, ds_oid_p INOUT text, nm_oid_p INOUT text) FROM PUBLIC;

