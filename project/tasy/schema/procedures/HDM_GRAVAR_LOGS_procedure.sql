-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE hdm_gravar_logs (Ds_Log_Hdm_P text, Ie_Tipo_Log_P text, Ds_Titulo_P text, NR_SEQ_POPULACAO_ALVO_P bigint) AS $body$
DECLARE


Nm_Usuario_W	varchar(15);


BEGIN

Nm_Usuario_W := coalesce(Obter_Usuario_Ativo,'Tasy');

Insert Into Hdm_Log_Integracao(Nr_Sequencia,
                              Dt_Atualizacao,
                              Nm_Usuario,
                              Dt_Atualizacao_Nrec,
                              Nm_Usuario_Nrec,
                              Ds_Log_Hdm,
                              Ie_Tipo_Log,
                              Ds_Titulo,
                              Nr_Seq_Populacao_Alvo)

                      Values (nextval('hdm_log_integracao_seq'),
                              clock_timestamp(),
                              Nm_Usuario_W,
                              clock_timestamp(),
                              Nm_Usuario_W,
                              SUBSTR(Ds_Log_Hdm_P,1,4000),
                              Ie_Tipo_Log_P,
                              Ds_Titulo_P,
                              NR_SEQ_POPULACAO_ALVO_P);


End;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE hdm_gravar_logs (Ds_Log_Hdm_P text, Ie_Tipo_Log_P text, Ds_Titulo_P text, NR_SEQ_POPULACAO_ALVO_P bigint) FROM PUBLIC;

