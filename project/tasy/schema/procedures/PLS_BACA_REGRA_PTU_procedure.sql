-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE pls_baca_regra_ptu () AS $body$
DECLARE

CD_INTERFACE_A100_E_w	integer;
CD_INTERFACE_A200_E_w	integer;
CD_INTERFACE_A300_E_w	integer;
CD_INTERFACE_A400_E_w	integer;
CD_INTERFACE_A450_E_w	integer;
CD_INTERFACE_A500_E_w	integer;
CD_INTERFACE_A550_E_w	integer;
CD_INTERFACE_A560_E_w	integer;
CD_INTERFACE_A600_E_w	integer;
CD_INTERFACE_A700_E_w	integer;
CD_INTERFACE_A800_E_w	integer;
CD_ESTABELECIMENTO_w	smallint;
NM_USUARIO_w		varchar(15);

C01 CURSOR FOR
	SELECT	CD_INTERFACE_A100_E,
		CD_INTERFACE_A200_E,
		CD_INTERFACE_A300_E,
		CD_INTERFACE_A400_E,
		CD_INTERFACE_A450_E,
		CD_INTERFACE_A500_E,
		CD_INTERFACE_A550_E,
		CD_INTERFACE_A560_E,
		CD_INTERFACE_A600_E,
		CD_INTERFACE_A700_E,
		CD_INTERFACE_A800_E,
		CD_ESTABELECIMENTO
	from	ptu_versao_interface;

BEGIN
open C01;
loop
fetch C01 into
	CD_INTERFACE_A100_E_w,
	CD_INTERFACE_A200_E_w,
	CD_INTERFACE_A300_E_w,
	CD_INTERFACE_A400_E_w,
	CD_INTERFACE_A450_E_w,
	CD_INTERFACE_A500_E_w,
	CD_INTERFACE_A550_E_w,
	CD_INTERFACE_A560_E_w,
	CD_INTERFACE_A600_E_w,
	CD_INTERFACE_A700_E_w,
	CD_INTERFACE_A800_E_w,
	CD_ESTABELECIMENTO_w;
EXIT WHEN NOT FOUND; /* apply on C01 */
begin
if (CD_INTERFACE_A100_E_w IS NOT NULL AND CD_INTERFACE_A100_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A100_E_w,
					'A100');
end if;
if (CD_INTERFACE_A200_E_w IS NOT NULL AND CD_INTERFACE_A200_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A200_E_w,
					'A200');
end if;
if (CD_INTERFACE_A300_E_w IS NOT NULL AND CD_INTERFACE_A300_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A300_E_w,
					'A300');
end if;
if (CD_INTERFACE_A400_E_w IS NOT NULL AND CD_INTERFACE_A400_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A400_E_w,
					'A400');
end if;
if (CD_INTERFACE_A450_E_w IS NOT NULL AND CD_INTERFACE_A450_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A450_E_w,
					'A450');
end if;
if (CD_INTERFACE_A500_E_w IS NOT NULL AND CD_INTERFACE_A500_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A500_E_w,
					'A500');
end if;
if (CD_INTERFACE_A550_E_w IS NOT NULL AND CD_INTERFACE_A550_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A550_E_w,
					'A550');
end if;
if (CD_INTERFACE_A560_E_w IS NOT NULL AND CD_INTERFACE_A560_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A560_E_w,
					'A560');
end if;
if (CD_INTERFACE_A600_E_w IS NOT NULL AND CD_INTERFACE_A600_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A600_E_w,
					'A600');
end if;
if (CD_INTERFACE_A700_E_w IS NOT NULL AND CD_INTERFACE_A700_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A700_E_w,
					'A700');
end if;
if (CD_INTERFACE_A800_E_w IS NOT NULL AND CD_INTERFACE_A800_E_w::text <> '') then
	insert into ptu_regra_interface(NR_SEQUENCIA,
					CD_ESTABELECIMENTO,
					DT_ATUALIZACAO,
					NM_USUARIO,
					DT_ATUALIZACAO_NREC,
					NM_USUARIO_NREC,
					NR_SEQ_CONGENERE,
					DT_INICIO_VIGENCIA,
					CD_INTERFACE,
					IE_TIPO_PTU)
	values (nextval('ptu_regra_interface_seq'),
					CD_ESTABELECIMENTO_w,
					clock_timestamp(),
					'BACA',
					clock_timestamp(),
					'BACA',
					null,
					to_date('01/01/2000'),
					CD_INTERFACE_A800_E_w,
					'A800');
end if;
commit;
end;
end loop;
close C01;

end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE pls_baca_regra_ptu () FROM PUBLIC;

