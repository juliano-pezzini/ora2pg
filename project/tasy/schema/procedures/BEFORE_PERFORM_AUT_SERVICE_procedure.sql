-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';





CREATE OR REPLACE PROCEDURE before_perform_aut_service (CD_CONVENIO_P bigint, CD_CATEGORIA_P bigint, CD_CONTRACT_P text, CD_INDENTIFICATION_P bigint, CD_MEMBER_P bigint, CD_FAMILY_ID_P bigint, CD_PESSO_FISICA_P text, CD_WEBID_P bigint, CD_BENEF_ID_P bigint, CD_SERVICE_P bigint, CD_DIAGNOSTICO_P text, CD_PROFESSIONAL_PROVIDER_P bigint, IE_SEND_TYPE_P text, NM_USUARIO_P text, NR_SEQ_TRANS_P INOUT bigint) AS $body$
BEGIN
DELETE FROM W_RETURN_AUT_SERV
WHERE NM_USUARIO = NM_USUARIO_P;

NR_SEQ_TRANS_P := PERFORM_AUTHORIZATION_SERVICE(CD_CONVENIO_P, CD_CATEGORIA_P, CD_CONTRACT_P, CD_INDENTIFICATION_P, CD_MEMBER_P, CD_FAMILY_ID_P, CD_PESSO_FISICA_P, CD_WEBID_P, CD_BENEF_ID_P, CD_SERVICE_P, CD_DIAGNOSTICO_P, CD_PROFESSIONAL_PROVIDER_P, IE_SEND_TYPE_P, NM_USUARIO_P, NR_SEQ_TRANS_P);
commit;
end;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE before_perform_aut_service (CD_CONVENIO_P bigint, CD_CATEGORIA_P bigint, CD_CONTRACT_P text, CD_INDENTIFICATION_P bigint, CD_MEMBER_P bigint, CD_FAMILY_ID_P bigint, CD_PESSO_FISICA_P text, CD_WEBID_P bigint, CD_BENEF_ID_P bigint, CD_SERVICE_P bigint, CD_DIAGNOSTICO_P text, CD_PROFESSIONAL_PROVIDER_P bigint, IE_SEND_TYPE_P text, NM_USUARIO_P text, NR_SEQ_TRANS_P INOUT bigint) FROM PUBLIC;

