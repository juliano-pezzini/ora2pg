-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW cpoe_solucao_med_comp_v (nr_sequencia, cd_material, cd_mat_comp, cd_unid_med_dose_comp, ds_dose_diferenciada_comp, qt_dose_comp) AS select NR_SEQUENCIA,CD_MATERIAL,CD_MAT_COMP,CD_UNID_MED_DOSE_COMP,DS_DOSE_DIFERENCIADA_COMP,QT_DOSE_COMP
FROM (
		select	nr_sequencia nr_sequencia,
				cd_material cd_material,
				cd_mat_comp1 cd_mat_comp,
				cd_unid_med_dose_comp1 cd_unid_med_dose_comp,
				ds_dose_diferenciada_comp1 ds_dose_diferenciada_comp,
				qt_dose_comp1 qt_dose_comp
		from	cpoe_material
		where	cd_mat_comp1 is not null
		
union all

		select	nr_sequencia nr_sequencia,
				cd_material cd_material,
				cd_mat_comp2 cd_mat_comp,
				cd_unid_med_dose_comp2 cd_unid_med_dose_comp,
				ds_dose_diferenciada_comp2 ds_dose_diferenciada_comp,
				qt_dose_comp2 qt_dose_comp
		from	cpoe_material
		where	cd_mat_comp2 is not null
		
union all

		select	nr_sequencia nr_sequencia,
				cd_material cd_material,
				cd_mat_comp3 cd_mat_comp,
				cd_unid_med_dose_comp3 cd_unid_med_dose_comp,
				ds_dose_diferenciada_comp3 ds_dose_diferenciada_comp,
				qt_dose_comp3 qt_dose_comp
		from	cpoe_material
		where	cd_mat_comp3 is not null
		
union all

		select	nr_sequencia nr_sequencia,
				cd_material cd_material,
				cd_mat_comp4 cd_mat_comp,
				cd_unid_med_dose_comp4 cd_unid_med_dose_comp,
				ds_dose_diferenciada_comp4 ds_dose_diferenciada_comp,
				qt_dose_comp4 qt_dose_comp
		from	cpoe_material
		where	cd_mat_comp4 is not null
		
union all

		select	nr_sequencia nr_sequencia,
				cd_material cd_material,
				cd_mat_comp5 cd_mat_comp,
				cd_unid_med_dose_comp5 cd_unid_med_dose_comp,
				ds_dose_diferenciada_comp5 ds_dose_diferenciada_comp,
				qt_dose_comp5 qt_dose_comp
		from	cpoe_material
		where	cd_mat_comp5 is not null
		
union all

		select	nr_sequencia nr_sequencia,
				cd_material cd_material,
				cd_mat_comp6 cd_mat_comp,
				cd_unid_med_dose_comp6 cd_unid_med_dose_comp,
				ds_dose_diferenciada_comp6 ds_dose_diferenciada_comp,
				qt_dose_comp6 qt_dose_comp
		from	cpoe_material
		where	cd_mat_comp6 is not null
		
union all

		select	nr_sequencia nr_sequencia,
				cd_material cd_material,
				cd_mat_comp7 cd_mat_comp,
				cd_unid_med_dose_comp7 cd_unid_med_dose_comp,
				ds_dose_diferenciada_comp7 ds_dose_diferenciada_comp,
				qt_dose_comp7 qt_dose_comp
		from	cpoe_material
		where	cd_mat_comp7 is not null
	) alias0
order by nr_sequencia;

