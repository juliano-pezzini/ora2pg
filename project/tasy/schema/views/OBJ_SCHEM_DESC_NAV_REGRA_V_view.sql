-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW obj_schem_desc_nav_regra_v (nr_seq_obj_schem_param, cd_estabelecimento, cd_perfil, nm_usuario_param, vl_parametro, ds_cliente, ie_tipo) AS SELECT b.nr_sequencia nr_seq_obj_schem_param,
  a.cd_estabelecimento cd_estabelecimento,
  NULL cd_perfil,
  NULL nm_usuario_param,
  NULL vl_parametro,
  a.ds_cliente,
  'E' ie_tipo
FROM obj_schem_order_estab a,
  obj_schem_order b
WHERE a.NR_SEQ_REGRA = b.NR_SEQUENCIA

UNION ALL

SELECT b.nr_sequencia nr_seq_obj_schem_param,
  NULL cd_estabelecimento,
  a.cd_perfil cd_perfil,
  NULL nm_usuario_param,
  NULL vl_parametro,
  a.ds_cliente,
  'P' ie_tipo
FROM obj_schem_order_perfil a,
  obj_schem_order b
WHERE a.NR_SEQ_REGRA = b.NR_SEQUENCIA

UNION ALL

SELECT b.nr_sequencia nr_seq_obj_schem_param,
  NULL cd_estabelecimento,
  NULL cd_perfil,
  a.nm_usuario_regra nm_usuario_param,
  NULL vl_parametro,
  a.ds_cliente,
  'U' ie_tipo
FROM obj_schem_order_usuario a,
  obj_schem_order b
WHERE a.NR_SEQ_REGRA = b.NR_SEQUENCIA;

