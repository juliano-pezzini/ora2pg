-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW pls_solic_alt_campo_prest_v (ie_selecionado, ds_campo, nm_atributo, nm_tabela, ds_valor_new, ds_chave_simples, ie_tipo_complemento, nr_sequencia, nr_seq_prestador, nr_seq_solicitacao) AS select	'N' ie_selecionado,
	substr(pls_obter_dados_solic_alt(a.nm_atributo,null,'S'),1,255) ds_campo, 
	a.nm_atributo, 
	a.nm_tabela, 
	substr(a.ds_valor_new,1,255) ds_valor_new, 
	substr(a.ds_chave_simples,1,255) ds_chave_simples, 
	null ie_tipo_complemento, 
	a.nr_sequencia, 
	null nr_seq_prestador, 
	a.nr_seq_solicitacao 
FROM	tasy_solic_alt_campo	a 
where	a.nm_tabela		= 'PESSOA_FISICA' 

union all
 
select	'N' ie_selecionado, 
	substr(pls_obter_dados_solic_alt(a.nm_atributo,null,'S'),1,255) ds_campo, 
	a.nm_atributo, 
	a.nm_tabela, 
	substr(a.ds_valor_new,1,255) ds_valor_new, 
	substr(substr(a.ds_chave_composta,position('=' in a.ds_chave_composta) +1, length(a.ds_chave_composta)),1,255) ds_chave_simples, 
	null ie_tipo_complemento, 
	a.nr_sequencia, 
	null nr_seq_prestador, 
	a.nr_seq_solicitacao 
from	tasy_solic_alt_campo	a 
where	a.nm_tabela		= 'PESSOA_FISICA_CONTA' 

union all
 
select 'N' ie_selecionado, 
	substr(pls_obter_dados_solic_alt(a.nm_atributo,null,'S'),1,255) ds_campo, 
	a.nm_atributo, 
	a.nm_tabela, 
	substr(a.ds_valor_new,1,255) ds_valor_new, 
	substr(substr(a.ds_chave_composta,position('=' in a.ds_chave_composta) +1 , (position('#@#@' in a.ds_chave_composta) - 18)),1,255) ds_chave_simples, 
	obter_dados_CC_solic_alt_camp(a.ds_chave_composta, 'IE_TIPO_COMPLEMENTO') ie_tipo_complemento, 
	a.nr_sequencia, 
	null nr_seq_prestador, 
	a.nr_seq_solicitacao 
from	tasy_solic_alt_campo	a 
where	a.nm_tabela		= 'COMPL_PESSOA_FISICA' 

union all
 
select	'N' ie_selecionado, 
	substr(pls_obter_dados_solic_alt(a.nm_atributo,null, 'S'),1,255) ds_campo, 
	a.nm_atributo, 
	a.nm_tabela, 
	substr(a.ds_valor_new,1,255) ds_valor_new, 
	substr(a.ds_chave_simples,1,255) ds_chave_simples, 
	null ie_tipo_complemento, 
	a.nr_sequencia, 
	null nr_seq_prestador, 
	a.nr_seq_solicitacao 
from	tasy_solic_alt_campo	a 
where	a.nm_tabela		= 'COMPL_PF_TEL_ADIC' 

union all
 
select	'N' ie_selecionado, 
	substr(pls_obter_dados_solic_alt(a.nm_atributo,null,'S'),1,255) ds_campo, 
	a.nm_atributo, 
	a.nm_tabela, 
	substr(a.ds_valor_new,1,255) ds_valor_new, 
	substr(a.ds_chave_simples,1,255) ds_chave_simples, 
	null ie_tipo_complemento, 
	a.nr_sequencia, 
	null nr_seq_prestador, 
	a.nr_seq_solicitacao 
from	tasy_solic_alt_campo	a 
where	a.nm_tabela		= 'MEDICO' 

union all
 
select	'N' ie_selecionado, 
	substr(pls_obter_dados_solic_alt(a.nm_atributo,null,'S'),1,255) ds_campo, 
	a.nm_atributo, 
	a.nm_tabela, 
	substr(a.ds_valor_new,1,255) ds_valor_new, 
	substr(a.ds_chave_simples,1,255) ds_chave_simples, 
	null ie_tipo_complemento, 
	a.nr_sequencia, 
	null nr_seq_prestador, 
	a.nr_seq_solicitacao 
from	tasy_solic_alt_campo	a 
where	a.nm_tabela		= 'PESSOA_JURIDICA' 

union all
 
select	'N' ie_selecionado, 
	substr(pls_obter_dados_solic_alt(a.nm_atributo,null,'S'),1,255) ds_campo, 
	a.nm_atributo, 
	a.nm_tabela, 
	substr(ds_valor_new,1,255) ds_valor_new, 
	substr(substr(a.ds_chave_composta,position('=' in a.ds_chave_composta) +1, length(a.ds_chave_composta)),1,255) ds_chave_simples, 
	null ie_tipo_complemento, 
	a.nr_sequencia, 
	null nr_seq_prestador, 
	a.nr_seq_solicitacao 
from	tasy_solic_alt_campo	a 
where	a.nm_tabela		= 'PESSOA_JURIDICA_CONTA' 

union all
 
select	'N' ie_selecionado, 
	substr(pls_obter_dados_solic_alt(a.nm_atributo,null, 'S'),1,255) ds_campo, 
	a.nm_atributo, 
	a.nm_tabela, 
	substr(a.ds_valor_new,1,255) ds_valor_new, 
	substr(substr(a.ds_chave_composta,position('=' in a.ds_chave_composta) +1, length(a.ds_chave_composta)),1,255) ds_chave_simples, 
	null ie_tipo_complemento, 
	a.nr_sequencia, 
	null nr_seq_prestador, 
	a.nr_seq_solicitacao 
from	tasy_solic_alt_campo	a 
where	a.nm_tabela		= 'PESSOA_JURIDICA_ESTAB' 

union all
 
select	'N' ie_selecionado, 
	substr(pls_obter_dados_solic_alt(a.nm_atributo,null,'S'),1,255) ds_campo, 
	a.nm_atributo, 
	a.nm_tabela, 
	substr(a.ds_valor_new,1,255) ds_valor_new, 
	substr(substr(a.ds_chave_composta,position('=' in a.ds_chave_composta) +1,(position('#@#@' in a.ds_chave_composta) - 8)),1,255) ds_chave_simples, 
	obter_dados_CC_solic_alt_camp(a.ds_chave_composta, 'IE_TIPO_COMPLEMENTO') ie_tipo_complemento, 
	a.nr_sequencia, 
	obter_dados_CC_solic_alt_camp(a.ds_chave_composta, 'NR_SEQ_PRESTADOR') nr_seq_prestador, 
	a.nr_seq_solicitacao 
from	tasy_solic_alt_campo	a 
where	a.nm_tabela		= 'PESSOA_JURIDICA_COMPL';

