-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW movto_trans_financ_v (nr_sequencia, dt_transacao, nr_seq_trans_financ, vl_transacao, dt_atualizacao, nm_usuario, vl_recebido, nr_seq_banco, nr_seq_caixa, cd_pessoa_fisica, cd_cgc, nr_seq_titulo_pagar, nr_seq_titulo_receber, nr_bordero, nr_adiantamento, nr_seq_banco_od, nr_seq_caixa_od, cd_conta_contabil, cd_centro_custo, nr_seq_nota_fiscal, nr_interno_conta, nr_documento, ds_historico, dt_referencia_saldo, nr_seq_lote, dt_fechamento_lote, cd_tipo_recebimento, cd_tipo_baixa_cpa, nr_seq_cheque, nr_seq_conv_receb, nr_seq_deposito, nr_seq_saldo_caixa, nr_seq_saldo_banco, nr_seq_banco_escrit, dt_autenticacao, nr_lote_contabil, nr_seq_concil, nr_adiant_pago, ie_conciliacao, nr_seq_cheque_cp, ie_origem_lancamento, cd_historico, nr_bordero_rec, nr_seq_movto_cartao, nr_seq_motivo_dev, nr_seq_caixa_rec, nr_seq_movto_transf, dt_conferencia, nr_seq_cobr_escrit, nr_seq_relat_desp, ie_estorno, nr_seq_bordero_cheque, nr_seq_proj_gpi, nr_seq_etapa_gpi, nr_seq_lote_cartao, nr_seq_proj_rec, nr_seq_movto_orig, cd_conta_financ, cd_portador, cd_tipo_portador, nr_seq_lote_origem, nr_seq_classif, ie_rejeitado, ds_observacao, nr_seq_caixa_od_rej, nr_seq_movto_transf_bco, nr_seq_pagador, dt_rejeicao, nm_usuario_rejeicao, nr_seq_movto_rejeitado, nr_seq_parc_cartao, nr_seq_titulo, nr_seq_od, ie_banco, ds_transacao, ie_sit_transacao, ie_caixa, ie_cartao_cr, ie_cartao_debito, ie_saldo_caixa, nr_seq_segurado) AS Select		a.NR_SEQUENCIA,
	a.DT_TRANSACAO,
	a.NR_SEQ_TRANS_FINANC,
	a.VL_TRANSACAO,
	a.DT_ATUALIZACAO,
	a.NM_USUARIO,
	a.VL_RECEBIDO,
	a.NR_SEQ_BANCO,
	a.NR_SEQ_CAIXA,
	a.CD_PESSOA_FISICA,
	a.CD_CGC,
	a.NR_SEQ_TITULO_PAGAR,
	a.NR_SEQ_TITULO_RECEBER,
	a.NR_BORDERO,
	a.NR_ADIANTAMENTO,
	a.NR_SEQ_BANCO_OD,
	a.NR_SEQ_CAIXA_OD,
	a.CD_CONTA_CONTABIL,
	a.CD_CENTRO_CUSTO,
	a.NR_SEQ_NOTA_FISCAL,
	a.NR_INTERNO_CONTA,
	a.NR_DOCUMENTO,
	a.DS_HISTORICO,
	a.DT_REFERENCIA_SALDO,
	a.NR_SEQ_LOTE,
	a.DT_FECHAMENTO_LOTE,
	a.CD_TIPO_RECEBIMENTO,
	a.CD_TIPO_BAIXA_CPA,
	a.NR_SEQ_CHEQUE,
	a.NR_SEQ_CONV_RECEB,
	a.NR_SEQ_DEPOSITO,
	a.NR_SEQ_SALDO_CAIXA,
	a.NR_SEQ_SALDO_BANCO,
	a.NR_SEQ_BANCO_ESCRIT,
	a.DT_AUTENTICACAO,
	a.NR_LOTE_CONTABIL,
	a.NR_SEQ_CONCIL,
	a.NR_ADIANT_PAGO,
	a.IE_CONCILIACAO,
	a.NR_SEQ_CHEQUE_CP,
	a.IE_ORIGEM_LANCAMENTO,
	a.CD_HISTORICO,
	a.NR_BORDERO_REC,
	a.NR_SEQ_MOVTO_CARTAO,
	a.NR_SEQ_MOTIVO_DEV,
	a.NR_SEQ_CAIXA_REC,
	a.NR_SEQ_MOVTO_TRANSF,
	a.DT_CONFERENCIA,
	a.NR_SEQ_COBR_ESCRIT,
	a.NR_SEQ_RELAT_DESP,
	a.IE_ESTORNO,
	a.NR_SEQ_BORDERO_CHEQUE,
	a.NR_SEQ_PROJ_GPI,
	a.NR_SEQ_ETAPA_GPI,
	a.NR_SEQ_LOTE_CARTAO,
	a.NR_SEQ_PROJ_REC,
	a.NR_SEQ_MOVTO_ORIG,
	a.CD_CONTA_FINANC,
	a.CD_PORTADOR,
	a.CD_TIPO_PORTADOR,
	a.NR_SEQ_LOTE_ORIGEM,
	a.NR_SEQ_CLASSIF,
	a.IE_REJEITADO,
	a.DS_OBSERVACAO,
	a.NR_SEQ_CAIXA_OD_REJ,
	a.NR_SEQ_MOVTO_TRANSF_BCO,
	a.NR_SEQ_PAGADOR,
	a.DT_REJEICAO,
	a.NM_USUARIO_REJEICAO,
	a.NR_SEQ_MOVTO_REJEITADO,
	a.NR_SEQ_PARC_CARTAO,
	coalesce(a.nr_seq_titulo_pagar, a.nr_seq_titulo_receber) nr_seq_titulo,
	coalesce(a.nr_seq_banco_od, a.nr_seq_caixa_od) nr_seq_od,
	b.ie_banco,
	b.ds_transacao,
	b.ie_situacao ie_sit_transacao,
	b.ie_caixa,
	b.ie_cartao_cr,
	b.ie_cartao_debito,
	b.ie_saldo_caixa,
	a.nr_seq_segurado
FROM 		transacao_financeira b,
		movto_trans_financ a
where  	a.nr_seq_trans_financ   = b.nr_sequencia;

