-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW rothman_nursing_assessments_v (nr_sequencia, idobx, identifier, text, nameofcodingsystem, observatopmvalue, units, valuetype, date_time_of_message) AS select	a.nr_sequencia,
		1 idObx,
		'BRADEN' identifier,
		'Braden Score' text,
		'ROTHMAN' NameOfCodingSystem,
		to_char(QT_BRADEN_SCORE) observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dT_BRADEN_SCORE,'yyyymmddhh24miss') date_time_of_message
FROM	escala_rothman a

union all

select	a.nr_sequencia,
		2 idObx,
		'CARDREGULARITY' identifier,
		'Cardiac Regularity' text,
		'ROTHMAN' NameOfCodingSystem,
		IE_SIST_CARDIACO observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_SIST_CARDIACO,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		3 idObx,
		'BRADENNUTRITION' identifier,
		'Nutrition' text,
		'ROTHMAN' NameOfCodingSystem,
		to_char(IE_NUTRICAO) observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_NUTRICAO,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		4 idObx,
		'GIWDL' identifier,
		'Gastrointestinal (WDL)' text,
		'ROTHMAN' NameOfCodingSystem,
		IE_SIST_GASTROINTESTINAL observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_SIST_GASTROINTESTINAL,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		5 idObx,
		'GUWDL' identifier,
		'Genitourinary (WDL)' text,
		'ROTHMAN' NameOfCodingSystem,
		IE_SIST_GENITURINARIO observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_SIST_GENITURINARIO,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		6 idObx,
		'MUSCSKELWDL' identifier,
		'Musculoskeletal (WDL)' text,
		'ROTHMAN' NameOfCodingSystem,
		IE_SIST_MUSC_ESQ observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_SIST_MUSC_ESQ,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		7 idObx,
		'NEUROWDL' identifier,
		'Neuro (WDL)' text,
		'ROTHMAN' NameOfCodingSystem,
		IE_SIST_NEUROLOGICO observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_SIST_NEUROLOGICO,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		8 idObx,
		'RESPIRATION' identifier,
		'Resp' text,
		'ROTHMAN' NameOfCodingSystem,
		IE_SIST_RESPIRATORIO observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_SIST_RESPIRATORIO,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		9 idObx,
		'MORSESCORE' identifier,
		'Score' text,
		'ROTHMAN' NameOfCodingSystem,
		coalesce(to_char(Obter_rothman_escala_morse(QT_MORSE_SCORE)),'0') observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.DT_MORSE_SCORE,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		10 idObx,
		'SKINWDL' identifier,
		'Skin (WDL)' text,
		'ROTHMAN' NameOfCodingSystem,
		IE_SIST_TEGUMENTAR observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_SIST_TEGUMENTAR,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		11 idObx,
		'PVSWDL' identifier,
		'Peripheral Vascular (WDL)' text,
		'ROTHMAN' NameOfCodingSystem,
		IE_SIST_VASC_PERIFERICO observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_SIST_VASC_PERIFERICO,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		12 idObx,
		'PSYCHOSOCIALWDL' identifier,
		'Psychosocial (WDL)' text,
		'ROTHMAN' NameOfCodingSystem,
		IE_PSICOSSOCIAL_COMPORT observatopmValue,
		'' units,
		'NM' valueType,
		 to_char(a.dt_PSICOSSOCIAL_COMPORT,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a

union all

select	a.nr_sequencia,
		13 idObx,
		'CARDRHYTHM' identifier,
		'Cardiac Rhythm' text,
		'ROTHMAN' NameOfCodingSystem,
		Rothman_Obter_Ritmo_Card(ie_ritmo_ecg) observatopmValue,
		'' units,
		'ST' valueType,
		 to_char(a.dt_ritmo_ecg,'yyyymmddhh24miss') date_time_of_message
from	escala_rothman a;

