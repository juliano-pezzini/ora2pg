-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW score_data_v (ds_escala, dt_atualizacao, ds_resultado, cd_profissional, nr_atendimento, dt_liberacao) AS select 'Pulse Score' ds_escala,
	   dt_atualizacao,
	   substr(IE_PULS || ' - ' || obter_valor_dominio(8637, IE_PULS),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
FROM ESCALA_PULS
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'Barthel index' ds_escala,
	   dt_atualizacao,
	   substr(qt_pontuacao || ' - ' || obter_desc_escala_barthel(qt_pontuacao),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from ESCALA_BARTHEl
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'New York Heart Association (NYHA)' ds_escala,
	   dt_atualizacao,
	   substr(ie_classe || ' - ' || get_description_nyha_value(ie_classe),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from ESCALA_NYHA
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'Maddrey-Score (for ASH â€“ Alcoholic steatoh' ds_escala,
	   dt_atualizacao,
	   substr(QT_PONTUACAO || ' - ' || ds_pontuacao,1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from ESCALA_Maddrey
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'Karnowski-Score (Performance status)' ds_escala,
	   dt_atualizacao,
	   substr(IE_KARNOFSKY || ' - ' || obter_valor_dominio(1531,IE_KARNOFSKY),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from ESCALA_KARNOFSKY
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'GOLD' ds_escala,
	   dt_atualizacao,
	   substr(obter_result_gold(nr_sequencia),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from ESCALA_GOLD
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'Bishop-Score' ds_escala,
	   dt_atualizacao,
	   substr(qt_pontuacao,1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from ESCALA_BISHOP
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'Caprini Risk Assessment' ds_escala,
	   dt_atualizacao,
	   substr('Risk' || ' - ' || obter_valor_dominio(8636,IE_RISCO) || chr(10)||chr(13) || 'Result'|| ' - ' || DS_RESULTADO,1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from escala_caprini
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'TISS - Therapeutic Intervention Score' ds_escala,
	   dt_atualizacao,
	   substr(qt_pontuacao,1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from TISS_INTERV_TERAPEUTICA_10
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'RSC aus Helios-Kliniken - Einteilun' ds_escala,
	   dt_atualizacao,
	   substr(QT_PONTUACAO || ' - ' || get_score_escala_helios(nr_sequencia),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from escala_helios
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'Apgar-Score (Newborn Assessment)' ds_escala,
	   dt_atualizacao,
	   substr(QT_PONTUACAO ,1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from escala_apgar
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'CHILD-Pugh-Score (for liver cirrhosis)' ds_escala,
	   dt_atualizacao,
	   substr(QT_PONTUACAO || ' - ' || obter_result_child_pugh(qt_pontuacao),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from escala_child_pugh
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'Forrest Classification' ds_escala,
	   dt_atualizacao,
	   substr(obter_valor_dominio(8627,IE_FORREST),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from escala_forrest
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'NRS - Numerische Rating Skala' ds_escala,
	   dt_atualizacao,
	   substr(qt_pontuacao || ' - ' || Obter_Resul_nrs(qt_pontuacao),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from escala_nrs
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'SAPS II - Simplified acute physiology score' ds_escala,
	   dt_atualizacao,
	   substr(QT_SAPS,1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from escala_saps
where dt_liberacao is not null
and	  dt_inativacao is null

union all

select 'ECOG Performance status' ds_escala,
	   dt_atualizacao,
	   substr(Obter_desc_nivel_capacid_ecog(ie_nivel_ecog),1,255) ds_resultado,
	   substr(obter_nome_pf(CD_PROFISSIONAL),1,255) cd_profissional,
	   nr_atendimento,
	   dt_liberacao
from escala_ecog
where dt_liberacao is not null
and	  dt_inativacao is null;

