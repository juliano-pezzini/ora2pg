-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW grafico_tempo_movimento_v (ds_profissional, ds_tempo, nr_minuto_duracao, qt_tempo_atraso, dt_inicio, dt_fim, somatorio, nr_cirurgia) AS SELECT  obter_nome_pf(cd_profissional) DS_PROFISSIONAL,
         (SELECT SUBSTR(ds_tempo,1,150) ds FROM tempo_cirurgico WHERE nr_sequencia = nr_seq_tempo) DS_TEMPO,
		 Obter_Min_Entre_Datas(dt_inicio, dt_fim, NULL) NR_MINUTO_DURACAO,
		 obter_atraso_tempo_cirurgico(nr_seq_tempo,nr_cirurgia,nr_seq_pepo) QT_TEMPO_ATRASO,
		 dt_inicio,
		 dt_fim,
		 1 somatorio,
		 nr_cirurgia
 FROM TEMPO_CIRURGICO_CIRURGIA a
WHERE 1 = 1;

