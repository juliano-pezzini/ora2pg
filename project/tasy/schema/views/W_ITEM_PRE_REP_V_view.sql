-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW w_item_pre_rep_v (nr_sequencia, cd_item, cd_unidade_medida, ds_diluicao, ds_item, dt_atualizacao, dt_atualizacao_nrec, ie_gerar_prescr, ie_tipo_item, ie_via_aplicacao, nm_usuario, nm_usuario_nrec, qt_item, cd_protocolo, nr_seq_protocolo, nr_seq_mat_protocolo, nr_seq_prot_protocolo, ie_titulo, nr_atendimento) AS select	null nr_sequencia,
	null cd_item,
	null cd_unidade_medida,
	'' ds_diluicao,
	'Medicamentos' ds_item,
	null dt_atualizacao,
	null dt_atualizacao_nrec,
	'' ie_gerar_prescr,
	'' ie_tipo_item,
	'' ie_via_aplicacao,
	'' nm_usuario,
	'' nm_usuario_nrec,
	null qt_item,
	null cd_protocolo,
	null nr_seq_protocolo,
	null nr_seq_mat_protocolo,
	null nr_seq_prot_protocolo,
	'S' ie_titulo,
	null nr_atendimento
FROM	w_item_pre_rep
union all

select	nr_sequencia,
	cd_item,
	cd_unidade_medida,
	ds_diluicao,
	ds_item,
	dt_atualizacao,
	dt_atualizacao_nrec,
	ie_gerar_prescr,
	ie_tipo_item,
	ie_via_aplicacao,
	nm_usuario,
	nm_usuario_nrec,
	qt_item,
	cd_protocolo,
	nr_seq_protocolo,
	nr_seq_mat_protocolo,
	nr_seq_prot_protocolo,
	'' ie_titulo,
	nr_atendimento
from	w_item_pre_rep
where	ie_tipo_item = 'MED'

union all

select	null,
	null cd_item,
	null cd_unidade_medida,
	'' ds_diluicao,
	'Materiais' ds_item,
	null dt_atualizacao,
	null dt_atualizacao_nrec,
	'' ie_gerar_prescr,
	'' ie_tipo_item,
	'' ie_via_aplicacao,
	'' nm_usuario,
	'' nm_usuario_nrec,
	null qt_item,
	null cd_protocolo,
	null nr_seq_protocolo,
	null nr_seq_mat_protocolo,
	null nr_seq_prot_protocolo,
	'S' ie_titulo,
	null
from	w_item_pre_rep
union all

select	nr_sequencia,
	cd_item,
	cd_unidade_medida,
	ds_diluicao,
	ds_item,
	dt_atualizacao,
	dt_atualizacao_nrec,
	ie_gerar_prescr,
	ie_tipo_item,
	ie_via_aplicacao,
	nm_usuario,
	nm_usuario_nrec,
	qt_item,
	cd_protocolo,
	nr_seq_protocolo,
	nr_seq_mat_protocolo,
	nr_seq_prot_protocolo,
	'' ie_titulo,
	nr_atendimento
from	w_item_pre_rep
where	ie_tipo_item = 'MAT'

union all

select	null,
	null cd_item,
	null cd_unidade_medida,
	'' ds_diluicao,
	'Procedimentos' ds_item,
	null dt_atualizacao,
	null dt_atualizacao_nrec,
	'' ie_gerar_prescr,
	'' ie_tipo_item,
	'' ie_via_aplicacao,
	'' nm_usuario,
	'' nm_usuario_nrec,
	null qt_item,
	null cd_protocolo,
	null nr_seq_protocolo,
	null nr_seq_mat_protocolo,
	null nr_seq_prot_protocolo,
	'S' ie_titulo,
	null
from	w_item_pre_rep
union all

select	nr_sequencia,
	cd_item,
	cd_unidade_medida,
	ds_diluicao,
	ds_item,
	dt_atualizacao,
	dt_atualizacao_nrec,
	ie_gerar_prescr,
	ie_tipo_item,
	ie_via_aplicacao,
	nm_usuario,
	nm_usuario_nrec,
	qt_item,
	cd_protocolo,
	nr_seq_protocolo,
	nr_seq_mat_protocolo,
	nr_seq_prot_protocolo,
	'' ie_titulo,
	nr_atendimento
from	w_item_pre_rep
where	ie_tipo_item = 'PROC'

union all

select	null,
	null cd_item,
	null cd_unidade_medida,
	'' ds_diluicao,
	'Soluções' ds_item,
	null dt_atualizacao,
	null dt_atualizacao_nrec,
	'' ie_gerar_prescr,
	'' ie_tipo_item,
	'' ie_via_aplicacao,
	'' nm_usuario,
	'' nm_usuario_nrec,
	null qt_item,
	null cd_protocolo,
	null nr_seq_protocolo,
	null nr_seq_mat_protocolo,
	null nr_seq_prot_protocolo,
	'S' ie_titulo,
	null
from	w_item_pre_rep
union all

select	nr_sequencia,
	cd_item,
	cd_unidade_medida,
	ds_diluicao,
	ds_item,
	dt_atualizacao,
	dt_atualizacao_nrec,
	ie_gerar_prescr,
	ie_tipo_item,
	ie_via_aplicacao,
	nm_usuario,
	nm_usuario_nrec,
	qt_item,
	cd_protocolo,
	nr_seq_protocolo,
	nr_seq_mat_protocolo,
	nr_seq_prot_protocolo,
	'' ie_titulo,
	nr_atendimento
from	w_item_pre_rep
where	ie_tipo_item = 'SOL' LIMIT 1;

