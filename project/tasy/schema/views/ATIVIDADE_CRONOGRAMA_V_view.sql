-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW atividade_cronograma_v (nr_sequencia, ds_atividade, ds_etapa, nr_seq_crono, cd_classificacao, pr_etapa, ie_modulo, ie_fase, qt_hora_saldo, qt_hora_prev, ds_equipe, nr_seq_cliente, nr_seq_canal, nr_seq_projeto, nr_seq_superior, nr_seq_interno, dt_fim_real) AS select a.nr_sequencia,
 substr(trim(both a.ds_atividade),1,254) ds_atividade, 
 substr(trim(both obter_desc_atividade_cron(obter_etapa_ativ_sup_1(a.nr_sequencia,'S'))),1,200) ds_etapa, 
 a.nr_seq_cronograma nr_seq_crono, 
 a.cd_classificacao, 
 a.pr_etapa PR_ETAPA, 
 a.ie_modulo, 
 a.ie_fase, 
 a.qt_hora_saldo, 
 a.qt_hora_prev, 
 substr(proj_obter_recursos_Etapa(a.nr_sequencia),1,255) ds_equipe, 
 b.nr_seq_cliente nr_seq_cliente, 
 b.nr_seq_canal nr_seq_canal, 
 c.nr_sequencia nr_seq_projeto, 
 a.nr_seq_superior, 
 a.nr_seq_interno, 
 a.dt_fim_real 
FROM proj_cron_etapa_v a, 
 proj_cronograma b, 
 proj_projeto c 
where a.nr_seq_cronograma = b.nr_sequencia 
and b.nr_seq_proj = c.nr_sequencia 
and b.dt_fim_real is null 
and c.dt_fim_real is null 
and ((b.ie_tipo_baseline = 'PR') or (b.ie_tipo_baseline is null)) 
and b.ie_situacao = 'A';

