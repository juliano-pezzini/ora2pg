-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW eis_pendencia_conta_v (nr_sequencia, dt_atualizacao, nm_usuario, dt_atualizacao_nrec, nm_usuario_nrec, nr_seq_tipo, nr_seq_estagio, cd_setor_atendimento, cd_convenio, dt_pendencia, nr_atendimento, nr_interno_conta, cd_medico, nr_seq_classif_pend, nr_seq_regra_resp, qt_dias_pend, vl_conta, ds_tipo_pend, ds_estagio, ds_setor_atendimento, ds_convenio, ds_medico, ds_classif_pend, ds_regra_resp_pend) AS select	a.NR_SEQUENCIA,a.DT_ATUALIZACAO,a.NM_USUARIO,a.DT_ATUALIZACAO_NREC,a.NM_USUARIO_NREC,a.NR_SEQ_TIPO,a.NR_SEQ_ESTAGIO,a.CD_SETOR_ATENDIMENTO,a.CD_CONVENIO,a.DT_PENDENCIA,a.NR_ATENDIMENTO,a.NR_INTERNO_CONTA,a.CD_MEDICO,a.NR_SEQ_CLASSIF_PEND,a.NR_SEQ_REGRA_RESP,a.QT_DIAS_PEND,a.VL_CONTA,
	substr(obter_desc_cta_tipo(nr_seq_tipo),1,200) ds_tipo_pend, 
	substr(obter_desc_cta_estagio_pend(a.nr_seq_estagio),1,200) ds_estagio, 
	substr(obter_nome_setor(a.cd_setor_atendimento),1,200) ds_setor_atendimento, 
	substr(obter_nome_convenio(a.cd_convenio),1,200) ds_convenio, 
	substr(coalesce(obter_nome_pf(a.cd_medico),'NÃ£o informado'),1,200) ds_medico, 
	substr(obter_desc_cta_classif(nr_seq_classif_pend),1,120) ds_classif_pend, 
	substr(obter_desc_cta_resp_pend(nr_seq_regra_resp),1,120) ds_regra_resp_pend 
FROM	eis_pendencia_conta a;

