-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW gestao_profissionais_v (nr_sequencia, nm_usuario, ie_tipo_item, cd_item, ds_prescrito, ds_prescricao, cd_intervalo, qt_item, ie_medic_controlado, ie_acm_sn, ds_diluicao, ds_inf_dil, nr_agrupamento, nr_dia_util, ie_pendente_liberacao, ie_status_item, dt_prev_term, ie_diferenciado, nr_prescricao, nr_seq_item, nr_seq_proc_interno, nr_prescricoes, ie_tipo_registro, nr_seq_registro, ie_prescricao_alta, ie_horario, ie_modelo_filtro, nr_seq_prot_glic, seq, hora1, hora2, hora3, hora4, hora5, hora6, hora7, hora8, hora9, hora10, hora11, hora12, hora13, hora14, hora15, hora16, hora17, hora18, hora19, hora20, hora21, hora22, hora23, hora24, hora25, hora26, hora27, hora28, hora29, hora30, hora31, hora32, hora33, hora34, hora35, hora36, hora37, hora38, hora39, hora40) AS SELECT	--obter_ordem_informacoes_gestao(ie_tipo_item, 'R', ie_classif_adep) nr_seq_ordem,
	nr_sequencia,
	nm_usuario,
	ie_tipo_item,
	cd_item,
	obter_espacamento_gestao_adep || ds_item ds_prescrito,
	ds_prescricao,
	cd_intervalo,
	qt_item,
	ie_medic_controlado,
	ie_acm_sn,
	ds_diluicao,
	SUBSTR(ds_diluicao,1,240) ds_inf_dil,
	nr_agrupamento,
	nr_dia_util,
	ie_pendente_liberacao,
	ie_status_item,
	dt_prev_term,
	ie_diferenciado,
	nr_prescricao,
	nr_seq_item,
	nr_seq_proc_interno,
	nr_prescricoes,
	'R' ie_tipo_registro,
	ie_tipo_item || somente_numero(cd_item) || somente_numero(ds_prescricao) || somente_numero(nr_prescricoes) nr_seq_registro,
	ie_prescricao_alta,
	ie_horario,
	'P' ie_modelo_filtro,
	nr_seq_prot_glic,
	2 seq,
	hora1,
	hora2,
	hora3,
	hora4,
	hora5,
	hora6,
	hora7,
	hora8,
	hora9,
	hora10,
	hora11,
	hora12,
	hora13,
	hora14,
	hora15,
	hora16,
	hora17,
	hora18,
	hora19,
	hora20,
	hora21,
	hora22,
	hora23,
	hora24,
	hora25,
	hora26,
	hora27,
	hora28,
	hora29,
	hora30,
	hora31,
	hora32,
	hora33,
	hora34,
	hora35,
	hora36,
	hora37,
	hora38,
	hora39,
	hora40
FROM	w_adep
WHERE	ie_tipo_item in ('P')

UNION

SELECT	--obter_ordem_informacoes_gestao('P', 'T', 'P') nr_seq_ordem,
	NULL nr_sequencia,
	nm_usuario,
	NULL ie_tipo_item,
	NULL cd_item,
	obter_titulos_gestao_adep('P', 'P') ds_prescrito,
	NULL ds_prescricao,
	NULL cd_intervalo,
	NULL qt_item,
	NULL ie_medic_controlado,
	NULL ie_acm_sn,
	NULL ds_diluicao,
	NULL ds_inf_dil,
	NULL nr_agrupamento,
	NULL nr_dia_util,
	NULL ie_pendente_liberacao,
	NULL ie_status_item,
	NULL dt_prev_term,
	NULL ie_diferenciado,
	NULL nr_prescricao,
	NULL nr_seq_item,
	NULL nr_seq_proc_interno,
	NULL nr_prescricoes,
	'T' ie_tipo_registro,
	NULL nr_seq_registro,
	NULL ie_prescricao_alta,
	NULL ie_horario,
	'P' ie_modelo_filtro,
	NULL nr_seq_prot_glic,
	1 seq,
	NULL hora1,
	NULL hora2,
	NULL hora3,
	NULL hora4,
	NULL hora5,
	NULL hora6,
	NULL hora7,
	NULL hora8,
	NULL hora9,
	NULL hora10,
	NULL hora11,
	NULL hora12,
	NULL hora13,
	NULL hora14,
	NULL hora15,
	NULL hora16,
	NULL hora17,
	NULL hora18,
	NULL hora19,
	NULL hora20,
	NULL hora21,
	NULL hora22,
	NULL hora23,
	NULL hora24,
	NULL hora25,
	NULL hora26,
	NULL hora27,
	NULL hora28,
	NULL hora29,
	NULL hora30,
	NULL hora31,
	NULL hora32,
	NULL hora33,
	NULL hora34,
	NULL hora35,
	NULL hora36,
	NULL hora37,
	NULL hora38,
	NULL hora39,
	NULL hora40
FROM	w_adep
WHERE	ie_tipo_item = 'P'
AND	ie_classif_adep	= 'P';

