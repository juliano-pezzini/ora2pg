-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW cpoe_acknowledge_v (nr_seq_cpoe, nr_atendimento, dt_liberacao, dt_suspensao, dt_lib_suspensao, dt_ack_nurse, nm_user_ack, dt_ack_nurse_susp, nm_user_ack_susp, ie_tipo_item_cpoe) AS select 	a.nr_sequencia nr_seq_cpoe,
	a.nr_atendimento,
	a.dt_liberacao,
	a.dt_suspensao,
	a.dt_lib_suspensao,
	b.dt_ack_nurse,
	b.nm_user_ack,
	b.dt_ack_nurse_susp,
	b.nm_user_ack_susp,
	'N' ie_tipo_item_cpoe
FROM  cpoe_dieta a,
      cpoe_inf_adic b
where a.nr_sequencia = b.nr_seq_diet_cpoe

union all

select 	a.nr_sequencia nr_seq_cpoe,
	a.nr_atendimento,
	a.dt_liberacao,
	a.dt_suspensao,
	a.dt_lib_suspensao,
	b.dt_ack_nurse,
	b.nm_user_ack,
	b.dt_ack_nurse_susp,
	b.nm_user_ack_susp,
	'M' ie_tipo_item_cpoe
from  cpoe_material a,
      cpoe_inf_adic b
where a.nr_sequencia = b.nr_seq_mat_cpoe

union all

select	a.nr_sequencia nr_seq_cpoe,
	a.nr_atendimento,
	a.dt_liberacao,
	a.dt_suspensao,
	a.dt_lib_suspensao,
	b.dt_ack_nurse,
	b.nm_user_ack,
	b.dt_ack_nurse_susp,
	b.nm_user_ack_susp,
	'D' ie_tipo_item_cpoe
from cpoe_dialise a,
     cpoe_inf_adic b
where a.nr_sequencia = b.nr_seq_dial_cpoe

union all

select 	a.nr_sequencia nr_seq_cpoe,
	a.nr_atendimento,
	a.dt_liberacao,
	a.dt_suspensao,
	a.dt_lib_suspensao,
	b.dt_ack_nurse,
	b.nm_user_ack,
	b.dt_ack_nurse_susp,
	b.nm_user_ack_susp,
	'G' ie_tipo_item_cpoe
from cpoe_gasoterapia a,
     cpoe_inf_adic b
where a.nr_sequencia = b.nr_seq_gaso_cpoe

union all

select 	a.nr_sequencia nr_seq_cpoe,
	a.nr_atendimento,
	a.dt_liberacao,
	a.dt_suspensao,
	a.dt_lib_suspensao,
	b.dt_ack_nurse,
	b.nm_user_ack,
	b.dt_ack_nurse_susp,
	b.nm_user_ack_susp,
	'H' ie_tipo_item_cpoe
from cpoe_hemoterapia a,
     cpoe_inf_adic b
where a.nr_sequencia = b.nr_seq_hemo_cpoe

union all

select 	a.nr_sequencia nr_seq_cpoe,
	a.nr_atendimento,
	a.dt_liberacao,
	a.dt_suspensao,
	a.dt_lib_suspensao,
	b.dt_ack_nurse,
	b.nm_user_ack,
	b.dt_ack_nurse_susp,
	b.nm_user_ack_susp,
	'P' ie_tipo_item_cpoe
from cpoe_procedimento a,
     cpoe_inf_adic b
where a.nr_sequencia = b.nr_seq_exam_cpoe

union all

select 	a.nr_sequencia nr_seq_cpoe,
	a.nr_atendimento,
	a.dt_liberacao,
	a.dt_suspensao,
	a.dt_lib_suspensao,
	b.dt_ack_nurse,
	b.nm_user_ack,
	b.dt_ack_nurse_susp,
	b.nm_user_ack_susp,
	'R' ie_tipo_item_cpoe
from cpoe_recomendacao a,
     cpoe_inf_adic b
where a.nr_sequencia = b.nr_seq_rec_cpoe

union all

select 	a.nr_sequencia nr_seq_cpoe,
	a.nr_atendimento,
	a.dt_liberacao,
	a.dt_suspensao,
	a.dt_lib_suspensao,
	b.dt_ack_nurse,
	b.nm_user_ack,
	b.dt_ack_nurse_susp,
	b.nm_user_ack_susp,
	'A' ie_tipo_item_cpoe
from cpoe_anatomia_patologica a,
     cpoe_inf_adic b
where a.nr_sequencia = b.nr_seq_anat_cpoe;

