-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW hepic_material_paciente_v (nr_sequencia, cd_material, ds_material, nr_atendimento, ie_tipo_atendimento, dt_atendimento, qt_material, cd_unidade_medida, cd_setor_atendimento, nr_prontuario, vl_material, dt_atualizacao) AS SELECT 	b.nr_sequencia,
			a.cd_material,
			a.ds_material,
			b.nr_atendimento,
			c.ie_tipo_atendimento,
			b.dt_atendimento,
			b.qt_material,
			b.cd_unidade_medida,
			b.cd_setor_atendimento,
			d.nr_prontuario,
			b.vl_material,
			b.dt_atualizacao
     FROM 	material a,
			material_atend_paciente b,
			atendimento_paciente c,
			pessoa_fisica d,
			classe_material e ,
			subgrupo_material f,
			hepic_atend_paciente_v g
    WHERE 	b.cd_material = a.cd_material
      AND 	a.cd_classe_material = e.cd_classe_material
      AND 	e.cd_subgrupo_material = f.cd_subgrupo_material
      AND 	b.nr_atendimento = c.nr_atendimento
      AND 	c.cd_pessoa_fisica = d.cd_pessoa_fisica
      AND 	c.nr_atendimento =  g.nr_atendimento;

