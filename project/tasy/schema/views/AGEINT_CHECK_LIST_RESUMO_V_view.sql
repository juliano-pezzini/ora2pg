-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW ageint_check_list_resumo_v (ordem, ds_item_padrao, nr_seq_grupo, nr_seq_checklist, nr_seq_item_checklist, ds_resultado, ds_item, ds_grupo, nr_seq_ageint, dt_liberacao) AS select	distinct
	1 ordem,
	a.ds_grupo ds_item_padrao,
	a.nr_sequencia nr_seq_grupo,
	c.nr_seq_check_list nr_seq_checklist,
	null nr_seq_item_checklist,
	null ds_resultado,
	null ds_item,
	a.ds_grupo ds_grupo,
	d.nr_seq_ageint,
	d.dt_liberacao
FROM	ageint_check_list_pac_item c,
	ageint_item_check_list b,
	ageint_grupo_check_list a,
	ageint_check_list_paciente d
where	c.nr_seq_item_check_list = b.nr_sequencia
and	b.nr_seq_grupo_check_list = a.nr_sequencia
and	c.nr_seq_check_list = d.nr_sequencia

union

select	distinct
	2 ordem,
	'        ('||CASE WHEN ds_resultado='S' THEN 'x'  ELSE ' ' END ||') '|| b.ds_item ds_item_padrao,
	a.nr_sequencia nr_seq_grupo,
	c.nr_seq_check_list nr_seq_checklist,
	c.nr_sequencia nr_seq_item_checklist,
	ds_resultado ds_resultado,
	b.ds_item,
	a.ds_grupo ds_grupo,
	d.nr_seq_ageint,
	d.dt_liberacao
from	ageint_check_list_pac_item c,
	ageint_item_check_list b,
	ageint_grupo_check_list a,
	ageint_check_list_paciente d
where	c.nr_seq_item_check_list = b.nr_sequencia
and	b.nr_seq_grupo_check_list = a.nr_sequencia
and	c.nr_seq_check_list = d.nr_sequencia;

