-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW usuario_conectado_v (inst_id, sid, username, status, osuser, machine, terminal, program, type, ds_form, ds_funcao, nm_usuario, lockwait, logon_time, "serial#") AS select
	INST_ID,
	SID,
	USERNAME,
	STATUS,
	OSUSER,
	MACHINE,
	TERMINAL,
	PROGRAM,
	TYPE,
	MODULE ds_form,
	b.ds_funcao,
	ACTION nm_usuario,
	LOCKWAIT,
	LOGON_TIME,
	SERIAL#
FROM gv$session a, substr(a
LEFT OUTER JOIN funcao b ON (substr(a.module,7,50) = b.ds_form)
WHERE lower(osuser) not like 'oracle%' and lower(a.program) not like 'oracle%';

