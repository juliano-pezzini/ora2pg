-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW bft_movimento_contabil_v (nr_seq_ctb_movto, nr_lote_contabil, accounting_batch_number, nr_sequencia, sequence_number, ledger_account_code, type_debit_credit, account_history_code, movement_date, movement_value, last_update_date, user_name, cost_center_code, complementary_history, financial_transaction_code, cgc_code, person_code, nr_seq_agrupamento, original_document_number, history, general_ledger_account_name, cost_center_name, debit_ledger_account_code, credit_ledger_account_code, establishment_code, reference_date, type_accounting_batch, debit_credit_value, debit_cost_center_code, credit_cost_center_code, document_number, account_classification, cost_center_acc_system_code, history_acc_system_code, accounting_system_code, original_history, transitory, debit_value, credit_value, origin_document, accounting_entry_number, drg_code, dt_procedure, dt_admission, dt_discharge, tribute_code) AS select	a.nr_seq_ctb_movto,
	a.nr_lote_contabil,
	a.nr_lote_contabil Accounting_batch_number,
	a.nr_sequencia,
	a.nr_sequencia sequence_number,
	a.cd_conta_contabil ledger_account_code,
	a.ie_debito_credito type_debit_credit,
	a.cd_historico Account_History_code,
	a.dt_movimento movement_date,
	a.vl_movimento movement_value,
	a.dt_atualizacao last_update_date,
	a.nm_usuario user_name,
	a.cd_centro_custo Cost_center_code,
	a.ds_compl_historico Complementary_History ,
	a.nr_seq_trans_fin Financial_transaction_code,
	a.cd_cgc cgc_code,
	a.cd_pessoa_fisica person_code,
	a.nr_seq_agrupamento,
	a.nr_doc_orig original_document_number,
	a.ds_historico History,
	a.ds_conta_contabil general_ledger_account_name,
	a.ds_centro_custo Cost_center_name,
	a.cd_conta_debito debit_ledger_account_code,
	a.cd_conta_credito credit_ledger_account_code,
	a.cd_estabelecimento Establishment_code,
	a.dt_referencia reference_date,
	a.cd_tipo_lote_contabil Type_accounting_batch,
	a.vl_debito_credito debit_credit_value,
	a.cd_centro_custo_debito debit_Cost_center_code,
	a.cd_centro_custo_credito credit_Cost_center_code,
	a.nr_documento document_number,
	a.cd_classificacao account_classification,
	a.cd_centro_sis_contabil cost_center_Acc_system_code,
	a.cd_historico_sis_contabil History_Acc_system_code,
	a.cd_conta_sis_contabil Accounting_system_code,
	a.ds_historico_original original_history,
	a.ie_transitorio Transitory,
	a.vl_debito debit_value,
	a.vl_credito credit_value,
	a.ie_origem_documento origin_document,
	a.nr_lancamento Accounting_entry_number,
	get_procedure_info_for_batch(a.nr_sequencia,a.nr_lote_contabil,1) drg_code,
	get_procedure_info_for_batch(a.nr_sequencia,a.nr_lote_contabil,2) dt_procedure,
	get_procedure_info_for_batch(a.nr_sequencia,a.nr_lote_contabil,3) dt_admission,
	get_procedure_info_for_batch(a.nr_sequencia,a.nr_lote_contabil,4) dt_discharge,
	get_procedure_info_for_batch(a.nr_sequencia,a.nr_lote_contabil,5) tribute_code
FROM	movimento_contabil_v a;

