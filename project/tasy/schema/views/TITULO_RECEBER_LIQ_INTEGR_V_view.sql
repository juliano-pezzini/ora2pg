-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW titulo_receber_liq_integr_v (cd_bank_branch, cd_bank, cd_cost_center, cd_discount_cost_center, cd_credit_card_company, cd_currency, cd_return_invoice_serie, cd_receipt_type, ds_note, dt_monthly_instalment_anticip, dt_update, dt_authentication, dt_bank_credit, dt_external_integration, dt_real_receipt, dt_receipt, dt_ihp_monthly_instalment, ie_action, ie_interest_fine_appropriation, ie_checkout_submission, ie_settlement_source, ie_loss_type, nm_user, nr_advance, nr_bordero, nr_credit_card, nr_aux_document, nr_external, nr_bank_batch, nr_anticip_accounting_batch, nr_accounting_batch, nr_pro_rata_accounting_batch, nr_return_invoice, nr_third_parties_transfer, nr_amortization, nr_payable_doc_settlement, nr_rec_checkout, nr_charging, nr_hist_patient_account, nr_bank_account, nr_identified_deposit, nr_amortization_generated, nr_settlement_source, nr_account_offsetting, nr_resource_batch_form, nr_disallowance_reason, nr_discount_reason, nr_financ_transaction_movement, nr_ar_negociation, nr_partial_invoice_generated, nr_medical_payment_item, nr_clearing_house_batch, nr_ihp_charging_batch, nr_ihp_paym_claim_batch, nr_ihp_discussion_batch, nr_refund, nr_ret_item, nr_return, nr_beneficiary, nr_financ_transaction_checkout, nr_financial_transaction, nr_sequence, nr_payable_document, nr_document, vl_adequate, vl_exchange_asset, vl_exchange_liability, vl_complement, vl_exchange_rate, vl_discounts, vl_service_charges, vl_disallowance, vl_aux_insurance_disallowance, vl_main_insurance_disallowance, vl_non_insurance_disallowance, vl_interest, vl_fine, vl_credit_memo, vl_additions, vl_loss, vl_received, vl_foreign_received, vl_received_excess, vl_resource, nr_external_aux, cd_invoice_serie, ds_invoice_kind) AS select	a.cd_agencia_bancaria   	cd_bank_branch,
		a.cd_banco        	cd_bank, 
		a.cd_centro_custo     	cd_cost_center, 
		a.cd_centro_custo_desc  	cd_discount_cost_center, 
		a.cd_cgc_emp_cred     	cd_credit_card_company, 
		a.cd_moeda        	cd_currency, 
		a.cd_serie_nf_devol    	cd_return_invoice_serie, 
		a.cd_tipo_recebimento   	cd_receipt_type, 
		a.ds_observacao      	ds_note, 
		a.dt_antecipacao_pls_mens 	dt_monthly_instalment_anticip, 
		a.dt_atualizacao     	dt_update, 
		a.dt_autenticacao     	dt_authentication, 
		a.dt_credito_banco    	dt_bank_credit, 
		a.dt_integracao_externa  	dt_external_integration, 
		a.dt_real_recebimento   	dt_real_receipt, 
		a.dt_recebimento     	dt_receipt, 
		a.dt_referencia_pls_mens 	dt_ihp_monthly_instalment, 
		a.ie_acao         	ie_action, 
		a.ie_apropriar_juros_multa	ie_interest_fine_appropriation, 
		a.ie_lib_caixa      	ie_checkout_submission, 
		a.ie_origem_baixa     	ie_settlement_source, 
		a.ie_tipo_perda      	ie_loss_type, 
		a.nm_usuario       	nm_user, 
		a.nr_adiantamento     	nr_advance, 
		a.nr_bordero       	nr_bordero, 
		a.nr_cartao_cred     	nr_credit_card, 
		a.nr_documento      	nr_aux_document, 
		a.nr_externo       	nr_external, 
		a.nr_lote_banco      	nr_bank_batch, 
		a.nr_lote_contab_antecip 	nr_anticip_accounting_batch, 
		a.nr_lote_contabil    	nr_accounting_batch, 
		a.nr_lote_contab_pro_rata 	nr_pro_rata_accounting_batch, 
		a.nr_nota_fiscal_devol  	nr_return_invoice, 
		a.nr_repasse_terceiro   	nr_third_parties_transfer, 
		a.nr_seq_amortizacao   	nr_amortization, 
		a.nr_seq_baixa_pagar   	nr_payable_doc_settlement, 
		a.nr_seq_caixa_rec    	nr_rec_checkout, 
		a.nr_seq_cobranca     	nr_charging, 
		a.nr_seq_conpaci_ret_hist 	nr_hist_patient_account, 
		a.nr_seq_conta_banco   	nr_bank_account, 
		a.nr_seq_deposito_ident  	nr_identified_deposit, 
		a.nr_seq_liq_amortizacao 	nr_amortization_generated, 
		a.nr_seq_liq_origem    	nr_settlement_source, 
		a.nr_seq_lote_enc_contas 	nr_account_offsetting, 
		a.nr_seq_lote_hist_guia		nr_resource_batch_form, 
		a.nr_seq_mot_glosa    	nr_disallowance_reason, 
		a.nr_seq_motivo_desc   	nr_discount_reason, 
		a.nr_seq_movto_trans_fin 	nr_financ_transaction_movement, 
		a.nr_seq_negociacao_cr  	nr_ar_negociation, 
		a.nr_seq_nota_fiscal_parc 	nr_partial_invoice_generated, 
		a.nr_seq_pag_item     	nr_medical_payment_item, 
		a.nr_seq_pls_lote_camara 	nr_clearing_house_batch, 
		a.nr_seq_pls_lote_cob_terc	nr_ihp_charging_batch, 
		a.nr_seq_pls_lote_contest 	nr_ihp_paym_claim_batch, 
		a.nr_seq_pls_lote_disc  	nr_ihp_discussion_batch, 
		a.nr_seq_reembolso    	nr_refund, 
		a.nr_seq_ret_item     	nr_ret_item, 
		a.nr_seq_retorno     	nr_return, 
		a.nr_seq_segurado     	nr_beneficiary, 
		a.nr_seq_trans_caixa   	nr_financ_transaction_checkout, 
		a.nr_seq_trans_fin    	nr_financial_transaction, 
		a.nr_sequencia      	nr_sequence, 
		a.nr_tit_pagar      	nr_payable_document, 
		a.nr_titulo        	nr_document, 
		a.vl_adequado       	vl_adequate, 
		a.vl_cambial_ativo    	vl_exchange_asset, 
		a.vl_cambial_passivo   	vl_exchange_liability, 
		a.vl_complemento     	vl_complement, 
		a.vl_cotacao       	vl_exchange_rate, 
		a.vl_descontos      	vl_discounts, 
		a.vl_despesa_bancaria   	vl_service_charges, 
		a.vl_glosa        	vl_disallowance, 
		a.vl_glosa_ato_coop_aux  	vl_aux_insurance_disallowance, 
		a.vl_glosa_ato_coop_princ 	vl_main_insurance_disallowance, 
		a.vl_glosa_ato_nao_coop  	vl_non_insurance_disallowance, 
		a.vl_juros        	vl_interest, 
		a.vl_multa        	vl_fine, 
		a.vl_nota_credito     	vl_credit_memo, 
		a.vl_outros_acrescimos  	vl_additions, 
		a.vl_perdas        	vl_loss, 
		a.vl_recebido       	vl_received, 
		a.vl_recebido_estrang   	vl_foreign_received, 
		a.vl_rec_maior      	vl_received_excess, 
		a.vl_recurso       	vl_resource, 
		a.nr_externo_aux			nr_external_aux, 
		substr(obter_dados_nota_fiscal((select max(x.nr_seq_nf_saida) FROM titulo_receber x where x.nr_titulo = a.nr_titulo), 1),1,255) cd_invoice_serie, 
		substr(obter_dados_nota_fiscal((select max(x.nr_seq_nf_saida) from titulo_receber x where x.nr_titulo = a.nr_titulo), 25),1,255) ds_invoice_kind 
from	titulo_receber_liq a;

