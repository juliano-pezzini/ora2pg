-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW cpro_paciente_v (cd_pessoa_fisica, nr_prontuario, dt_nascimento, nm_cidade_uf, ds_cor_pele, ds_religiao, nr_telefones) AS select	cd_pessoa_fisica,
	nr_prontuario,
	dt_nascimento,
	--substr(obter_desc_cep_loc(NR_CEP_CIDADE_NASC),1,50) || ' - ' || substr(obter_uf_localidade(NR_CEP_CIDADE_NASC),1,2) nm_cidade_uf,
	substr(obter_naturalidade_pf(cd_pessoa_fisica,'A'),1,55) nm_cidade_uf,
	substr(obter_desc_cor_pele(nr_seq_cor_pele),1,60) ds_cor_pele,
	substr(obter_desc_religiao(cd_religiao),1,60) ds_religiao,
	(substr(obter_compl_pf(cd_pessoa_fisica,1,'T'),1,30) || ' ' || nr_telefone_celular) nr_telefones
FROM	pessoa_fisica;

