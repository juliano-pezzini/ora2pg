-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW hbo_contab_gvdasa_caixa_v (tp_registro, ds_unidade, ds_origem_lote, dt_movimento, cd_conta_contabil, ie_debito_credito, vl_movimento, ds_capa_lote, ds_historico, ds_compl_historico, cd_estabelecimento, nr_lote_contabil) AS select distinct 0 tp_registro,
	20 ds_unidade,
	'TASYCX10' ds_origem_lote,
	null dt_movimento,
	0 cd_conta_contabil,
	'' ie_debito_credito,
	0 vl_movimento,
	'' ds_capa_lote,
	'' ds_historico,
	'' ds_compl_historico,
	a.cd_estabelecimento,
	a.nr_lote_contabil
FROM	ctb_movimento_v a

union all

select	5 tp_registro,
	0 ds_unidade,
	'' ds_origem_lote,
	a.dt_movimento dt_movimento,
	somente_numero(a.cd_conta_contabil) cd_conta_contabil,
	a.ie_debito_credito ie_debito_credito,
	a.vl_movimento vl_movimento,
	to_char(dt_movimento,'yyyymmdd') || 'C' ds_capa_lote,
	a.ds_historico ds_historico,
	a.ds_compl_historico ds_compl_historico,
	a.cd_estabelecimento,
	a.nr_lote_contabil
from	ctb_movimento_v a
;

