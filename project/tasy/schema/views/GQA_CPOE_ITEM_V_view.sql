-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW gqa_cpoe_item_v (nr_sequencia, nr_seq_pend_pac_acao, nr_atendimento, ie_tipo_item, cd_pessoa_fisica, dt_liberacao) AS select	nr_sequencia,
		nr_seq_pend_pac_acao,
		nr_atendimento,
		cpoe_obter_tipo_item('CPOE_MATERIAL',nr_sequencia, null, ie_controle_tempo, ie_material) ie_tipo_item,
		cd_pessoa_fisica,
		dt_liberacao
FROM	cpoe_material

union all

select	nr_sequencia,
		nr_seq_pend_pac_acao,
		nr_atendimento,
		cpoe_obter_tipo_item('CPOE_PROCEDIMENTO',nr_sequencia) ie_tipo_item,
		cd_pessoa_fisica,
		dt_liberacao
from	cpoe_procedimento

union all

select	nr_sequencia,
		nr_seq_pend_pac_acao,
		nr_atendimento,
		cpoe_obter_tipo_item('CPOE_GASOTERAPIA',nr_sequencia) ie_tipo_item,
		cd_pessoa_fisica,
		dt_liberacao
from	cpoe_gasoterapia

union all

select	nr_sequencia,
		nr_seq_pend_pac_acao,
		nr_atendimento,
		cpoe_obter_tipo_item('CPOE_DIALISE',nr_sequencia) ie_tipo_item,
		cd_pessoa_fisica,
		dt_liberacao
from	cpoe_dialise

union all

select	nr_sequencia,
		nr_seq_pend_pac_acao,
		nr_atendimento,
		cpoe_obter_tipo_item('CPOE_HEMOTERAPIA',nr_sequencia) ie_tipo_item,
		cd_pessoa_fisica,
		dt_liberacao
from	cpoe_hemoterapia

union all

select	nr_sequencia,
		nr_seq_pend_pac_acao,
		nr_atendimento,
		cpoe_obter_tipo_item('CPOE_DIETA',nr_sequencia, ie_tipo_dieta) ie_tipo_item,
		cd_pessoa_fisica,
		dt_liberacao
from	cpoe_dieta

union all

select	nr_sequencia,
		nr_seq_pend_pac_acao,
		nr_atendimento,
		cpoe_obter_tipo_item('CPOE_RECOMENDACAO',nr_sequencia) ie_tipo_item,
		cd_pessoa_fisica,
		dt_liberacao
from	cpoe_recomendacao;

