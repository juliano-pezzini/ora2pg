-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW eis_gestao_vagas_v (cd_estabelecimento, ds_estabelecimento, dt_solicitacao, dt_solic, dt_prevista, ie_solicitacao, cd_convenio, ie_status, ie_tipo_vaga, cd_tipo_acomod_desej, cd_cid_principal, cd_setor_atual, cd_medico, ie_clinica, cd_procedimento, ie_origem_proced, nr_seq_motivo_transf, cd_setor_desejado, ie_local_aguarda, ds_setor_desejado, ds_tipo_solicitacao, nm_convenio, ds_status, ds_tipo_vaga, ds_tipo_acomod_desej, ds_setor_atual, nm_medico, ds_clinica, ds_motivo_transf, ds_local_aguarda, nr_sequencia) AS select	cd_estabelecimento,
	SUBSTR(obter_nome_estabelecimento(cd_estabelecimento),1,80) ds_estabelecimento, 
	trunc(dt_solicitacao) dt_solicitacao, 
	trunc(dt_solicitacao) dt_solic, 
	trunc(dt_prevista) dt_prevista, 
	ie_solicitacao, 
	cd_convenio, 
	ie_status, 
	ie_tipo_vaga, 
	cd_tipo_acomod_desej, 
	cd_cid_principal, 
	cd_setor_atual, 
	cd_medico, 
	ie_clinica, 
	cd_procedimento, 
	ie_origem_proced, 
	nr_seq_motivo_transf, 
	cd_setor_desejado, 
	IE_LOCAL_AGUARDA, 
	substr(obter_nome_setor(cd_setor_desejado),1,100) ds_setor_desejado, 
	substr(obter_valor_dominio(1407,ie_solicitacao),1,100) ds_tipo_solicitacao, 
	substr(obter_nome_convenio(cd_convenio),1,100) nm_convenio, 
	substr(obter_valor_dominio(1408,ie_status),1,60) ds_status, 
	substr(obter_valor_dominio(1410,ie_tipo_vaga),1,100) ds_tipo_vaga, 
	substr(obter_desc_tipo_acomod(cd_tipo_acomod_desej),1,100) ds_tipo_acomod_desej, 
	substr(obter_nome_setor(cd_setor_atual),1,100) ds_setor_atual, 
	substr(obter_nome_pf(cd_medico),1,100) nm_medico, 
	substr(obter_valor_dominio(17,ie_clinica),1,60) ds_clinica, 
	substr(obter_desc_motivo_transf_pac(nr_seq_motivo_transf),1,60) ds_motivo_transf, 
	substr(obter_valor_dominio(1492, IE_LOCAL_AGUARDA),1,200) ds_LOCAL_AGUARDA, 
	nr_sequencia 
FROM	gestao_vaga;

