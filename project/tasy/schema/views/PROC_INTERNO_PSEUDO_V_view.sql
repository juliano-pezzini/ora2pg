-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW proc_interno_pseudo_v (ie_proc_interno_pseudo, nr_seq_proc_interno, cd_proc_exame, ie_origem_proced, ds_proc_exame, ds_laudo, ds_orientacao_usuario, ie_tipo_util, cd_setor_atendimento, ie_situacao, cd_integracao, ds_orientacao_pac, ds_orientacao_externo) AS select	1 ie_proc_interno_pseudo,
	p.nr_sequencia nr_seq_proc_interno,
	p.cd_procedimento cd_proc_exame,
	p.ie_origem_proced,
	p.ds_proc_exame,
	p.ds_laudo,
	p.ds_orientacao_usuario,
	p.ie_tipo_util,
	t.cd_setor_atendimento,
	p.ie_situacao,
	p.cd_integracao,
	p.ds_orientacao_pac,
	p.ds_orientacao_externo
FROM proc_interno p
LEFT OUTER JOIN proc_interno_setor t ON (p.nr_sequencia = t.nr_seq_proc_interno)
union all

select	2,
	p.nr_sequencia,
	p.cd_procedimento,
	p.ie_origem_proced,
	s.ds_pseudo,
	p.ds_laudo,
	p.ds_orientacao_usuario,
	p.ie_tipo_util,
	t.cd_setor_atendimento,
	p.ie_situacao,
	p.cd_integracao,
	p.ds_orientacao_pac,
	p.ds_orientacao_externo
FROM proc_interno_pseudo s, proc_interno p
LEFT OUTER JOIN proc_interno_setor t ON (p.nr_sequencia = t.nr_seq_proc_interno)
WHERE p.nr_sequencia = s.nr_seq_proc_interno;

