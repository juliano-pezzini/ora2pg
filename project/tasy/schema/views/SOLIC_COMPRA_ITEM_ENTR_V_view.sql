-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW solic_compra_item_entr_v (nr_solic_compra, cd_estabelecimento, dt_solicitacao_compra, dt_atualizacao_solic, nm_usuario, ie_situacao, cd_pessoa_solicitante, cd_local_estoque, cd_centro_custo, cd_conta_contabil, cd_setor_atendimento, dt_liberacao, dt_autorizacao, ie_aviso_chegada, ie_urgente, cd_comprador_resp, ie_tipo_solicitacao, nr_item_solic_compra, cd_material, cd_unidade_medida_compra, qt_material, dt_baixa, dt_atualizacao_item, ie_situacao_item, dt_solic_item, dt_autorizacao_item, dt_reprovacao, nr_item_solic_compra_entr, qt_entrega_solicitada, dt_entrega_solicitada, dt_atualizacao_entrega) AS select	a.nr_solic_compra,
	a.cd_estabelecimento,
	a.dt_solicitacao_compra,
	a.dt_atualizacao dt_atualizacao_solic,
	a.nm_usuario,
	a.ie_situacao,
	a.cd_pessoa_solicitante,
	a.cd_local_estoque,
	a.cd_centro_custo,
	a.cd_conta_contabil,
	a.cd_setor_atendimento,
	a.dt_liberacao,
	a.dt_autorizacao,
	a.ie_aviso_chegada,
	a.ie_urgente,
	a.cd_comprador_resp,
	a.ie_tipo_solicitacao,
	/* item */

	b.nr_item_solic_compra,
	b.cd_material,
	b.cd_unidade_medida_compra,
	b.qt_material,
	b.dt_baixa,
	b.dt_atualizacao dt_atualizacao_item,
	b.ie_situacao ie_situacao_item,
	b.dt_solic_item,
	b.dt_autorizacao dt_autorizacao_item,
	b.dt_reprovacao,
	/* entrega */

	c.nr_item_solic_compra_entr,
	c.qt_entrega_solicitada,
	c.dt_entrega_solicitada,
	c.dt_atualizacao dt_atualizacao_entrega
FROM	solic_compra_item_entrega	c,
	solic_compra_item		b,
	solic_compra			a
where	a.nr_solic_compra	= b.nr_solic_compra
and	b.nr_solic_compra	= c.nr_solic_compra
and	b.nr_item_solic_compra	= c.nr_item_solic_compra;

