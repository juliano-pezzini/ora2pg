-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW cpoe_dieta_item_adicional_v (nr_sequencia, nr_item_adicional, ie_tipo_dieta, cd_mat_prod_adic, qt_porcentagem_adic, qt_dose_prod_adic, cd_unid_med_prod_adic) AS SELECT nr_sequencia
         , 1                      AS nr_item_adicional
         , ie_tipo_dieta
         , cd_mat_prod_adic1      AS cd_mat_prod_adic
         , qt_porcentagem_adic1   AS qt_porcentagem_adic
         , qt_dose_prod_adic1     AS qt_dose_prod_adic
         , cd_unid_med_prod_adic1 AS cd_unid_med_prod_adic
  FROM   cpoe_dieta
  WHERE  cd_mat_prod_adic1 IS NOT NULL

UNION

  SELECT nr_sequencia
         , 2                      AS nr_item_adicional
         , ie_tipo_dieta
         , cd_mat_prod_adic2      AS cd_mat_prod_adic
         , qt_porcentagem_adic2   AS qt_porcentagem_adic
         , qt_dose_prod_adic2     AS qt_dose_prod_adic
         , cd_unid_med_prod_adic2 AS cd_unid_med_prod_adic
  FROM   cpoe_dieta
  WHERE  cd_mat_prod_adic2 IS NOT NULL
  
UNION

  SELECT nr_sequencia
         , 3                      AS nr_item_adicional
         , ie_tipo_dieta
         , cd_mat_prod_adic3      AS cd_mat_prod_adic
         , qt_porcentagem_adic3   AS qt_porcentagem_adic
         , qt_dose_prod_adic3     AS qt_dose_prod_adic
         , cd_unid_med_prod_adic3 AS cd_unid_med_prod_adic
  FROM   cpoe_dieta
  WHERE  cd_mat_prod_adic3 IS NOT NULL
  
UNION

  SELECT nr_sequencia
         , 4                      AS nr_item_adicional
         , ie_tipo_dieta
         , cd_mat_prod_adic4      AS cd_mat_prod_adic
         , qt_porcentagem_adic4   AS qt_porcentagem_adic
         , qt_dose_prod_adic4     AS qt_dose_prod_adic
         , cd_unid_med_prod_adic4 AS cd_unid_med_prod_adic
  FROM   cpoe_dieta
  WHERE  cd_mat_prod_adic4 IS NOT NULL
  
UNION

  SELECT nr_sequencia
         , 5                      AS nr_item_adicional
         , ie_tipo_dieta
         , cd_mat_prod_adic5      AS cd_mat_prod_adic
         , qt_porcentagem_adic5   AS qt_porcentagem_adic
         , qt_dose_prod_adic5     AS qt_dose_prod_adic
         , cd_unid_med_prod_adic5 AS cd_unid_med_prod_adic
  FROM   cpoe_dieta
  WHERE  cd_mat_prod_adic5 IS NOT NULL
  
UNION

  SELECT nr_sequencia
         , 6                      AS nr_item_adicional
         , ie_tipo_dieta
         , cd_mat_prod_adic6      AS cd_mat_prod_adic
         , qt_porcentagem_adic6   AS qt_porcentagem_adic
         , qt_dose_prod_adic6     AS qt_dose_prod_adic
         , cd_unid_med_prod_adic6 AS cd_unid_med_prod_adic
  FROM   cpoe_dieta
  WHERE  cd_mat_prod_adic6 IS NOT NULL
  
UNION

  SELECT nr_sequencia
         , 7                      AS nr_item_adicional
         , ie_tipo_dieta
         , cd_mat_prod_adic7      AS cd_mat_prod_adic
         , qt_porcentagem_adic7   AS qt_porcentagem_adic
         , qt_dose_prod_adic7     AS qt_dose_prod_adic
         , cd_unid_med_prod_adic7 AS cd_unid_med_prod_adic
  FROM   cpoe_dieta
  WHERE  cd_mat_prod_adic7 IS NOT NULL
  
UNION

  SELECT nr_sequencia
         , 8                      AS nr_item_adicional
         , ie_tipo_dieta
         , cd_mat_prod_adic8      AS cd_mat_prod_adic
         , qt_porcentagem_adic8   AS qt_porcentagem_adic
         , qt_dose_prod_adic8     AS qt_dose_prod_adic
         , cd_unid_med_prod_adic8 AS cd_unid_med_prod_adic
  FROM   cpoe_dieta
  WHERE  cd_mat_prod_adic8 IS NOT NULL;

