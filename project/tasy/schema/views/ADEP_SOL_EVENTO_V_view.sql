-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW adep_sol_evento_v (ie_tipo_solucao, nr_prescricao, nr_seq_solucao, nr_seq_evento, ie_evento, ds_evento, cd_pessoa_evento, nm_pessoa_evento, dt_evento, dt_evento_real, nr_seq_motivo, ds_motivo, qt_veloc, ie_tipo_dosagem, qt_vol_infundido, qt_vol_desprezado, ds_duracao, ds_observacao, qt_vol_parcial, qt_volume_fase, qt_volume_parcial) AS select	ie_tipo_solucao,
	nr_prescricao nr_prescricao, 
	nr_seq_solucao nr_seq_solucao, 
	nr_sequencia nr_seq_evento, 
	ie_alteracao ie_evento, 
	substr(obter_valor_dominio(1662,ie_alteracao),1,240) ds_evento, 
	cd_pessoa_fisica cd_pessoa_evento, 
	substr(obter_nome_pf(cd_pessoa_fisica),1,60) nm_pessoa_evento, 
	dt_alteracao dt_evento, 
	dt_atualizacao_nrec dt_evento_real, 
	nr_seq_motivo, 
	substr(obter_desc_motivo_interrupcao(nr_seq_motivo),1,60) ds_motivo, 
	qt_dosagem qt_veloc, 
	ie_tipo_dosagem, 
	qt_vol_infundido, 
	qt_vol_desprezado, 
	ds_duracao, 
	ds_observacao, 
	qt_vol_parcial, 
	qt_volume_fase, 
	qt_volume_parcial 
FROM	prescr_solucao_evento 
where	ie_tipo_solucao = 1 

union
 
select	ie_tipo_solucao, 
	nr_prescricao nr_prescricao, 
	nr_seq_material nr_seq_solucao, 
	nr_sequencia nr_seq_evento, 
	ie_alteracao ie_evento, 
	substr(obter_valor_dominio(1662,ie_alteracao),1,240) ds_evento, 
	cd_pessoa_fisica cd_pessoa_evento, 
	substr(obter_nome_pf(cd_pessoa_fisica),1,60) nm_pessoa_evento, 
	dt_alteracao dt_evento, 
	dt_atualizacao_nrec dt_evento_real, 
	nr_seq_motivo, 
	substr(obter_desc_motivo_interrupcao(nr_seq_motivo),1,60) ds_motivo, 
	qt_dosagem qt_veloc, 
	ie_tipo_dosagem, 
	qt_vol_infundido, 
	qt_vol_desprezado, 
	ds_duracao, 
	ds_observacao, 
	qt_vol_parcial, 
	qt_volume_fase, 
	qt_volume_parcial 
from	prescr_solucao_evento 
where	ie_tipo_solucao = 2 

union
 
select	ie_tipo_solucao, 
	nr_prescricao nr_prescricao, 
	nr_seq_procedimento nr_seq_solucao, 
	nr_sequencia nr_seq_evento, 
	ie_alteracao ie_evento, 
	substr(obter_valor_dominio(1662,ie_alteracao),1,240) ds_evento, 
	cd_pessoa_fisica cd_pessoa_evento, 
	substr(obter_nome_pf(cd_pessoa_fisica),1,60) nm_pessoa_evento, 
	dt_alteracao dt_evento, 
	dt_atualizacao_nrec dt_evento_real, 
	nr_seq_motivo, 
	substr(obter_desc_motivo_interrupcao(nr_seq_motivo),1,60) ds_motivo, 
	qt_dosagem qt_veloc, 
	ie_tipo_dosagem, 
	qt_vol_infundido, 
	qt_vol_desprezado, 
	ds_duracao, 
	ds_observacao, 
	qt_vol_parcial, 
	qt_volume_fase, 
	qt_volume_parcial 
from	prescr_solucao_evento 
where	ie_tipo_solucao = 3 

union
 
select	ie_tipo_solucao, 
	nr_prescricao nr_prescricao, 
	nr_seq_nut nr_seq_solucao, 
	nr_sequencia nr_seq_evento, 
	ie_alteracao ie_evento, 
	substr(obter_valor_dominio(1662,ie_alteracao),1,240) ds_evento, 
	cd_pessoa_fisica cd_pessoa_evento, 
	substr(obter_nome_pf(cd_pessoa_fisica),1,60) nm_pessoa_evento, 
	dt_alteracao dt_evento, 
	dt_atualizacao_nrec dt_evento_real, 
	nr_seq_motivo, 
	substr(obter_desc_motivo_interrupcao(nr_seq_motivo),1,60) ds_motivo, 
	qt_dosagem qt_veloc, 
	ie_tipo_dosagem, 
	qt_vol_infundido, 
	qt_vol_desprezado, 
	ds_duracao, 
	ds_observacao, 
	qt_vol_parcial, 
	qt_volume_fase, 
	qt_volume_parcial 
from	prescr_solucao_evento 
where	ie_tipo_solucao = 4 

union
 
select	ie_tipo_solucao, 
	nr_prescricao nr_prescricao, 
	nr_seq_nut_neo nr_seq_solucao, 
	nr_sequencia nr_seq_evento, 
	ie_alteracao ie_evento, 
	substr(obter_valor_dominio(1662,ie_alteracao),1,240) ds_evento, 
	cd_pessoa_fisica cd_pessoa_evento, 
	substr(obter_nome_pf(cd_pessoa_fisica),1,60) nm_pessoa_evento, 
	dt_alteracao dt_evento, 
	dt_atualizacao_nrec dt_evento_real, 
	nr_seq_motivo, 
	substr(obter_desc_motivo_interrupcao(nr_seq_motivo),1,60) ds_motivo, 
	qt_dosagem qt_veloc, 
	ie_tipo_dosagem, 
	qt_vol_infundido, 
	qt_vol_desprezado, 
	ds_duracao, 
	ds_observacao, 
	qt_vol_parcial, 
	qt_volume_fase, 
	qt_volume_parcial 
from	prescr_solucao_evento 
where	ie_tipo_solucao = 5;

