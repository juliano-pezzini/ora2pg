-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW cus_orcamento_custo_v (cd_estabelecimento, cd_tabela_custo, cd_centro_controle, cd_natureza_gasto, dt_atualizacao, nm_usuario, vl_orcado, vl_avista, vl_distribuido, vl_receb_distrib, qt_dias_prazo, vl_a_distribuir, ie_tipo_gasto_orc, dt_mes_referencia, cd_grupo_natureza_gasto, ds_grupo_natureza_gasto, ds_natureza_gasto, ds_centro_controle, cd_unidade_medida, cd_classif_result, nm_pessoa_resp, ie_tipo_centro_controle, ie_centro_resultado, ie_tipo_gasto, ie_natureza_gasto) AS select	a.cd_estabelecimento,
	a.cd_tabela_custo,
	a.cd_centro_controle,
	a.cd_natureza_gasto,
	a.dt_atualizacao,
	a.nm_usuario,
	a.vl_orcado,
	a.vl_avista,
	a.vl_distribuido,
	a.vl_receb_distrib,
	a.qt_dias_prazo,
	a.vl_a_distribuir,
	a.ie_tipo_gasto ie_tipo_gasto_orc,
	t.dt_mes_referencia,
	g.cd_grupo_natureza_gasto,
	substr(cus_OBTER_DESC_GNG(g.nr_sequencia),1,100) ds_grupo_natureza_gasto,
	substr(Obter_desc_natur_gasto(a.cd_natureza_gasto,a.cd_estabelecimento),1,255) ds_natureza_gasto,
	substr(obter_desc_centro_controle(a.cd_centro_controle,a.cd_estabelecimento),1,60) ds_centro_controle,
	c.cd_unidade_medida,
	c.cd_classif_result,
	c.nm_pessoa_resp,
	c.ie_tipo_centro_controle,
	c.ie_centro_resultado,
	g.ie_tipo_gasto,
	n.ie_natureza_gasto
FROM 	grupo_natureza_gasto g,
	natureza_gasto n,
	centro_controle c,
	tabela_custo t,
	orcamento_custo a
where 	a.cd_centro_controle	= c.cd_centro_controle
and	a.cd_tabela_custo		= t.cd_tabela_custo
and 	a.cd_natureza_gasto	= n.cd_natureza_gasto
and 	g.nr_sequencia		= n.nr_seq_gng;

