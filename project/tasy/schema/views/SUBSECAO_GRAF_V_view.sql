-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW subsecao_graf_v (linked_data, section_title, row_id, row_description, row_field, row_table, nr_seq_apresentacao, id_secao, ds_total_dose, ds_unidade_medida, ds_material, ds_informacao_complementar, ds_linha_complementar, ie_temporario, ie_timeout_sv, vl_timeout_sv, nr_altura, vl_min, vl_max, vl_med, ds_cor, ie_symbol_legend, ie_style_legend, ie_tipo, ie_tipo_agrupamento, cd_tipo_escala, vl_intervalo_escala, ds_cor_escala, ds_tooltip, ie_image_legend, ie_trend, ie_line, nr_size, ds_caminho_imagem, ds_icone_inter_medic) AS SELECT
                c.nr_seq_linked_data LINKED_DATA,
                c.ds_nome SECTION_TITLE,
                d.nr_sequencia ROW_ID,
                d.ds_informacao ROW_DESCRIPTION,
                d.nm_atributo ROW_FIELD,
                d.nm_tabela ROW_TABLE,
                d.nr_seq_apresentacao ,
                c.nr_sequencia id_secao,
                d.ds_total_dose,
                d.ds_unidade_medida,
                d.ds_material,
                d.ds_informacao_complementar,
                d.ds_linha_complementar,
                d.ie_temporario,
                d.ie_timeout_sv,
                d.vl_timeout_sv,
                d.nr_altura,
                d.vl_min,
                d.vl_max,
                d.vl_med,
        d.ds_cor,
        d.ie_symbol_legend,
        d.ie_style_legend,
        d.ie_tipo,
        d.ie_tipo_agrupamento,
        d.cd_tipo_escala,
        d.vl_intervalo_escala,
        d.ds_cor_escala,
        d.ds_tooltip,
                d.ie_image_legend,
                d.ie_trend,
                d.ie_line,
                d.nr_size,
                d.ds_caminho_imagem,
				d.ds_icone_inter_medic
             FROM pepo_modelo a,
                  w_flowsheet_cirurgia_pac b,
                  w_flowsheet_cirurgia_grupo c,
                  w_flowsheet_cirurgia_info d
             WHERE
                a.NR_SEQUENCIA           = b.nr_seq_modelo
                AND b.nr_sequencia       = c.nr_seq_flowsheet
                AND c.nr_sequencia       = d.nr_seq_grupo
                AND coalesce(d.ie_visivel, 'S') = 'S'
             ORDER BY d.nr_seq_apresentacao, d.ds_informacao;

