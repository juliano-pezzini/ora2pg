-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW pls_movto_contab_prod_med_v (ie_status, nr_seq_conta_proc, nr_seq_conta_mat, nr_seq_evento_movimento, nr_seq_pag_tributo, cd_conta_cred, cd_conta_deb, cd_classif_cred, cd_classif_deb, nr_seq_esquema, nr_sequencia, nr_seq_grupo_ans, nr_seq_item_mensalidade, ds_conta_glosa, ie_ato_cooperado, nr_seq_conta_copartic, nr_seq_conta_pos_estab, nr_seq_atualizacao, ds_tipo_despesa, nr_seq_conta, nr_seq_rec_resumo_item, nr_seq_pp_base_atual_trib, nr_seq_pp_item_lote) AS select	a.ie_status,
	a.nr_seq_conta_proc,
	null nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_cred,
	b.cd_conta_deb,
	b.cd_classif_cred,
	b.cd_classif_deb,
	b.nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Conta' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(3796, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
FROM	pls_movimento_contabil	a,
	pls_conta_proc		b
where	a.nr_seq_conta_proc	= b.nr_sequencia
and	a.nr_seq_resumo is null
and	ie_conta_glosa	= 'C'

union all

select	a.ie_status,
	b.nr_seq_conta_proc,
	b.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_cred,
	b.cd_conta_deb,
	b.cd_classif_cred,
	b.cd_classif_deb,
	b.nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Conta' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(3796, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil		a,
	pls_conta_medica_resumo		b
where	a.nr_seq_resumo	= b.nr_sequencia
and	ie_conta_glosa	= 'C'

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	a.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_cred,
	b.cd_conta_deb,
	b.cd_classif_cred,
	b.cd_classif_deb,
	b.nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Conta' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(1854, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_conta_mat		b
where	a.nr_seq_conta_mat	= b.nr_sequencia
and	a.nr_seq_resumo is null
and	ie_conta_glosa	= 'C'

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	null nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_glosa_cred cd_conta_cred,
	b.cd_conta_glosa_deb cd_conta_deb,
	b.cd_classif_glosa_cred cd_classif_cred,
	b.cd_classif_glosa_deb cd_classif_deb,
	b.nr_seq_esquema_glosa nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Glosa' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(3796, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_conta_proc		b
where	a.nr_seq_conta_proc	= b.nr_sequencia
and	ie_conta_glosa	= 'G'

union all

select	a.ie_status,
	b.nr_seq_conta_proc,
	b.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_glosa_cred cd_conta_cred,
	b.cd_conta_glosa_deb cd_conta_deb,
	b.cd_classif_glosa_cred cd_classif_cred,
	b.cd_classif_glosa_deb cd_classif_deb,
	b.nr_seq_esquema_glosa nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Glosa' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(3796, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil		a,
	pls_conta_medica_resumo		b
where	a.nr_seq_resumo	= b.nr_sequencia
and	ie_conta_glosa	= 'G'

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	a.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_glosa_cred cd_conta_cred,
	b.cd_conta_glosa_deb cd_conta_deb,
	b.cd_classif_glosa_cred cd_classif_cred,
	b.cd_classif_glosa_deb cd_classif_deb,
	b.nr_seq_esquema_glosa nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Glosa' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(1854, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_conta_mat		b
where	a.nr_seq_conta_mat	= b.nr_sequencia
and	ie_conta_glosa	= 'G'

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	null nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_cred_tx_inter cd_conta_cred,
	b.cd_conta_deb_tx_inter cd_conta_deb,
	b.cd_classif_tx_inter_cred cd_classif_cred,
	b.cd_classif_tx_inter_deb cd_classif_deb,
	b.nr_seq_esquema_tx_inter nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Conta - Taxa interc창mbio' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(3796, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_conta_proc		b
where	a.nr_seq_conta_proc	= b.nr_sequencia
and	ie_conta_glosa	= 'TC'

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	a.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_cred_tx_inter cd_conta_cred,
	b.cd_conta_deb_tx_inter cd_conta_deb,
	b.cd_classif_tx_inter_cred cd_classif_cred,
	b.cd_classif_tx_inter_deb cd_classif_deb,
	b.nr_seq_esquema_tx_inter nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Conta - Taxa interc창mbio' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(1854, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_conta_mat		b
where	a.nr_seq_conta_mat	= b.nr_sequencia
and	ie_conta_glosa	= 'TC'

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	null nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_cred_tx_inter_glosa cd_conta_cred,
	b.cd_conta_deb_tx_inter_glosa cd_conta_deb,
	b.cd_classif_tx_glosa_cred cd_classif_cred,
	b.cd_classif_tx_glosa_deb cd_classif_deb,
	b.nr_seq_esquema_tx_inter_glosa nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Glosa - Taxa interc창mbio' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(3796, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_conta_proc		b
where	a.nr_seq_conta_proc	= b.nr_sequencia
and	ie_conta_glosa	= 'TG'

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	a.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_cred_tx_inter_glosa cd_conta_cred,
	b.cd_conta_deb_tx_inter_glosa cd_conta_deb,
	b.cd_classif_tx_glosa_cred cd_classif_cred,
	b.cd_classif_tx_glosa_deb cd_classif_deb,
	b.nr_seq_esquema_tx_inter_glosa nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Glosa - Taxa interc창mbio' ds_conta_glosa,
	b.ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	obter_valor_dominio(1854, b.ie_tipo_despesa) ds_tipo_despesa,
	b.nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_conta_mat		b
where	a.nr_seq_conta_mat	= b.nr_sequencia
and	ie_conta_glosa	= 'TG'

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	a.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_credito,
	b.cd_conta_debito,
	b.cd_classif_cred,
	b.cd_classif_deb,
	b.nr_seq_esquema,
	a.nr_sequencia,
	null nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Evento' ds_conta_glosa,
	null ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	null ds_tipo_despesa,
	null nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_evento_movimento	b
where	a.nr_seq_evento_movimento	= b.nr_sequencia

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	a.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_credito,
	b.cd_conta_debito,
	b.cd_classif_credito,
	b.cd_classif_debito,
	b.nr_seq_esquema,
	a.nr_sequencia,
	null nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Evento (novo)' ds_conta_glosa,
	null ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	null ds_tipo_despesa,
	null nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_pp_item_lote	b
where	a.nr_seq_pp_item_lote	= b.nr_sequencia

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	a.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_cred,
	b.cd_conta_deb,
	b.cd_classif_cred,
	b.cd_classif_deb,
	b.nr_seq_esquema,
	a.nr_sequencia,
	null nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Tributo' ds_conta_glosa,
	null ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	null ds_tipo_despesa,
	null nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_pag_prest_venc_trib	b
where	a.nr_seq_pag_tributo	= b.nr_sequencia
and	a.nr_seq_pag_item_trib is null

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	a.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_cred,
	b.cd_conta_deb,
	b.cd_classif_cred,
	b.cd_classif_deb,
	b.nr_seq_esquema,
	a.nr_sequencia,
	null nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Tributo' ds_conta_glosa,
	null ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	null ds_tipo_despesa,
	null nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_pag_item_trib	b
where	a.nr_seq_pag_item_trib	= b.nr_sequencia

union all

select	a.ie_status,
	a.nr_seq_conta_proc,
	a.nr_seq_conta_mat,
	a.nr_seq_evento_movimento,
	a.nr_seq_pag_tributo,
	b.cd_conta_credito,
	b.cd_conta_debito,
	b.cd_classif_credito,
	b.cd_classif_debito,
	b.nr_seq_esquema,
	a.nr_sequencia,
	null nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Tributo (novo)' ds_conta_glosa,
	null ie_ato_cooperado,
	a.nr_seq_conta_copartic,
	a.nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	null ds_tipo_despesa,
	null nr_seq_conta,
	null nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil	a,
	pls_pp_base_atual_trib	b
where	a.nr_seq_pp_base_atual_trib = b.nr_sequencia

union all

select	a.ie_status,
	null nr_seq_proc_rec,
	null nr_seq_mat_rec,
	null nr_seq_evento_movimento,
	null nr_seq_pag_tributo,
	b.cd_conta_cred,
	b.cd_conta_deb,
	b.cd_classif_cred,
	b.cd_classif_deb,
	b.nr_seq_esquema,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Lib Rec Glosa' ds_conta_glosa,
	b.ie_ato_cooperado,
	null nr_seq_conta_copartic,
	null nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	null ds_tipo_despesa,
	b.nr_seq_conta,
	a.nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil		a,
	pls_conta_rec_resumo_item	b
where	a.nr_seq_rec_resumo_item	= b.nr_sequencia
and	a.ie_tipo_movimento		= '21'

union all

select	a.ie_status,
	null nr_seq_proc_rec,
	null nr_seq_mat_rec,
	null nr_seq_evento_movimento,
	null nr_seq_pag_tributo,
	b.cd_conta_cred_apres,
	b.cd_conta_deb_apres,
	b.cd_classif_cred_apres,
	b.cd_classif_deb_apres,
	b.nr_seq_esquema_apres,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Apres Rec Glosa' ds_conta_glosa,
	b.ie_ato_cooperado,
	null nr_seq_conta_copartic,
	null nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	null ds_tipo_despesa,
	b.nr_seq_conta,
	a.nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil		a,
	pls_conta_rec_resumo_item	b
where	a.nr_seq_rec_resumo_item	= b.nr_sequencia
and	a.ie_tipo_movimento		= '20'

union all

select	a.ie_status,
	null nr_seq_proc_rec,
	null nr_seq_mat_rec,
	null nr_seq_evento_movimento,
	null nr_seq_pag_tributo,
	b.cd_conta_cred_pag,
	b.cd_conta_deb_pag,
	b.cd_classif_cred_pag,
	b.cd_classif_deb_pag,
	b.nr_seq_esquema_pag,
	a.nr_sequencia,
	b.nr_seq_grupo_ans,
	a.nr_seq_item_mensalidade,
	'Pag Rec Glosa' ds_conta_glosa,
	b.ie_ato_cooperado,
	null nr_seq_conta_copartic,
	null nr_seq_conta_pos_estab,
	a.nr_seq_atualizacao,
	null ds_tipo_despesa,
	b.nr_seq_conta,
	a.nr_seq_rec_resumo_item,
	a.nr_seq_pp_base_atual_trib,
	a.nr_seq_pp_item_lote
from	pls_movimento_contabil		a,
	pls_conta_rec_resumo_item	b
where	a.nr_seq_rec_resumo_item	= b.nr_sequencia
and	a.ie_tipo_movimento		= '22';

