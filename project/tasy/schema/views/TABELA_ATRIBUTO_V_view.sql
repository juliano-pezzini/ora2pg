-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW tabela_atributo_v (nm_tabela, nm_atributo, nr_sequencia_criacao, ie_obrigatorio, ie_tipo_atributo, dt_atualizacao, nm_usuario, qt_tamanho, qt_decimais, ie_criar_alterar, ds_atributo, ie_situacao, qt_tamanho_calculo, qt_seq_inicio, qt_seq_incremento, dt_criacao, vl_default, ie_componente, ds_valores, cd_dominio, qt_tam_delphi, ds_label, nr_seq_apresent, ds_label_grid, nr_seq_ordem, qt_coluna, ds_mascara, qt_desloc_direita, qt_tam_label, qt_tam_grid, ie_readonly, ie_tabstop, nr_seq_localizador, qt_altura, ie_criar_descricao, nm_atributo_pai, ie_log_exclusao, nr_seq_tabstop, nr_seq_grid, qt_tam_valores, ds_filter, ds_label_longo, ds_label_longo2, ie_converte_negativo, ds_cor, ie_criar_desc_fk, qt_tam_fonte, ds_estilo_fonte, ie_aplicabilidade_estilo, nr_seq_regra_um, ie_log_update, ie_dbl_click_readonly, ie_tipo_botao, ie_totalizar, cd_exp_valores, nr_seq_dic_objeto, ie_tipo_date, nm_time_zone_attribute) AS select	NM_TABELA,
	NM_ATRIBUTO,
	NR_SEQUENCIA_CRIACAO,
	IE_OBRIGATORIO,
	IE_TIPO_ATRIBUTO,
	DT_ATUALIZACAO,
	NM_USUARIO,
	QT_TAMANHO,
	QT_DECIMAIS,
	IE_CRIAR_ALTERAR,
	SUBSTR(obter_desc_expressao(cd_exp_desc, ds_atributo),1,254) ds_atributo,
	IE_SITUACAO,
	QT_TAMANHO_CALCULO,
	QT_SEQ_INICIO,
	QT_SEQ_INCREMENTO,
	DT_CRIACAO,
	VL_DEFAULT,
	IE_COMPONENTE,
	SUBSTR(obter_desc_expressao(cd_exp_valores, ds_valores),1,254) ds_valores,
	CD_DOMINIO,
	QT_TAM_DELPHI,
	SUBSTR(obter_desc_expressao(cd_exp_label, ds_label),1,254) DS_LABEL,
	NR_SEQ_APRESENT,
	substr(obter_desc_expressao(cd_exp_label_grid, ds_label_grid),1,254) DS_LABEL_GRID,
	NR_SEQ_ORDEM,
	QT_COLUNA,
	DS_MASCARA,
	QT_DESLOC_DIREITA,
	QT_TAM_LABEL,
	QT_TAM_GRID,
	IE_READONLY,
	IE_TABSTOP,
	NR_SEQ_LOCALIZADOR,
	QT_ALTURA,
	IE_CRIAR_DESCRICAO,
	NM_ATRIBUTO_PAI,
	IE_LOG_EXCLUSAO,
	NR_SEQ_TABSTOP,
	NR_SEQ_GRID,
	length(ds_valores) qt_tam_valores,
	substr(ds_filter,1,254) ds_filter,
	substr(obter_desc_expressao(cd_exp_label_longo, ds_label_longo),1,254) ds_label_longo,
	substr(obter_desc_expressao(cd_exp_label_longo, ds_label_longo),255,254) ds_label_longo2,
	ie_converte_negativo,
	ds_cor,
	coalesce(ie_criar_desc_fk,'S') ie_criar_desc_fk,
	qt_tam_fonte,
	ds_estilo_fonte,
	ie_aplicabilidade_estilo,
	CASE WHEN coalesce(ie_regra_unid_medida,'N')='N' THEN null  ELSE obter_atrib_unid_med(nm_tabela, nm_atributo, LOCALTIMESTAMP) END  nr_seq_regra_um,
	ie_log_update,
	ie_dbl_click_readonly,
	ie_tipo_botao,
	ie_totalizar,
	cd_exp_valores,
	nr_seq_dic_objeto,
	ie_tipo_date,
    nm_time_zone_attribute
FROM tabela_atributo;

