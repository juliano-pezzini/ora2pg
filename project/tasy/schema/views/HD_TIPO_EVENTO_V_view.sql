-- Generated by Ora2Pg, the Oracle database Schema converter, version 23.1
-- Copyright 2000-2022 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=srv-dbora-03.whebdc.com.br;service_name=DEV_1815;port=1521

SET client_encoding TO 'UTF8';

CREATE OR REPLACE VIEW hd_tipo_evento_v (nr_seq_unid_dialise, ds_unid_dialise, cd_pessoa_fisica, nm_pessoa_fisica, dt_referencia, ds_tipo_evento, nr_sequencia, cd_estabelecimento, cd_empresa, nr_seq_tipo_evento) AS select	a.nr_seq_unid_dialise,
		substr(HD_OBTER_DESC_UNID_DIALISE(a.nr_seq_unid_dialise),1,100) ds_unid_dialise, 
		obter_somente_numero(a.cd_pessoa_fisica) cd_pessoa_fisica, 
		substr(obter_nome_pf(a.cd_pessoa_fisica),1,100) nm_pessoa_fisica, 
		dt_dialise dt_referencia, 
		substr(obter_descricao_padrao('HD_TIPO_EVENTO','DS_TIPO_EVENTO',b.nr_seq_tipo_evento),1,80) ds_tipo_evento, 
		a.nr_sequencia, 
		c.cd_estabelecimento, 
		obter_empresa_estab(c.cd_estabelecimento) cd_empresa, 
		b.nr_seq_tipo_evento 
	FROM	hd_dialise a, 
		hd_dialise_evento b, 
		hd_pac_renal_cronico c 
	where	1 = 1 
	and	a.nr_sequencia = b.nr_seq_dialise 
	and	a.cd_pessoa_fisica = c.cd_pessoa_fisica;

